webpackJsonp([0],[function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_reactRouter2=_interopRequireDefault(_reactRouter),_routes=__webpack_require__(200),_routes2=_interopRequireDefault(_routes);_reactRouter2["default"].run(_routes2["default"],_reactRouter2["default"].HistoryLocation,function(Handler){_react2["default"].render(_react2["default"].createElement(Handler,null),document.getElementById("app"))})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_App=__webpack_require__(201),_App2=_interopRequireDefault(_App),_Home=__webpack_require__(222),_Home2=_interopRequireDefault(_Home),_Login=__webpack_require__(233),_Login2=_interopRequireDefault(_Login),_User=__webpack_require__(236),_User2=_interopRequireDefault(_User),_Set=__webpack_require__(242),_Set2=_interopRequireDefault(_Set),_Notice=__webpack_require__(248),_Notice2=_interopRequireDefault(_Notice),_StarList=__webpack_require__(251),_StarList2=_interopRequireDefault(_StarList),_NotFound=__webpack_require__(254),_NotFound2=_interopRequireDefault(_NotFound),_PostAnimate=__webpack_require__(255),_PostAnimate2=_interopRequireDefault(_PostAnimate),_PostMusic=__webpack_require__(262),_PostMusic2=_interopRequireDefault(_PostMusic),_PostArticle=__webpack_require__(265),_PostArticle2=_interopRequireDefault(_PostArticle),_MyContribute=__webpack_require__(273),_MyContribute2=_interopRequireDefault(_MyContribute),_ProfileCenter=__webpack_require__(276),_ProfileCenter2=_interopRequireDefault(_ProfileCenter),_Follow=__webpack_require__(279),_Follow2=_interopRequireDefault(_Follow),_Contribute=__webpack_require__(285),_Contribute2=_interopRequireDefault(_Contribute),_Article=__webpack_require__(288),_Article2=_interopRequireDefault(_Article),_List=__webpack_require__(301),_List2=_interopRequireDefault(_List),_Member=__webpack_require__(304),_Member2=_interopRequireDefault(_Member),_ConArticle=__webpack_require__(310),_ConArticle2=_interopRequireDefault(_ConArticle),_Music=__webpack_require__(314),_Music2=_interopRequireDefault(_Music),_MemberCenter=__webpack_require__(317),_MemberCenter2=_interopRequireDefault(_MemberCenter),_MemberFollow=__webpack_require__(318),_MemberFollow2=_interopRequireDefault(_MemberFollow),_Animate=__webpack_require__(321),_Animate2=_interopRequireDefault(_Animate);exports["default"]=_react2["default"].createElement(_reactRouter.Route,{handler:_App2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:"/",handler:_Home2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"/login",handler:_Login2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"/article"},_react2["default"].createElement(_reactRouter.Route,{path:":id",handler:_Article2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/music"},_react2["default"].createElement(_reactRouter.Route,{path:":id",handler:_Music2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/animate"},_react2["default"].createElement(_reactRouter.Route,{path:":id",handler:_Animate2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/member",handler:_Member2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:":domain",hanlder:_Contribute2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_ConArticle2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"contributes"},_react2["default"].createElement(_reactRouter.Route,{path:":column",handler:_ConArticle2["default"]})))),_react2["default"].createElement(_reactRouter.Route,{path:"/member"},_react2["default"].createElement(_reactRouter.Route,{path:":domain",handler:_MemberCenter2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"star",handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":follow",handler:_MemberFollow2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:":skip",handler:_MemberFollow2["default"]})))),_react2["default"].createElement(_reactRouter.Route,{path:"profile",handler:_User2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_ProfileCenter2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"setting",handler:_Set2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"center",handler:_ProfileCenter2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"contribute",handler:_Contribute2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:"/profile/contribute/:column",handler:_MyContribute2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"notice",handler:_Notice2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"star",handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"/post"},_react2["default"].createElement(_reactRouter.Route,{path:"animate",handler:_PostAnimate2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"music",handler:_PostMusic2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"article",handler:_PostArticle2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:":follow",handler:_Follow2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_Follow2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":page",handler:_Follow2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"*",handler:_ProfileCenter2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:":column",handler:_List2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_List2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":skip",handler:_List2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"*",handler:_NotFound2["default"]}))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_Nav=__webpack_require__(202),_Nav2=_interopRequireDefault(_Nav),_Footer=__webpack_require__(221),_Footer2=_interopRequireDefault(_Footer),App=function(_React$Component){function App(){return _classCallCheck(this,App),_possibleConstructorReturn(this,Object.getPrototypeOf(App).apply(this,arguments))}return _inherits(App,_React$Component),_createClass(App,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"mon-app"},_react2["default"].createElement(_Nav2["default"],null),_react2["default"].createElement(_reactRouter.RouteHandler,null),_react2["default"].createElement(_Footer2["default"],null))}}]),App}(_react2["default"].Component);exports["default"]=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_NavActions=__webpack_require__(203),_NavActions2=_interopRequireDefault(_NavActions),_NavStore=__webpack_require__(217),_NavStore2=_interopRequireDefault(_NavStore),_NoticePoint=__webpack_require__(218),_NoticePoint2=_interopRequireDefault(_NoticePoint),Nav=function(_React$Component){function Nav(props){_classCallCheck(this,Nav);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Nav).call(this,props));return _this.state=_NavStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Nav,_React$Component),_createClass(Nav,[{key:"componentDidMount",value:function(){_NavStore2["default"].listen(this.onChange),_NavActions2["default"].checkLogin()}},{key:"componentWillUnmount",value:function(){_NavStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"signOut",value:function(){_NavActions2["default"].signOut()}},{key:"search",value:function(){_NavActions2["default"].search(this.state.search)}},{key:"render",value:function(){var SUBNAV=void 0;return SUBNAV=this.state.loginState?_react2["default"].createElement("ul",{className:"nav navbar-nav navbar-right mon-subnav"},_react2["default"].createElement("li",{className:"dropdown"},_react2["default"].createElement("a",{href:"#",className:"mon-user-nav dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},_react2["default"].createElement("img",{src:this.state.avatar,width:"30",alt:"loading"})," ",_react2["default"].createElement("span",{className:"caret"}),_react2["default"].createElement(_NoticePoint2["default"],null)),_react2["default"].createElement("ul",{className:"dropdown-menu"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile",className:"mon-user"},_react2["default"].createElement("span",null,"Signed as "),_react2["default"].createElement("span",null,this.state.userName))),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/setting"},"设置")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/notice"},"通知")),_react2["default"].createElement("li",{role:"separator",className:"divider"}),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"javascript:;",onClick:this.signOut.bind(this)},"退出"))))):_react2["default"].createElement("ul",{className:"nav navbar-nav navbar-right"},_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"/login#login"},"登陆")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"/login#sign"},"注册"))),_react2["default"].createElement("nav",{className:"navbar navbar-default navbar-fixed-top mon-nav",id:"mon-fixed-nav"},_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"navbar-header"},_react2["default"].createElement("button",{className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#my-nav"},_react2["default"].createElement("span",{className:"sr-only"},"Toggle"),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"})),_react2["default"].createElement(_reactRouter.Link,{to:"/",className:"navbar-brand icon-name"},"Monster")),_react2["default"].createElement("div",{className:"collapse navbar-collapse",id:"my-nav"},_react2["default"].createElement("ul",{className:"nav navbar-nav"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/"},"首页")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/animates"},"动漫")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/musics"},"音乐")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/articles"},"文章"))),_react2["default"].createElement("form",{className:"navbar-form navbar-left",role:"search"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("input",{type:"text",className:"form-control",placeholder:"输入搜索",onChange:_NavActions2["default"].changeSearch})),_react2["default"].createElement("a",{className:"btn btn-default search-btn",onClick:this.search.bind(this)},"Submit")),SUBNAV)))}}]),Nav}(_react2["default"].Component);exports["default"]=Nav},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),NavActions=function(){function NavActions(){_classCallCheck(this,NavActions),this.generateActions("changeState","checkLoginSuccess","checkLoginFail","signOutSuccess","signOutFail","getProfileLocal","searchSuccess","changeSearch")}return _createClass(NavActions,[{key:"checkLogin",value:function(){var _this=this,sessionStorage=window.sessionStorage,userProfile=sessionStorage.getItem("profile"),localStorage=window.localStorage,localProfile=JSON.parse(localStorage.getItem("user"));null!==userProfile&&null!==localProfile&&""!==userProfile&&""!==localProfile&&userProfile._id===localProfile.data._id?this.actions.getProfileLocal(userProfile):$.ajax({url:"/api/session",cache:!1,type:"post",dataType:"json"}).done(function(data){_this.actions.checkLoginSuccess(data)}).fail(function(data){_this.actions.checkLoginFail()})}},{key:"signOut",value:function(){var _this2=this;$.ajax({url:"/api/signout",type:"post",cache:!1,dataType:"json"}).done(function(data){_this2.actions.signOutSuccess(data)}).fail(function(data){_this2.actions.signOutFail()})}},{key:"search",value:function(what){var _this3=this;$.ajax({url:"/api/search",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,type:"post",data:JSON.stringify({what:what,option:{skip:0,limit:10}})}).done(function(data){_this3.actions.searchSuccess(data)}).fail(function(){toastr.warning("网络有问题")})}}]),NavActions}();exports["default"]=_alt2["default"].createActions(NavActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(205),_alt2=_interopRequireDefault(_alt);exports["default"]=new _alt2["default"]},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_NavActions=__webpack_require__(203),_NavActions2=_interopRequireDefault(_NavActions),NavStore=function(){function NavStore(){_classCallCheck(this,NavStore),this.bindActions(_NavActions2["default"]),this.loginState=!1,this.userName="",this.avatar="",this.search=""}return _createClass(NavStore,[{key:"onChangeState",value:function(data){this.loginState=!0,this.userName=data.username,this.avatar=void 0===data._json?data.avatar_url:data._json.avatar_url,this.domain=void 0===data._json?data.domain:data._json.username}},{key:"onCheckLoginSuccess",value:function(data){200===data.code&&this.onChangeState(data.raw)}},{key:"onCheckLoginFail",value:function(){toastr.error("服务器错误")}},{key:"onSignOutSuccess",value:function(data){if(200===data.code){var localStorage=window.localStorage,sessionStorage=window.sessionStorage;localStorage.setItem("user",null),sessionStorage.setItem("profile",null),window.location="/"}else 400===data.code?toastr.error("退出不成功"):406===data.code&&toastr.warning("你还没登陆")}},{key:"onSignOutFail",value:function(){toastr.error("服务器错误")}},{key:"onGetProfileLocal",value:function(data){this.loginState=!0,this.userName=data.username,this.avatar=void 0===data._json?data.avatar_url:data._json.avatar_url,this.domain=void 0===data._json?data.domain:data._json.username}},{key:"onChangeSearch",value:function(event){console.log("hehe"),this.search=event.target.value,console.log(this.search)}},{key:"onSearchSuccess",value:function(data){console.log(data)}}]),NavStore}();exports["default"]=_alt2["default"].createStore(NavStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticePointActions=__webpack_require__(219),_NoticePointActions2=_interopRequireDefault(_NoticePointActions),_NoticePointStore=__webpack_require__(220),_NoticePointStore2=_interopRequireDefault(_NoticePointStore),NoticePoint=function(_React$Component){function NoticePoint(props){_classCallCheck(this,NoticePoint);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoticePoint).call(this,props));return _this.state=_NoticePointStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(NoticePoint,_React$Component),_createClass(NoticePoint,[{key:"componentDidMount",value:function(){_NoticePointStore2["default"].listen(this.onChange),_NoticePointActions2["default"].getNotices()}},{key:"componentWillUnmount",value:function(){_NoticePointStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var disabled=0===this.state.count?"mon-disabled":"";return _react2["default"].createElement("span",{ref:"notice",className:"mon-notice-point badge "+disabled},this.state.count)}}]),NoticePoint}(_react2["default"].Component);exports["default"]=NoticePoint},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),NoticePointActions=function(){function NoticePointActions(){_classCallCheck(this,NoticePointActions),this.generateActions("getNoticesSuccess","getNoticesFail")}return _createClass(NoticePointActions,[{key:"getNotices",value:function(){var _this=this;$.ajax({url:"/api/notices",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getNoticesSuccess(data)}).fail(function(){_this.actions.getNoticesFail()})}}]),NoticePointActions}();exports["default"]=_alt2["default"].createActions(NoticePointActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_NoticePointActions=__webpack_require__(219),_NoticePointActions2=_interopRequireDefault(_NoticePointActions),NoticePointStore=function(){function NoticePointStore(){_classCallCheck(this,NoticePointStore),this.bindActions(_NoticePointActions2["default"]),this.count=0}return _createClass(NoticePointStore,[{key:"onGetNoticesSuccess",value:function(data){200===data.code?this.count=data.raw.length:500===data.code&&toastr.warning("获取通知失败")}},{key:"onGetNoticesFail",value:function(){toastr.warning("获取通知失败")}}]),NoticePointStore}();exports["default"]=_alt2["default"].createStore(NoticePointStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),Footer=function(_React$Component){function Footer(){return _classCallCheck(this,Footer),_possibleConstructorReturn(this,Object.getPrototypeOf(Footer).apply(this,arguments))}return _inherits(Footer,_React$Component),_createClass(Footer,[{key:"render",value:function(){return _react2["default"].createElement("footer",{className:"mon-footer"},_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"友情链接"),_react2["default"].createElement("a",{href:"http://www.bilibili.com/"},"哔哩哔哩"),_react2["default"].createElement("a",{href:"http://www.acfun.tv/"},"acfun"),_react2["default"].createElement("a",{href:"http://music.163.com/"},"网易云音乐")),_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"技术栈"),_react2["default"].createElement("a",{href:"http://www.gulpjs.com.cn/"},_react2["default"].createElement("img",{src:"/img/gulp.svg",width:"40",alt:"loading"})),_react2["default"].createElement("a",{href:"https://nodejs.org/en/"},_react2["default"].createElement("img",{src:"/img/node.svg",width:"50",alt:"loading"})),_react2["default"].createElement("a",{href:"http://www.bootcss.com/"},"bootstrap"),_react2["default"].createElement("a",{href:"http://facebook.github.io/react/"},"react"),_react2["default"].createElement("a",{href:"https://www.mongodb.org"},_react2["default"].createElement("img",{src:"/img/mongo.png",width:"50",alt:"loading"})),_react2["default"].createElement("a",{href:"http://www.bootcss.com/p/lesscss/"},_react2["default"].createElement("img",{src:"/img/less.png",width:"50",alt:"loading"}))),_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"关注我的账号"),_react2["default"].createElement("a",{href:"http://weibo.com/u/1894138207/"},_react2["default"].createElement("span",{className:"fa fa-weibo"})),_react2["default"].createElement("a",{href:"https://github.com/Toreant/"},_react2["default"].createElement("span",{className:"fa fa-github"})),_react2["default"].createElement("a",{href:"http://music.163.com/#/user/home?id=38777415"},"网易云音乐"))))}}]),Footer}(_react2["default"].Component);exports["default"]=Footer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_HomeActions=__webpack_require__(223),_HomeActions2=_interopRequireDefault(_HomeActions),_HomeStore=__webpack_require__(224),_HomeStore2=_interopRequireDefault(_HomeStore),_Carousel=__webpack_require__(225),_Carousel2=_interopRequireDefault(_Carousel),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_Weather=__webpack_require__(230),_Weather2=_interopRequireDefault(_Weather),_reactRouter=__webpack_require__(158),Home=function(_React$Component){function Home(props){_classCallCheck(this,Home);
var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Home).call(this,props));return _this.state=_HomeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Home,_React$Component),_createClass(Home,[{key:"componentDidMount",value:function(){_HomeStore2["default"].listen(this.onChange),_HomeActions2["default"].getArticles(),_HomeActions2["default"].getMusics()}},{key:"componentDidUpdate",value:function(nextProps,preProps){}},{key:"componentWillUnmount",value:function(){_HomeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Articles=void 0,Musics=void 0;return Articles=this.state.a_loading?_react2["default"].createElement(_Loading2["default"],null):this.state.articles.map(function(data){return _react2["default"].createElement("div",{key:"article"+data.data._id,className:"mon-item"},_react2["default"].createElement("div",{className:"mon-fragmentation"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}))),_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"btn btn-block clearfix"},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",{className:"pull-right"},data.user.username)))),_react2["default"].createElement("div",{className:"mon-aside"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data.data._id},data.data.title)))}),Musics=this.state.m_loading?_react2["default"].createElement(_Loading2["default"],null):this.state.musics.map(function(data){return _react2["default"].createElement("div",{key:"music"+data.data._id,className:"mon-item"},_react2["default"].createElement("div",{className:"mon-fragmentation"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/music/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}))),_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"btn btn-block clearfix"},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",{className:"pull-right"},data.user.username)))),_react2["default"].createElement("div",{className:"mon-aside"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data.data._id},data.data.title)))}),_react2["default"].createElement("div",{className:"container mon-main"},_react2["default"].createElement("div",{className:"raw clearfix mon-section mon-carousel"},_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Carousel2["default"],null)),_react2["default"].createElement("div",{className:"col-md-4"},_react2["default"].createElement(_Weather2["default"],null))),_react2["default"].createElement("div",{className:"raw clearfix mon-section"},_react2["default"].createElement("span",{className:"mon-label"},"文章"),_react2["default"].createElement("div",{className:"mon-box"},Articles)),_react2["default"].createElement("div",{className:"raw clearfix mon-section"},_react2["default"].createElement("p",{className:"mon-label"},"音乐"),_react2["default"].createElement("div",{className:"mon-box"},Musics)))}}]),Home}(_react2["default"].Component);exports["default"]=Home},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),HomeActions=function(){function HomeActions(){_classCallCheck(this,HomeActions),this.generateActions("getArticlesSuccess","getMusicsSuccess")}return _createClass(HomeActions,[{key:"getArticles",value:function(){var _this=this,params={option:{skip:0,limit:10,sort:{create_time:-1}}};$.ajax({url:"/api/articles",type:"post",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.getArticlesSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}},{key:"getMusics",value:function(){var _this2=this,params={option:{skip:0,limit:10,sort:{create_time:-1}}};$.ajax({url:"/api/musics",type:"post",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params),dataType:"json"}).done(function(data){_this2.actions.getMusicsSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}}]),HomeActions}();exports["default"]=_alt2["default"].createActions(HomeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_HomeActions=__webpack_require__(223),_HomeActions2=_interopRequireDefault(_HomeActions),HomeStore=function(){function HomeStore(){_classCallCheck(this,HomeStore),this.bindActions(_HomeActions2["default"]),this.articles=[],this.musics=[],this.a_loading=!0,this.m_loading=!0}return _createClass(HomeStore,[{key:"onGetArticlesSuccess",value:function(data){200===data.code?(this.articles=data.raw._raw,this.a_loading=!1):500===data.code&&toastr.warning("获取数据失败")}},{key:"onGetMusicsSuccess",value:function(data){200===data.code?(this.musics=data.raw._raw,this.m_loading=!1):500===data.code&&toastr.warning("获取数据失败")}}]),HomeStore}();exports["default"]=_alt2["default"].createStore(HomeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_CarouselActions=__webpack_require__(226),_CarouselActions2=_interopRequireDefault(_CarouselActions),_CarouselStore=__webpack_require__(227),_CarouselStore2=_interopRequireDefault(_CarouselStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(158),Carousel=function(_React$Component){function Carousel(props){_classCallCheck(this,Carousel);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Carousel).call(this,props));return _this.state=_CarouselStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Carousel,_React$Component),_createClass(Carousel,[{key:"componentDidMount",value:function(){_CarouselStore2["default"].listen(this.onChange),_CarouselActions2["default"].getRecommend()}},{key:"componentWillUnmount",value:function(){_CarouselStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state),$("#carousel").sangarSlider({timer:!1,width:850,height:500,directionalNav:"show",pagination:"bullet",paginationContent:["Lorem Ipsum Dolor","Dolor Sit Amet","Consectetur","Do Eiusmod","Magna Aliqua"],paginationContentWidth:200})}},{key:"render",value:function(){var Target=null;return Target=this.state.loading?_react2["default"].createElement(_Loading2["default"],null):this.state.list.map(function(data){return _react2["default"].createElement("div",{key:data.data._id,className:"sangar-content"},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}),_react2["default"].createElement(_reactRouter.Link,{to:"/"+data.option+"/"+data.data._id},_react2["default"].createElement("data",{className:"data title"})),_react2["default"].createElement("div",{className:"mon-sanger-content"},_react2["default"].createElement("p",null,data.data.title)))}),_react2["default"].createElement("div",{className:"sangar-slideshow-container",id:"carousel"},_react2["default"].createElement("div",{className:"sangar-content-wrapper"},Target))}}]),Carousel}(_react2["default"].Component);exports["default"]=Carousel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),CarouselActions=function(){function CarouselActions(){_classCallCheck(this,CarouselActions),this.generateActions("getRecommendSuccess")}return _createClass(CarouselActions,[{key:"getRecommend",value:function(){var _this=this;$.ajax({url:"/api/recommend",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getRecommendSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}}]),CarouselActions}();exports["default"]=_alt2["default"].createActions(CarouselActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_CarouselActions=__webpack_require__(226),_CarouselActions2=_interopRequireDefault(_CarouselActions),_underscore=__webpack_require__(228),CarouselStore=(_interopRequireDefault(_underscore),function(){function CarouselStore(){_classCallCheck(this,CarouselStore),this.bindActions(_CarouselActions2["default"]),this.list=[],this.loading=!0}return _createClass(CarouselStore,[{key:"onGetRecommendSuccess",value:function(data){console.log(data),this.loading=!1,200===data.code?this.list=data.raw:500===data.code&&toastr.error("获取数据失败")}}]),CarouselStore}());exports["default"]=_alt2["default"].createStore(CarouselStore)},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),Loading=function(_React$Component){function Loading(){return _classCallCheck(this,Loading),_possibleConstructorReturn(this,Object.getPrototypeOf(Loading).apply(this,arguments))}return _inherits(Loading,_React$Component),_createClass(Loading,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"loader-inner line-scale-pulse-out mon-loader-o mon-loader-bg"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null))}}]),Loading}(_react2["default"].Component);exports["default"]=Loading},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_WeatherActions=__webpack_require__(231),_WeatherActions2=_interopRequireDefault(_WeatherActions),_WeatherStore=__webpack_require__(232),_WeatherStore2=_interopRequireDefault(_WeatherStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),Weather=function(_React$Component){function Weather(props){_classCallCheck(this,Weather);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Weather).call(this,props));return _this.state=_WeatherStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Weather,_React$Component),_createClass(Weather,[{key:"componentDidMount",value:function(){_WeatherStore2["default"].listen(this.onChange),_WeatherActions2["default"].getWeather()}},{key:"componentWillUnmount",value:function(){_WeatherStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"refresh",value:function(){_WeatherActions2["default"].getWeather()}},{key:"render",value:function(){var Target=null;return this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.error||null===this.state.weather?this.state.error&&(Target=_react2["default"].createElement("div",{className:"mon-error"},_react2["default"].createElement("a",{href:"javascript:;",onClick:this.refresh},_react2["default"].createElement("span",{className:"fa fa-refresh"}),"刷新试试"))):Target=_react2["default"].createElement("div",{className:"mon-weather"},_react2["default"].createElement("div",{className:"mon-weather-title"},_react2["default"].createElement("span",{className:"fa fa-calendar"}),_react2["default"].createElement("p",{className:"text-center mon-weather-time"},this.state.weather.date)),_react2["default"].createElement("div",{className:"mon-weather-content"},_react2["default"].createElement("img",{src:"/img/weather/"+this.state.weather.cond.code_d+".png",alt:"loading"}),_react2["default"].createElement("p",null,_react2["default"].createElement("a",{href:"javascript:;",className:"mon-location"},_react2["default"].createElement("span",{className:"fa fa-map-pin"})),this.state.city),_react2["default"].createElement("p",null,_react2["default"].createElement("span",null,this.state.weather.tmp.max,"℃"),_react2["default"].createElement("span",null,"～"),_react2["default"].createElement("span",null,this.state.weather.tmp.min,"℃")))),_react2["default"].createElement("div",{className:"mon-weather hidden-xs"},Target)}}]),Weather}(_react2["default"].Component);exports["default"]=Weather},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),WeatherActions=function(){function WeatherActions(){_classCallCheck(this,WeatherActions),this.generateActions("getWeatherSuccess")}return _createClass(WeatherActions,[{key:"getWeather",value:function(){var _this=this;$.ajax({url:"/api/weather",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getWeatherSuccess(data)}).fail(function(){toastr.warning("获取天气失败")})}}]),WeatherActions}();exports["default"]=_alt2["default"].createActions(WeatherActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_WeatherActions=__webpack_require__(231),_WeatherActions2=_interopRequireDefault(_WeatherActions),WeatherStore=function(){function WeatherStore(){_classCallCheck(this,WeatherStore),this.bindActions(_WeatherActions2["default"]),this.loading=!0,this.error=!1,this.weather=null,this.city="北京"}return _createClass(WeatherStore,[{key:"onGetWeatherSuccess",value:function(data){this.loading=!1,200===data.code?(this.city=data.raw.city,this.weather=data.raw.weather):404===data.code?(this.error=!0,toastr.warning(data.meta)):(this.error=!0,toastr.warning("查询天气失败"))}}]),WeatherStore}();exports["default"]=_alt2["default"].createStore(WeatherStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_LoginActions=__webpack_require__(234),_LoginActions2=_interopRequireDefault(_LoginActions),_LoginStore=__webpack_require__(235),_LoginStore2=_interopRequireDefault(_LoginStore),Login=function(_React$Component){function Login(props){_classCallCheck(this,Login);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Login).call(this,props));return _this.state=_LoginStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Login,_React$Component),_createClass(Login,[{key:"componentDidMount",value:function(){_LoginStore2["default"].listen(this.onChange);var hash=window.location.hash;hash=hash.split("#")[1];var $sinForm=$(".sign-form"),$loginForm=$(".login-form");"login"===hash?($sinForm.css("display","none"),$loginForm.css("display","block")):"sign"===hash?($sinForm.css("display","block"),$loginForm.css("display","none")):($sinForm.css("display","none"),$loginForm.css("display","block"),window.location.hash="login")}},{key:"componentWillUnmount",value:function(){_LoginStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option){var email=this.state.email,password=this.state.password,prePassword=this.state.prePassword,name=this.state.username,reg=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;0===option?(""!==email&&reg.test(email)||(this.refs.loginEmail.getDOMNode().focus(),toastr.warning("邮箱不可为空或则邮箱不符合规则")),""===password?(this.refs.loginPwd.getDOMNode().focus(),toastr.warning("密码不可为空")):""!==email&&""!==password&&_LoginActions2["default"].login(email,password)):1===option&&(""!==email&&reg.test(email)?""===password?(this.refs.password.getDOMNode().focus(),toastr.error("密码不可为空")):""===prePassword?(this.refs.prePassword.getDOMNode().focus(),toastr.warning("请确认密码")):""===name?(this.refs.user.getDOMNode().focus(),toastr.error("用户名不可为空")):_LoginActions2["default"].sign(email,password,prePassword,name):(this.refs.email.getDOMNode().focus(),toastr.error("邮箱不可为空或邮箱不符合规则")))}},{key:"changeForm",value:function(form){var $preForm=void 0,$newForm=void 0,$signForm=$(".sign-form"),$loginForm=$(".login-form"),location=window.location;switch(form){case 0:$preForm=$signForm,$newForm=$loginForm,location.hash="login";break;case 1:$preForm=$loginForm,$newForm=$signForm,location.hash="sign"}$preForm.css("display","none"),$newForm.css("display","block")}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container mon-login mon-main"},_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-8 col-xs-12"}),_react2["default"].createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},_react2["default"].createElement("form",{className:"login-form"},_react2["default"].createElement("div",{className:"form-legend"},_react2["default"].createElement("span",null,"登陆"),_react2["default"].createElement("a",{href:"javascript:;",onClick:this.changeForm.bind(this,1),className:"form-change"},_react2["default"].createElement("span",{className:"fa fa-arrow-circle-o-right"}),"注册")),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"login_email"},"邮箱"),_react2["default"].createElement("input",{id:"login_email",className:"form-control ",ref:"loginEmail",onChange:_LoginActions2["default"].changeEmail,type:"email",placeholder:"邮箱"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"login_pwd"},"密码"),_react2["default"].createElement("input",{id:"login_pwd",className:"form-control ",ref:"loginPwd",onChange:_LoginActions2["default"].changePassword,type:"password",placeholder:"密码"})),_react2["default"].createElement("a",{href:"javascript:;",onClick:this.handleClick.bind(this,0),className:"btn btn-primary btn-block"},"登陆"),_react2["default"].createElement("div",{className:"mon-other-login"},_react2["default"].createElement("p",null,"其他账户登陆"),_react2["default"].createElement("a",{href:"/auth/github"},_react2["default"].createElement("span",{className:"fa fa-github"})),_react2["default"].createElement("a",{href:""},_react2["default"].createElement("span",{className:"fa fa-weibo"})),_react2["default"].createElement("a",{href:"/auth/facebook"},_react2["default"].createElement("span",{className:"fa fa-facebook-square"})))),_react2["default"].createElement("form",{className:"sign-form"},_react2["default"].createElement("div",{className:"form-legend"},_react2["default"].createElement("span",null,"注册"),_react2["default"].createElement("a",{href:"javascript:;",onClick:this.changeForm.bind(this,0),className:"form-change"},_react2["default"].createElement("span",{className:"fa fa-arrow-circle-o-right"}),"登陆")),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"sign_email"},"邮箱"),_react2["default"].createElement("input",{id:"sign_email",className:"form-control",ref:"email",onChange:_LoginActions2["default"].changeEmail,type:"email",placeholder:"邮箱"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"sign_name"},"用户名"),_react2["default"].createElement("input",{id:"sign_name",className:"form-control",ref:"user",onChange:_LoginActions2["default"].changeName,type:"text",placeholder:"用户名"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"sign_pwd"},"密码"),_react2["default"].createElement("input",{id:"sign_pwd",className:"form-control",max:"8",ref:"password",onChange:_LoginActions2["default"].changePassword,type:"password",placeholder:"密码"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{htmlFor:"sign_pre_pwd"},"确认密码"),_react2["default"].createElement("input",{id:"sign_pre_pwd",className:"form-control",max:"8",ref:"prePassword",onChange:_LoginActions2["default"].changePrePassword,type:"password",placeholder:"密码"})),_react2["default"].createElement("a",{href:"javascript:;",onClick:this.handleClick.bind(this,1),className:"btn btn-primary btn-block"},"登陆")))))}}]),Login}(_react2["default"].Component);exports["default"]=Login},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),LoginActions=function(){function LoginActions(){_classCallCheck(this,LoginActions),this.generateActions("doPasswordFail","loginSuccess","loginFail","doSignSuccess","doSignFail","changeEmail","changePassword","changeName","changePrePassword");
}return _createClass(LoginActions,[{key:"login",value:function(email,password){var _this=this;$.ajax({type:"POST",url:"/api/login",cache:!1,dataType:"json",data:{email:email,password:password}}).done(function(data){_this.actions.loginSuccess(data)}).fail(function(data){_this.actions.loginFail})}},{key:"sign",value:function(email,password,prePwd,userName){var _this2=this;password!==prePwd?this.actions.doPasswordFail():$.ajax({url:"/api/user",dataType:"json",type:"post",cache:!1,data:{email:email,password:password,name:userName}}).done(function(data){_this2.actions.doSignSuccess(data)}).fail(function(data){_this2.actions.doSignFail(data)})}}]),LoginActions}();exports["default"]=_alt2["default"].createActions(LoginActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_LoginActions=__webpack_require__(234),_LoginActions2=_interopRequireDefault(_LoginActions),LoginStore=function(){function LoginStore(){_classCallCheck(this,LoginStore),this.bindActions(_LoginActions2["default"]),this.email="",this.password="",this.username="",this.prePassword="",this.stateInfo="",this.err=""}return _createClass(LoginStore,[{key:"onDoPasswordFail",value:function(){this.stateInfo="两次密码不一样",this.err=!0,toastr.warning(this.stateInfo)}},{key:"onLoginSuccess",value:function(data){if(200===data.code){var localStorage=window.localStorage,sessionStorage=window.sessionStorage;localStorage.setItem("user",JSON.stringify(data)),sessionStorage.setItem("profile",JSON.stringify(data.data)),window.location="/"}else 400===data.code&&toastr.error("登陆失败")}},{key:"onLoginFail",value:function(){this.stateInfor="服务器错误",this.err=!0,toastr.error(this.stateInfor)}},{key:"onDoSignSuccess",value:function(data){console.log(data),200===data.code?(toastr.success("注册成功,3秒后将跳转到首页"),setTimeout(function(){window.location="/"},3e3)):400===data.code&&toastr.warning("邮箱或用户名已经被注册")}},{key:"onSignFail",value:function(data){this.stateInfo="服务器错误",toastr.warning(this.stateInfo)}},{key:"onChangeEmail",value:function(event){this.email=event.target.value}},{key:"onChangePassword",value:function(event){this.password=event.target.value}},{key:"onChangeName",value:function(event){this.username=event.target.value}},{key:"onChangePrePassword",value:function(event){this.prePassword=event.target.value}}]),LoginStore}();exports["default"]=_alt2["default"].createStore(LoginStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_UserActions=__webpack_require__(237),_UserActions2=_interopRequireDefault(_UserActions),_UserStore=__webpack_require__(238),_UserStore2=_interopRequireDefault(_UserStore),_NoticePoint=__webpack_require__(218),_NoticePoint2=_interopRequireDefault(_NoticePoint),_UpdateBlock=__webpack_require__(239),_UpdateBlock2=_interopRequireDefault(_UpdateBlock),User=function(_React$Component){function User(props){_classCallCheck(this,User);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(User).call(this,props));return _this.state=_UserStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(User,_React$Component),_createClass(User,[{key:"componentDidMount",value:function(){_UserStore2["default"].listen(this.onChange),_UserActions2["default"].getUser()}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.id!==this.props.params.id&&_UserActions2["default"].getUser(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_UserStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var content=void 0;return content=this.state.auth?_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-3 col-sm-3"},_react2["default"].createElement("div",{className:"mon-center mon-user-img"},_react2["default"].createElement("img",{src:this.state.avatar_url||"/img/dd9901f664234eb44f6b217e7fa04e17.jpg",width:"200",alt:"loading"})),_react2["default"].createElement("div",{className:"mon-user-name"},this.state.username),_react2["default"].createElement("div",{className:"mon-vcard-stats"},_react2["default"].createElement(_reactRouter.Link,{to:"/profile/followers",className:"mon-link"},_react2["default"].createElement("span",null,this.state.followers),_react2["default"].createElement("b",null,"Followers")),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/following",className:"mon-link"},_react2["default"].createElement("span",null,this.state.following),_react2["default"].createElement("b",null,"Following")),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/contribute/articles",className:"mon-link"},_react2["default"].createElement("span",null,this.state.contribute),_react2["default"].createElement("b",null,"Contribute"))),_react2["default"].createElement("ul",{className:"nav mon-ability-list"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/setting"},_react2["default"].createElement("span",{className:"fa fa-cog"}),"设置")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/center"},_react2["default"].createElement("span",{className:"fa fa-user"}),"中心")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star"},_react2["default"].createElement("span",{className:"fa fa-star"}),"收藏")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"javascript:;","data-toggle":"collapse","data-target":"#my-contribute"},_react2["default"].createElement("span",{className:"fa fa-pencil-square"}),"投稿"),_react2["default"].createElement("ul",{className:"nav collapse mon-contribute",id:"my-contribute"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/post/animate"},_react2["default"].createElement("span",{className:"fa fa-video-camera"}),"动漫")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/post/music"},_react2["default"].createElement("span",{className:"fa fa-music"}),"音乐")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/post/article"},_react2["default"].createElement("span",{className:"fa fa-file"}),"文章")))),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/notice"},_react2["default"].createElement("span",{className:"fa fa-bell"}),"通知",_react2["default"].createElement(_NoticePoint2["default"],null))))),_react2["default"].createElement(_reactRouter.RouteHandler,null)):_react2["default"].createElement("div",null),_react2["default"].createElement("div",{className:"container"},content,_react2["default"].createElement(_UpdateBlock2["default"],null))}}]),User}(_react2["default"].Component);User.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=User},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),UserActions=function(){function UserActions(){_classCallCheck(this,UserActions),this.generateActions("getUserSuccess","getUserFail")}return _createClass(UserActions,[{key:"getUser",value:function(){var _this=this;$.ajax({url:"/api/profile",cache:!1,type:"get"}).done(function(data){_this.actions.getUserSuccess(data)}).fail(function(){_this.actions.getUserFail()})}}]),UserActions}();exports["default"]=_alt2["default"].createActions(UserActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_UserActions=__webpack_require__(237),_UserActions2=_interopRequireDefault(_UserActions),UserStore=function(){function UserStore(){_classCallCheck(this,UserStore),this.bindActions(_UserActions2["default"]),this.username="",this.avatar_url="",this.star=0,this.followers=0,this.contribute=0,this.following=0,this.domain="",this.auth=!1}return _createClass(UserStore,[{key:"onGetUserSuccess",value:function(data){console.log(data),200===data.code?(this.auth=!0,this.username=data.raw.username,this.avatar_url=data.raw.avatar_url,this.followers=data.raw.followers.length,this.following=data.raw.following.length,this.contribute=data.raw.contribute.length,this.star=data.raw.star.length,this.doamin=data.raw.domain):window.location="/login"}},{key:"onGetUserFail",value:function(){toastr.error("服务器错误")}}]),UserStore}();exports["default"]=_alt2["default"].createStore(UserStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_UpdateBlockActions=__webpack_require__(240),_UpdateBlockActions2=_interopRequireDefault(_UpdateBlockActions),_UpdateBlockStore=__webpack_require__(241),_UpdateBlockStore2=_interopRequireDefault(_UpdateBlockStore),UpdateBlock=function(_React$Component){function UpdateBlock(props){_classCallCheck(this,UpdateBlock);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UpdateBlock).call(this,props));return _this.state=_UpdateBlockStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(UpdateBlock,_React$Component),_createClass(UpdateBlock,[{key:"componentDidMount",value:function(){_UpdateBlockStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_UpdateBlockStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var $updateModal=$("#updateModal"),title=$updateModal.find("input[name='title']").val(),summary=$updateModal.find("textarea[name='summary']").val(),tags=$updateModal.find("input[name='tag']").val().replace(/\s+/g,","),content=$updateModal.find("textarea[name='content']").val();tags=tags.split(",");var tag=[];tags.map(function(data){tag.push(data)}),_UpdateBlockActions2["default"].update(title,summary,tag,content,$("#_id").val())}},{key:"render",value:function(){return _react2["default"].createElement("div",{id:"updateModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","data-backdrop":"static"},_react2["default"].createElement("div",{className:"modal-dialog"},_react2["default"].createElement("div",{className:"modal-content"},_react2["default"].createElement("div",{className:"modal-header"},_react2["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},_react2["default"].createElement("span",{"aria-hidden":"true"},"×")),_react2["default"].createElement("h4",null,"更新")),_react2["default"].createElement("div",{className:"modal-body"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"标题"),_react2["default"].createElement("input",{name:"title",type:"text",className:"form-control"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"简介"),_react2["default"].createElement("textarea",{name:"summary",cols:"30",rows:"4",className:"form-control"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"标签"),_react2["default"].createElement("input",{name:"tag",type:"text",className:"form-control"})),_react2["default"].createElement("input",{id:"_id",type:"hidden",name:"_id"}),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"主体内容"),_react2["default"].createElement("textarea",{id:"updateContent",name:"content",cols:"30",rows:"10",className:"form-control"})))),_react2["default"].createElement("div",{className:"modal-footer"},_react2["default"].createElement("button",{className:"btn btn-primary pull-right",onClick:this.handleClick.bind(this)},"保存更新")))))}}]),UpdateBlock}(_react2["default"].Component);exports["default"]=UpdateBlock},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),UpdateBlockActions=function(){function UpdateBlockActions(){_classCallCheck(this,UpdateBlockActions),this.generateActions("changeTitle","changeSummary","changeTags","changeContent","updateSuccess")}return _createClass(UpdateBlockActions,[{key:"update",value:function(title,summary,tags,content,_id){var _this=this,params={params:{title:title,summary:summary,tags:tags,content:content},_id:_id};$.ajax({url:"/api/article",type:"put",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.updateSuccess(data)}).fail(function(){toastr.warning("更新失败")})}}]),UpdateBlockActions}();exports["default"]=_alt2["default"].createActions(UpdateBlockActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_UpdateBlockActions=__webpack_require__(240),_UpdateBlockActions2=_interopRequireDefault(_UpdateBlockActions),UpdateBlockStore=function(){function UpdateBlockStore(){_classCallCheck(this,UpdateBlockStore),this.bindActions(_UpdateBlockActions2["default"]),this.title="",this.summary="",this.tag=[],this.tags="",this.content=""}return _createClass(UpdateBlockStore,[{key:"onChangeTitle",value:function(event){this.title=event.target.value,console.log(this.title)}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}},{key:"onChangeTags",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tag=[],tags.map(function(data){_this.tag.push(data)})}},{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onUpdateSuccess",value:function(data){200===data.code?toastr.success(data.meta):500===data.code&&toastr.warning(data.meta)}}]),UpdateBlockStore}();exports["default"]=_alt2["default"].createStore(UpdateBlockStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_SetActions=__webpack_require__(243),_SetActions2=_interopRequireDefault(_SetActions),_SetStore=__webpack_require__(244),_SetStore2=_interopRequireDefault(_SetStore),_Upload=__webpack_require__(245),_Upload2=_interopRequireDefault(_Upload),Set=function(_React$Component){function Set(props){_classCallCheck(this,Set);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Set).call(this,props));return _this.state=_SetStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Set,_React$Component),_createClass(Set,[{key:"componentDidMount",value:function(){_SetStore2["default"].listen(this.onChange),_SetActions2["default"].getProfile()}},{key:"componentWillUnmount",value:function(){_SetStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var domain=this.state.domain,email=this.state.email,username=this.state.username,intro=this.state.intro,avatar_url=$("#user_img").attr("src"),error=!1;console.log(intro);var regEmail=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,regDomain=/^[0-9a-zA-Z-]{1,20}$/;regEmail.test(email)?_SetActions2["default"].emailValidateFail(0):(_SetActions2["default"].emailValidateFail(1),error=!0),username.length>15||""===username?(_SetActions2["default"].nameValidateFail(1),error=!0):_SetActions2["default"].nameValidateFail(0),regDomain.test(domain)?_SetActions2["default"].domainValidateFail(0):(_SetActions2["default"].domainValidateFail(1),error=!0),error||_SetActions2["default"].changeProfile(domain,username,email,intro,avatar_url)}},{key:"render",value:function(){var account=void 0;switch(this.state.account){case 1:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-github"}));break;case 2:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-facebook"}));break;case 3:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-weibo"}));break;default:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("a",{href:"/auth/github"},_react2["default"].createElement("span",{className:"fa fa-github"})),_react2["default"].createElement("a",{href:"/auth/facebook"},_react2["default"].createElement("span",{className:"fa fa-facebook"})),_react2["default"].createElement("a",{href:"/auth/weibo"},_react2["default"].createElement("span",{className:"fa fa-weibo"})))}return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("legend",null,"设置"),_react2["default"].createElement("form",{className:"form-horizontal",role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{className:"col-sm-2 control-label"}),_react2["default"].createElement("div",{className:"col-sm-3"},_react2["default"].createElement("img",{id:"user_img",src:this.state.avatar_url,alt:"loading",width:"200"})),_react2["default"].createElement("div",{className:"col-sm-7"},_react2["default"].createElement(_Upload2["default"],{img:"#user_img"}))),_react2["default"].createElement("div",{className:"form-group "+this.state.domainValidate},_react2["default"].createElement("label",{htmlFor:"individuality_domain",className:"col-sm-2 control-label"},"个性域名"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"text",id:"individuality_domain",className:"form-control",onChange:_SetActions2["default"].changeDomain,placeholder:"数字，英文，破折线",value:this.state.domain}),_react2["default"].createElement("span",{className:""===this.state.domainValidate?"hide":"text-danger"},"*个性域名格式错误或太长"))),_react2["default"].createElement("div",{className:"form-group "+this.state.nameValidate},_react2["default"].createElement("label",{htmlFor:"individuality_username",className:"col-sm-2 control-label"},"用户名"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"text",id:"individuality_username",className:"form-control",onChange:_SetActions2["default"].changeUserName,placeholder:"长度不超过10",value:this.state.username,max:"15"}),_react2["default"].createElement("span",{className:""===this.state.nameValidate?"hide":"text-danger"},"*用户名不能为空或是超过15个字"))),_react2["default"].createElement("div",{className:"form-group "+this.state.emailValidate},_react2["default"].createElement("label",{htmlFor:"individuality_email",className:"col-sm-2 control-label"},"邮箱"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"email",id:"individuality_email",className:"form-control",onChange:_SetActions2["default"].changeEmail,placeholder:"example@example.com",value:this.state.email}),_react2["default"].createElement("span",{className:""===this.state.emailValidate?"hide":"text-danger"},"*邮箱格式错误"))),_react2["default"].createElement("div",{className:"form-group "+this.state.introValidate},_react2["default"].createElement("label",{htmlFor:"individuality_intro",className:"col-sm-2 control-label"},"个人简介"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("textarea",{type:"email",id:"individuality_intro",className:"form-control",onChange:_SetActions2["default"].changeIntro,placeholder:"留下你的宝贝简介吧",rows:"3",value:this.state.intro}),_react2["default"].createElement("span",{className:""===this.state.introValidate?"hide":"text-danger"},"*简介字数超出50"))),_react2["default"].createElement("div",{className:"fomr-group"},_react2["default"].createElement("label",{htmlFor:"individuality_account",className:"col-sm-2 control-label"},0===this.state.account?"绑定社交账号":"已绑定的账号"),account),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-primary pull-right",onClick:this.handleClick.bind(this)},"保存设置")))}}]),Set}(_react2["default"].Component);exports["default"]=Set},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),SetActions=function(){function SetActions(){_classCallCheck(this,SetActions),this.generateActions("changeProfileSuccess","changeProfileFail","getProfileSuccess","getProfileLocal","changeDomain","changeEmail","changeUserName","changeIntro","domainValidateFail","nameValidateFail","emailValidateFail","introValidateFail")}return _createClass(SetActions,[{key:"changeProfile",value:function(domain,username,email,intro,avatar_url){var _this=this,localStorage=window.localStorage,userProfile=localStorage.getItem("user");userProfile=JSON.parse(userProfile);var params={params:{email:email,domain:domain,username:username,introduce:intro,avatar_url:avatar_url}};console.log(params.params),$.ajax({url:"/api/user",type:"put",cache:"false",dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.changeProfileSuccess(data)}).fail(function(data){_this.actions.changeProfileFail()})}},{key:"getProfile",value:function(){var _this2=this;$.ajax({url:"/api/profile",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this2.actions.getProfileSuccess(data)}).fail(function(){toastr.warning("获取个人资料失败")})}}]),SetActions}();exports["default"]=_alt2["default"].createActions(SetActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_SetActions=__webpack_require__(243),_SetActions2=_interopRequireDefault(_SetActions),SetStore=function(){function SetStore(){_classCallCheck(this,SetStore),this.bindActions(_SetActions2["default"]),this.avatar_url="",
this.username="",this.domain="",this.email="",this.account,this.intro="",this.domainValidate="",this.nameValidate="",this.emailValidate="",this.introValidate=""}return _createClass(SetStore,[{key:"onChangeProfileSuccess",value:function(data){200===data.code?toastr.success("修改用户资料成功"):500===data.code?toastr.error("服务器错误"):toastr.warning(data.meta)}},{key:"onChangeProfileFail",value:function(){toastr.error("服务器错误")}},{key:"onGetProfileSuccess",value:function(data){void 0!==data&&200===data.code&&(this.avatar_url=data.raw.avatar_url,this.username=data.raw.username,this.domain=data.raw.domain,this.email=data.raw.email,this.account=data.raw.account,this.intro=data.raw.introduce)}},{key:"onGetProfileLocal",value:function(data){this.username=data.raw.username,this.domain=data.raw.domain,this.email=data.raw.email,this.account=data.raw.account,this.intro=data.raw.introduce}},{key:"onProfileFail",value:function(){toastr.error("hehe")}},{key:"onChangeDomain",value:function(event){console.log("heh"),this.domain=event.target.value}},{key:"onChangeEmail",value:function(event){this.email=event.target.value}},{key:"onChangeUserName",value:function(event){this.username=event.target.value}},{key:"onChangeIntro",value:function(event){this.intro=event.target.value}},{key:"onDomainValidateFail",value:function(option){1===option?this.domainValidate="has-error":0===option&&(this.domainValidate="")}},{key:"onNameValidateFail",value:function(option){1===option?this.nameValidate="has-error":0===option&&(this.nameValidate="")}},{key:"onEmailValidateFail",value:function(option){1===option?this.emailValidate="has-error":0===option&&(this.emailValidate="")}},{key:"onIntroValidateFail",value:function(option){1===option?this.introValidate="has-error":0===option&&(this.introValidate="")}}]),SetStore}();exports["default"]=_alt2["default"].createStore(SetStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_UploadActions=__webpack_require__(246),_UploadActions2=_interopRequireDefault(_UploadActions),_UploadStore=__webpack_require__(247),_UploadStore2=_interopRequireDefault(_UploadStore),Upload=function(_React$Component){function Upload(props){_classCallCheck(this,Upload);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Upload).call(this,props));return _this.state=_UploadStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Upload,_React$Component),_createClass(Upload,[{key:"componentDidMount",value:function(){_UploadStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_UploadStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){$("#file_loader").removeClass("mon-upload-block").addClass("mon-upload-block-o")}},{key:"closeClick",value:function(){$("#file_loader").removeClass("mon-upload-block-o").addClass("mon-upload-block")}},{key:"upload",value:function(){_UploadActions2["default"].upload(this.state.file,this.props.img)}},{key:"render",value:function(){return _react2["default"].createElement("div",null,_react2["default"].createElement("a",{className:"btn btn-info",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-file"},"上传图片")),_react2["default"].createElement("div",{id:"file_loader",className:"mon-upload-block animated flipInX"},_react2["default"].createElement("div",{id:"file_loader_file",className:"mon-upload"},_react2["default"].createElement("label",{htmlFor:"uploader",className:"btn btn-info"},"选择文件"),_react2["default"].createElement("input",{type:"file",id:"uploader",className:"mon-fileloader",onChange:_UploadActions2["default"].changeFile}),_react2["default"].createElement("p",{className:"text-muted"},"图片选择尺寸为800*400")),_react2["default"].createElement("div",{id:"preview_block",className:"mon-preview-block"},_react2["default"].createElement("div",{className:"mon-preview-img"},_react2["default"].createElement("img",{src:"/img/cover-night.png",id:"img-preview",width:"200",alt:"loading"}),_react2["default"].createElement("input",{id:"upload_img_value",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_width",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_height",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_X",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_Y",type:"hidden"})),_react2["default"].createElement("div",{id:"loader",className:"loader-inner ball-pulse mon-loader"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null)),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-danger",htmlFor:"uploader"},_react2["default"].createElement("label",{htmlFor:"uploader"},_react2["default"].createElement("span",{className:"fa fa-history"}),"重新选择图片")),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-primary",onClick:this.upload.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle"}),"确定")),_react2["default"].createElement("span",{className:"fa fa-close mon-close",onClick:this.closeClick.bind(this)})))}}]),Upload}(_react2["default"].Component);exports["default"]=Upload},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function uploadLoad(option){0===option?$("#loader").removeClass("mon-loader").addClass("mon-loader-o"):$("#loader").removeClass("mon-loader-o").addClass("mon-loader")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_underscore=__webpack_require__(228),UploadActions=(_interopRequireDefault(_underscore),function(){function UploadActions(){_classCallCheck(this,UploadActions),this.generateActions("changeFile")}return _createClass(UploadActions,[{key:"upload",value:function(target,preImg){var _this=this;uploadLoad(0);var $tracker=$(".jcrop-holder img"),raw_width=$tracker.css("width"),raw_height=$tracker.css("height");raw_width=raw_width.split("p")[0],raw_height=raw_height.split("p")[0];var formData=new FormData,params={width:$("#upload_img_width").val()||raw_width,height:$("#upload_img_height").val()||raw_height,X:$("#upload_img_X").val()||0,Y:$("#upload_img_Y").val()||0,raw_width:raw_width,raw_height:raw_height};formData.append("file",target),formData.append("params",JSON.stringify(params)),$.ajax({url:"/api/upload",contentType:!1,type:"post",cache:!1,dataType:"json",processData:!1,timeout:1e4,data:formData}).success(function(data){_this.actions.uploadSuccess(data,preImg)}).fail(function(){toastr.error("上传图片不成功")}).error(function(){toastr.warning("上传时间超时"),uploadLoad(1)})}},{key:"uploadSuccess",value:function(data,preImg){uploadLoad(1),this.actions.uploadSuccessAfter(),200===data.code?($(preImg).attr("src","/img/upload/"+data.raw),$(preImg+"_value").val("/img/upload/"+data.raw)):toastr.warning("上传图片不成功")}},{key:"uploadSuccessAfter",value:function(){$("#file_loader").removeClass("mon-upload-block-o").addClass("mon-upload-block"),$("#file_loader_file").removeClass("mon-upload-o").addClass("mon-upload"),$("#preview_block").removeClass("mon-preview-block-o").addClass("mon-preview-block")}}]),UploadActions}());exports["default"]=_alt2["default"].createActions(UploadActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _typeof(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_UploadActions=__webpack_require__(246),_UploadActions2=_interopRequireDefault(_UploadActions),_underscore=__webpack_require__(228),_underscore2=_interopRequireDefault(_underscore),UploadStore=function(){function UploadStore(){_classCallCheck(this,UploadStore),this.bindActions(_UploadActions2["default"]),this.file={},this.croper={},this.width="",this.height="",this.X="",this.Y=""}return _createClass(UploadStore,[{key:"onChangeFile",value:function(event){var _this=this,target=this.file=event.target.files[0];console.log(target);var croper,isChange=!1;if($("#file_loader_file").removeClass("mon-upload").addClass("mon-upload-o"),$("#preview_block").removeClass("mon-preview-block").addClass("mon-preview-block-o"),void 0!==("undefined"==typeof FileReader?"undefined":_typeof(FileReader))){var acceptType=["image/png","image/jpeg","image/jpg","image/gif"];if(-1!==_underscore2["default"].indexOf(acceptType,target.type)){var result,fileReader=new FileReader;fileReader.readAsDataURL(target),fileReader.onload=function(e){result=e.target.result,$("#img-preview").attr("src",result).Jcrop({onChange:function(event){$("#upload_img_width").val(event.w),$("#upload_img_height").val(event.h),$("#upload_img_X").val(event.x),$("#upload_img_Y").val(event.y)}},function(){croper=this,isChange=!0}),isChange&&(_this.croper=croper),_this.croper.setImage(result)}}else toastr.warning("不支持的图片格式")}}}]),UploadStore}();exports["default"]=_alt2["default"].createStore(UploadStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticeActions=__webpack_require__(249),_NoticeActions2=_interopRequireDefault(_NoticeActions),_NoticeStore=__webpack_require__(250),_NoticeStore2=_interopRequireDefault(_NoticeStore),_reactRouter=__webpack_require__(158),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),Notice=function(_React$Component){function Notice(props){_classCallCheck(this,Notice);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Notice).call(this,props));return _this.state=_NoticeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Notice,_React$Component),_createClass(Notice,[{key:"componentDidMount",value:function(){_NoticeStore2["default"].listen(this.onChange),_NoticeActions2["default"].getNoticesList()}},{key:"componentWillUnmount",value:function(){_NoticeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"readed",value:function(_id){_NoticeActions2["default"].getNotice(_id)}},{key:"render",value:function(){var _this2=this,Target=null;return this.state.loading===!1&&0!==this.state.notices.length?Target=this.state.notices.map(function(data){return _react2["default"].createElement("div",{key:data.notice._id,"data-item":data.notice._id,className:"mon-conlist-item mon-notice-item media animated flipInX"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading",width:"60"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("p",{className:"text-info"},data.notice.content),_react2["default"].createElement("div",null,_react2["default"].createElement("span",null,new Date(data.notice.create_time).toLocaleDateString()))),_react2["default"].createElement("button",{className:"btn btn-danger mon-read",onClick:_this2.readed.bind(_this2,data.notice._id)},"已读"))}):this.state.loading===!1&&0===this.state.notices.length?Target=_react2["default"].createElement("div",{className:"bg-primary mon-padding"},"没有私信或通知"):this.state.loading===!0&&(Target=_react2["default"].createElement(_Loading2["default"],null)),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9"},_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"通知／私信"),Target)}}]),Notice}(_react2["default"].Component);exports["default"]=Notice},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),NoticeActions=function(){function NoticeActions(){_classCallCheck(this,NoticeActions),this.generateActions("getNoticesListSuccess","getNoticeSuccess")}return _createClass(NoticeActions,[{key:"getNoticesList",value:function(){var _this=this;$.ajax({url:"/api/notices",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getNoticesListSuccess(data)}).fail(function(){toastr.warning("获取通知失败")})}},{key:"getNotice",value:function(_id){var _this2=this;$.ajax({url:"/api/notice/"+_id,type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this2.actions.getNoticeSuccess({data:data,_id:_id})}).fail(function(){toastr.warning("网络链接不正常")})}}]),NoticeActions}();exports["default"]=_alt2["default"].createActions(NoticeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_NoticeActions=__webpack_require__(249),_NoticeActions2=_interopRequireDefault(_NoticeActions),NoticeStore=function(){function NoticeStore(){_classCallCheck(this,NoticeStore),this.bindActions(_NoticeActions2["default"]),this.notices=[],this.loading=!0}return _createClass(NoticeStore,[{key:"onGetNoticesListSuccess",value:function(data){500===data.code?toastr.warning("获取通知失败"):404===data.code?toastr.warning("用户不存在"):200===data.code&&(this.notices=data.raw),this.loading=!1}},{key:"onGetNoticeSuccess",value:function(raw){console.log(raw);var data=raw.data,item=raw._id;500===data.code?toastr.error("服务器错误"):404===data.code?toastr.warning("通知（私信）不存在"):200===data.code&&$('[data-item="'+item+'"]').fadeOut("normal",function(){$(this).remove()}),console.log(data),0===data.count&&(console.log("hdhsdas"),this.notices=[])}}]),NoticeStore}();exports["default"]=_alt2["default"].createStore(NoticeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_StarListActions=__webpack_require__(252),_StarListActions2=_interopRequireDefault(_StarListActions),_StarListStore=__webpack_require__(253),_StarListStore2=_interopRequireDefault(_StarListStore),StarList=function(_React$Component){function StarList(props){_classCallCheck(this,StarList);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(StarList).call(this,props));return _this.state=_StarListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(StarList,_React$Component),_createClass(StarList,[{key:"componentDidMount",value:function(){_StarListStore2["default"].listen(this.onChange),void 0===this.props.params.domain?_StarListActions2["default"].getStarList(0,null):_StarListActions2["default"].getStarList(1,this.props.params.domain)}},{key:"componentWillUnmount",value:function(){_StarListStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"prevPage",value:function(){this.props;_StarListActions2["default"].getStarList(0,null,null,this.state.skip-1),_StarListActions2["default"].changeSkip(0)}},{key:"nextPage",value:function(){this.props;_StarListActions2["default"].getStarList(0,null,null,this.state.skip+1),_StarListActions2["default"].changeSkip(1)}},{key:"render",value:function(){var List=void 0,SkipPage=void 0,disabled="",disabledN="";return 0===this.state.skip&&(disabled="disabled"),(this.state.skip>=this.state.count/10-1||this.state.count<10)&&(disabledN="disabled"),0===this.state.starList.length?(List=_react2["default"].createElement("p",{className:"bg-info"},"还没有收藏任何东西"),SkipPage=null):(List=this.state.starList.map(function(data){return _react2["default"].createElement("div",{className:"media mon-conlist-item",key:data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id},_react2["default"].createElement("img",{src:data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{className:"text-primary",to:"/article/"+data._id},data.title),_react2["default"].createElement("div",{className:"mon-conlist-info"},_react2["default"].createElement("span",{className:"fa fa-clock-o"},new Date(data.create_time).toLocaleDateString())),_react2["default"].createElement("p",{className:"text-muted"},"简介：",data.summary||"什么鬼也没有")))}),SkipPage=_react2["default"].createElement("div",{className:"mon-skip"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page "+disabled,onClick:this.prevPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page "+disabledN,onClick:this.nextPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})))),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp mon-padding"},_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"收藏列表"),List,SkipPage)}}]),StarList}(_react2["default"].Component);exports["default"]=StarList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),StarListActions=function(){function StarListActions(){_classCallCheck(this,StarListActions),this.generateActions("getStarListSuccess","changeSkipSuccess")}return _createClass(StarListActions,[{key:"getStarList",value:function(what,user){var _this=this,option=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],skip=arguments.length<=3||void 0===arguments[3]?0:arguments[3];console.log("hehe");var params={what:what,user:{},option:option,skip:skip};0===what?params.user={_id:user}:params.user={domain:user},$.ajax({url:"/api/stars",cache:!1,type:"post",data:JSON.stringify(params),dataType:"json",contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getStarListSuccess(data)}).fail(function(data){toastr.error("链接出现问题")})}},{key:"changeSkip",value:function(option){this.actions.changeSkipSuccess(option)}}]),StarListActions}();exports["default"]=_alt2["default"].createActions(StarListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_StarListActions=__webpack_require__(252),_StarListActions2=_interopRequireDefault(_StarListActions),StarListStore=function(){function StarListStore(){_classCallCheck(this,StarListStore),this.bindActions(_StarListActions2["default"]),this.starList=[],this.skip=0,this.count=0}return _createClass(StarListStore,[{key:"onGetStarListSuccess",value:function(data){console.log(data),500===data.code?toastr.error("服务器错误"):200===data.code&&(this.starList=data.raw._raw,this.count=data.raw.count)}},{key:"onChangeSkipSuccess",value:function(option){0===option?this.skip=this.skip-1:this.skip=this.skip+1}}]),StarListStore}();exports["default"]=_alt2["default"].createStore(StarListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),NotFound=function(_React$Component){function NotFound(props){return _classCallCheck(this,NotFound),_possibleConstructorReturn(this,Object.getPrototypeOf(NotFound).call(this,props))}return _inherits(NotFound,_React$Component),_createClass(NotFound,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"mon-table"},_react2["default"].createElement("div",null,this.props.state)))}}]),NotFound}(_react2["default"].Component);exports["default"]=NotFound},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PostAnimateActions=__webpack_require__(256),_PostAnimateActions2=_interopRequireDefault(_PostAnimateActions),_PostAnimateStore=__webpack_require__(257),_PostAnimateStore2=_interopRequireDefault(_PostAnimateStore),_Upload=__webpack_require__(245),_Upload2=_interopRequireDefault(_Upload),_BigUpload=__webpack_require__(258),_BigUpload2=_interopRequireDefault(_BigUpload),PostAnimate=function(_React$Component){
function PostAnimate(props){_classCallCheck(this,PostAnimate);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PostAnimate).call(this,props));return _this.state=_PostAnimateStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(PostAnimate,_React$Component),_createClass(PostAnimate,[{key:"componentDidMount",value:function(){_PostAnimateStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_PostAnimateStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){_PostAnimateActions2["default"].postAnimate(this.state.title,this.state.tags,this.state.summary,$("#animate_file").text(),$("#upload_animate_img").text())}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},"分享动漫"),_react2["default"].createElement("form",{className:"form-horizontal"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"title"},"动漫标题")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"email",className:"form-control",id:"title",ref:"title",onChange:_PostAnimateActions2["default"].changeTitle,placeholder:"文章标题"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"动漫")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement(_BigUpload2["default"],{tab:"animate",target:"#animate_file"}),_react2["default"].createElement("p",{id:"animate_file",className:"text-primary mon-upload-file",onChange:_PostAnimateActions2["default"].changeMusic}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"tag"},"动漫标签")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"text",className:"form-control",id:"tag",ref:"tag",onChange:_PostAnimateActions2["default"].changeTags,placeholder:"请输入文章标签 (标签间以空格分隔)"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"封面图片")),_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Upload2["default"],{img:"#upload_animate_img"}),_react2["default"].createElement("p",{className:"text-muted"},"请选择您的文章封面图片。封面图片不得包含令人反感的信息，尺寸为480*270像素。 请勿使用与内容无关，或分辨率不为16:9的图片作为封面图片。")),_react2["default"].createElement("div",{className:"col-md-3"},_react2["default"].createElement("img",{src:"/img/cover-night.png",id:"upload_animate_img",width:"120",alt:"loading"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{htmlFor:"animate_summary",className:"label label-default"},"简介")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("textarea",{id:"animate_summary",name:"summary",cols:"30",rows:"10",onChange:_PostAnimateActions2["default"].changeSummary}))),_react2["default"].createElement("a",{href:"javascript:;",id:"upload_music",className:"btn btn-success pull-right mon-post-btn",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle-o"}),"提交稿件")))}}]),PostAnimate}(_react2["default"].Component);exports["default"]=PostAnimate},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),PostAnimateActions=function(){function PostAnimateActions(){_classCallCheck(this,PostAnimateActions),this.generateActions("postAnimateSuccess","changeTitle","changeTags","changeSummary")}return _createClass(PostAnimateActions,[{key:"postAnimate",value:function(title,tags,summary,animate_url,avatar_url){var _this=this,params={title:title,tags:tags,summary:summary,animate_url:animate_url,avatar_url:avatar_url,create_time:(new Date).getTime()};$.ajax({url:"/api/animate",dataType:"json",type:"post",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify({params:params})}).done(function(data){_this.actions.postAnimateSuccess(data)}).fail(function(){toastr.warning("分享失败")})}}]),PostAnimateActions}();exports["default"]=_alt2["default"].createActions(PostAnimateActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_PostAnimateActions=__webpack_require__(256),_PostAnimateActions2=_interopRequireDefault(_PostAnimateActions),PostAnimateStore=function(){function PostAnimateStore(){_classCallCheck(this,PostAnimateStore),this.bindActions(_PostAnimateActions2["default"]),this.title="",this.tags=[],this.summary="",this.avatar_url="",this.animate_url=""}return _createClass(PostAnimateStore,[{key:"onPostAnimateSuccess",value:function(data){500===data.code?toastr.error(data.meta):404===data.code?toastr.warning("用户不存在"):200===data.code&&toastr.success("分享成功")}},{key:"onChangeTitle",value:function(event){this.title=event.target.value}},{key:"onChangeTags",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tags=[],tags.map(function(data){_this.tags.push(data)})}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}}]),PostAnimateStore}();exports["default"]=_alt2["default"].createStore(PostAnimateStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_BigUploadActions=__webpack_require__(259),_BigUploadActions2=_interopRequireDefault(_BigUploadActions),_BigUploadStore=__webpack_require__(260),_BigUploadStore2=_interopRequireDefault(_BigUploadStore),_underscore=__webpack_require__(228),_underscore2=_interopRequireDefault(_underscore),BigUpload=function(_React$Component){function BigUpload(props){_classCallCheck(this,BigUpload);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(BigUpload).call(this,props));return _this.state=_BigUploadStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(BigUpload,_React$Component),_createClass(BigUpload,[{key:"componentDidMount",value:function(){var _this2=this;_BigUploadStore2["default"].listen(this.onChange),this.state.r.support?(this.state.r.assignBrowse($("#file_select")[0]),this.state.r.on("fileAdded",function(file,event){var target=file.file,$upload=$("#upload"),accept_type=["audio/mpeg","audio/ogg","video/mp4"];if(-1===_underscore2["default"].indexOf(accept_type,target.type))toastr.warning("不支持的格式"),$("#file_type_error").text("不支持的格式"),$upload.addClass("disabled");else{_this2.error="";var $fileLoader=$("#upload_file_loader");$fileLoader.hasClass("mon-preview-block-o")||($("#upload_file_select").removeClass("mon-upload").addClass("mon-upload-o"),$fileLoader.removeClass("mon-preview-block").addClass("mon-preview-block-o")),$upload.removeClass("disabled"),$(_this2.props.target).html(file.uniqueIdentifier),$("#mon_cancel").attr("data-target",file.uniqueIdentifier),$("#progress_bar").css("width","0")}}),this.state.r.on("fileSuccess",function(file,message){$("#progress_bar").css("width","0")}),this.state.r.on("fileError",function(){toastr.error("文件添加失败")}),this.state.r.on("fileProgress",function(file){$("#progress_bar").css("width",parseInt(100*file.progress())+"%")}),this.state.r.on("complete",function(){$("#progress_bar").css("width","100%")}),this.state.r.on("pause",function(){$(".mon-upload-btn").removeClass("mon-active"),$("#mon_pause").addClass("mon-active")}),this.state.r.on("cancel",function(){$("#progress_bar").css("width","0")})):toastr.warning("你的浏览器不支持这个功能，请更新为最新的浏览器")}},{key:"componentWillUnmount",value:function(){_BigUploadStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"closeBlock",value:function(){$("#file_upload").removeClass("mon-upload-block-o").addClass("mon-upload-block")}},{key:"openBlock",value:function(){$("#file_upload").removeClass("mon-upload-block").addClass("mon-upload-block-o")}},{key:"handleClick",value:function(){this.state.r.upload()}},{key:"pause",value:function(){this.state.r.pause()}},{key:"cancel",value:function(){this.state.r.cancel(),_BigUploadActions2["default"].cancelPost($("#mon_cancel").data("target"))}},{key:"render",value:function(){var Type="music"===this.props.tab?".mp3、.ape、.ogg":".mp4";return _react2["default"].createElement("div",null,_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-info",onClick:this.openBlock.bind(this)},_react2["default"].createElement("span",{className:"fa fa-file"}),"选择文件"),_react2["default"].createElement("div",{id:"file_upload",className:"mon-upload-block animated flipInX"},_react2["default"].createElement("div",{id:"upload_file_select",className:"mon-upload"},_react2["default"].createElement("label",{htmlFor:"file_select",className:"btn btn-info"},"打开文件"),_react2["default"].createElement("input",{id:"file_select",type:"file",className:"mon-fileloader"}),_react2["default"].createElement("p",{className:"text-warning"},"文件的类型为",Type),_react2["default"].createElement("p",{id:"file_type_error",className:"text-danger mon-disabled"},"不支持的文件类型")),_react2["default"].createElement("div",{id:"upload_file_loader",className:"mon-preview-block"},_react2["default"].createElement("div",{className:"mon-progress-block"},_react2["default"].createElement("div",{className:"mon-progress"},_react2["default"].createElement("div",{id:"progress_bar",className:"mon-progress-bar"})),_react2["default"].createElement("a",{id:"mon_pause",className:"fa fa-pause mon-upload-btn",onClick:this.pause.bind(this)}),_react2["default"].createElement("a",{id:"mon_upload",className:"fa fa-play mon-upload-btn",onClick:this.handleClick.bind(this)}),_react2["default"].createElement("a",{id:"mon_cancel",className:"fa fa-close mon-upload-btn","data-target":"",onClick:this.cancel.bind(this)})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-danger"},_react2["default"].createElement("label",{htmlFor:"file_select"},_react2["default"].createElement("span",{className:"fa fa-history"}),"重新选择文件")),_react2["default"].createElement("a",{href:"javascript:;",id:"upload",className:"btn btn-primary disabled",onClick:this.handleClick.bind(this)},"上传")),_react2["default"].createElement("span",{className:"mon-close fa fa-close",onClick:this.closeBlock.bind(this)})))}}]),BigUpload}(_react2["default"].Component);exports["default"]=BigUpload},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),BgUploadActions=function(){function BgUploadActions(){_classCallCheck(this,BgUploadActions),this.generateActions("postBgFileSuccess","changeFile")}return _createClass(BgUploadActions,[{key:"cancelPost",value:function(identifier){$.ajax({url:"/api/upload/music",type:"delete",dataType:"json",cache:!1,data:{identifier:identifier}}).done(function(data){200===data.code&&toastr.success(data.meta)}).fail(function(){toastr.error("取消上传失败")})}}]),BgUploadActions}();exports["default"]=_alt2["default"].createActions(BgUploadActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_BigUploadActions=__webpack_require__(259),_BigUploadActions2=_interopRequireDefault(_BigUploadActions),_resumable=__webpack_require__(261),_resumable2=_interopRequireDefault(_resumable),BigUploadStore=function(){function BigUploadStore(){_classCallCheck(this,BigUploadStore),this.bindActions(_BigUploadActions2["default"]),this.file={},this.r=new _resumable2["default"]({target:"/api/upload/music",chunkSize:1048576,simultaneousUploads:4,testChunks:!1,throttleProgressCallbacks:1,generateUniqueIdentifier:null}),this.error=""}return _createClass(BigUploadStore,[{key:"onChangeFile",value:function(event){console.log(event.target.files);var target=this.file=event.target.files[0];console.log(target);var accept_type=($("#upload"),["audio/mpeg","video/mp4"]);if(-1===_.indexOf(accept_type,this.file.type))toastr.warning("不支持的格式"),this.error="不支持的格式";else{this.error="";var $fileLoader=$("#upload_file_loader");$fileLoader.hasClass("mon-preview-block-o")||($("#upload_file_select").removeClass("mon-upload").addClass("mon-upload-o"),$fileLoader.removeClass("mon-preview-block").addClass("mon-preview-block-o"))}}},{key:"onPostBgFileSuccess",value:function(data){console.log(data)}}]),BigUploadStore}();exports["default"]=_alt2["default"].createStore(BigUploadStore)},function(module,exports,__webpack_require__){"use strict";!function(){var Resumable=function Resumable(opts){function ResumableFile(resumableObj,file,uniqueIdentifier){var $=this;$.opts={},$.getOpt=resumableObj.getOpt,$._prevProgress=0,$.resumableObj=resumableObj,$.file=file,$.fileName=file.fileName||file.name,$.size=file.size,$.relativePath=file.webkitRelativePath||file.relativePath||$.fileName,$.uniqueIdentifier=uniqueIdentifier,$._pause=!1,$.container="";var _error=void 0!==uniqueIdentifier,chunkEvent=function(event,message){switch(event){case"progress":$.resumableObj.fire("fileProgress",$);break;case"error":$.abort(),_error=!0,$.chunks=[],$.resumableObj.fire("fileError",$,message);break;case"success":if(_error)return;$.resumableObj.fire("fileProgress",$),$.isComplete()&&$.resumableObj.fire("fileSuccess",$,message);break;case"retry":$.resumableObj.fire("fileRetry",$)}};return $.chunks=[],$.abort=function(){var abortCount=0;$h.each($.chunks,function(c){"uploading"==c.status()&&(c.abort(),abortCount++)}),abortCount>0&&$.resumableObj.fire("fileProgress",$)},$.cancel=function(){var _chunks=$.chunks;$.chunks=[],$h.each(_chunks,function(c){"uploading"==c.status()&&(c.abort(),$.resumableObj.uploadNextChunk())}),$.resumableObj.removeFile($),$.resumableObj.fire("fileProgress",$)},$.retry=function(){$.bootstrap();var firedRetry=!1;$.resumableObj.on("chunkingComplete",function(){firedRetry||$.resumableObj.upload(),firedRetry=!0})},$.bootstrap=function(){$.abort(),_error=!1,$.chunks=[],$._prevProgress=0;for(var round=$.getOpt("forceChunkSize")?Math.ceil:Math.floor,maxOffset=Math.max(round($.file.size/$.getOpt("chunkSize")),1),offset=0;maxOffset>offset;offset++)!function(offset){window.setTimeout(function(){$.chunks.push(new ResumableChunk($.resumableObj,$,offset,chunkEvent)),$.resumableObj.fire("chunkingProgress",$,offset/maxOffset)},0)}(offset);window.setTimeout(function(){$.resumableObj.fire("chunkingComplete",$)},0)},$.progress=function(){if(_error)return 1;var ret=0,error=!1;return $h.each($.chunks,function(c){"error"==c.status()&&(error=!0),ret+=c.progress(!0)}),ret=error?1:ret>.99999?1:ret,ret=Math.max($._prevProgress,ret),$._prevProgress=ret,console.log(ret),ret},$.isUploading=function(){var uploading=!1;return $h.each($.chunks,function(chunk){return"uploading"==chunk.status()?(uploading=!0,!1):void 0}),uploading},$.isComplete=function(){var outstanding=!1;return $h.each($.chunks,function(chunk){var status=chunk.status();return"pending"==status||"uploading"==status||1===chunk.preprocessState?(outstanding=!0,!1):void 0}),!outstanding},$.pause=function(pause){"undefined"==typeof pause?$._pause=$._pause?!1:!0:$._pause=pause},$.isPaused=function(){return $._pause},$.resumableObj.fire("chunkingStart",$),$.bootstrap(),this}function ResumableChunk(resumableObj,fileObj,offset,callback){var $=this;$.opts={},$.getOpt=resumableObj.getOpt,$.resumableObj=resumableObj,$.fileObj=fileObj,$.fileObjSize=fileObj.size,$.fileObjType=fileObj.file.type,$.offset=offset,$.callback=callback,$.lastProgressCallback=new Date,$.tested=!1,$.retries=0,$.pendingRetry=!1,$.preprocessState=0;var chunkSize=$.getOpt("chunkSize");return $.loaded=0,$.startByte=$.offset*chunkSize,$.endByte=Math.min($.fileObjSize,($.offset+1)*chunkSize),$.fileObjSize-$.endByte<chunkSize&&!$.getOpt("forceChunkSize")&&($.endByte=$.fileObjSize),$.xhr=null,$.test=function(){$.xhr=new XMLHttpRequest;var testHandler=function(e){$.tested=!0;var status=$.status();"success"==status?($.callback(status,$.message()),$.resumableObj.uploadNextChunk()):$.send()};$.xhr.addEventListener("load",testHandler,!1),$.xhr.addEventListener("error",testHandler,!1),$.xhr.addEventListener("timeout",testHandler,!1);var params=[],parameterNamespace=$.getOpt("parameterNamespace"),customQuery=$.getOpt("query");"function"==typeof customQuery&&(customQuery=customQuery($.fileObj,$)),$h.each(customQuery,function(k,v){params.push([encodeURIComponent(parameterNamespace+k),encodeURIComponent(v)].join("="))}),params.push([parameterNamespace+"resumableChunkNumber",encodeURIComponent($.offset+1)].join("=")),params.push([parameterNamespace+"resumableChunkSize",encodeURIComponent($.getOpt("chunkSize"))].join("=")),params.push([parameterNamespace+"resumableCurrentChunkSize",encodeURIComponent($.endByte-$.startByte)].join("=")),params.push([parameterNamespace+"resumableTotalSize",encodeURIComponent($.fileObjSize)].join("=")),params.push([parameterNamespace+"resumableType",encodeURIComponent($.fileObjType)].join("=")),params.push([parameterNamespace+"resumableIdentifier",encodeURIComponent($.fileObj.uniqueIdentifier)].join("=")),params.push([parameterNamespace+"resumableFilename",encodeURIComponent($.fileObj.fileName)].join("=")),params.push([parameterNamespace+"resumableRelativePath",encodeURIComponent($.fileObj.relativePath)].join("=")),params.push([parameterNamespace+"resumableTotalChunks",encodeURIComponent($.fileObj.chunks.length)].join("=")),$.xhr.open($.getOpt("testMethod"),$h.getTarget(params)),$.xhr.timeout=$.getOpt("xhrTimeout"),$.xhr.withCredentials=$.getOpt("withCredentials");var customHeaders=$.getOpt("headers");"function"==typeof customHeaders&&(customHeaders=customHeaders($.fileObj,$)),$h.each(customHeaders,function(k,v){$.xhr.setRequestHeader(k,v)}),$.xhr.send(null)},$.preprocessFinished=function(){$.preprocessState=2,$.send()},$.send=function(){var preprocess=$.getOpt("preprocess");if("function"==typeof preprocess)switch($.preprocessState){case 0:return $.preprocessState=1,void preprocess($);case 1:return;case 2:}if($.getOpt("testChunks")&&!$.tested)return void $.test();$.xhr=new XMLHttpRequest,$.xhr.upload.addEventListener("progress",function(e){new Date-$.lastProgressCallback>1e3*$.getOpt("throttleProgressCallbacks")&&($.callback("progress"),$.lastProgressCallback=new Date),$.loaded=e.loaded||0},!1),$.loaded=0,$.pendingRetry=!1,$.callback("progress");var doneHandler=function(e){var status=$.status();if("success"==status||"error"==status)$.callback(status,$.message()),$.resumableObj.uploadNextChunk();else{$.callback("retry",$.message()),$.abort(),$.retries++;var retryInterval=$.getOpt("chunkRetryInterval");void 0!==retryInterval?($.pendingRetry=!0,setTimeout($.send,retryInterval)):$.send()}};$.xhr.addEventListener("load",doneHandler,!1),$.xhr.addEventListener("error",doneHandler,!1),$.xhr.addEventListener("timeout",doneHandler,!1);var query={resumableChunkNumber:$.offset+1,resumableChunkSize:$.getOpt("chunkSize"),resumableCurrentChunkSize:$.endByte-$.startByte,resumableTotalSize:$.fileObjSize,resumableType:$.fileObjType,resumableIdentifier:$.fileObj.uniqueIdentifier,resumableFilename:$.fileObj.fileName,resumableRelativePath:$.fileObj.relativePath,resumableTotalChunks:$.fileObj.chunks.length},customQuery=$.getOpt("query");"function"==typeof customQuery&&(customQuery=customQuery($.fileObj,$)),$h.each(customQuery,function(k,v){query[k]=v});var func=$.fileObj.file.slice?"slice":$.fileObj.file.mozSlice?"mozSlice":$.fileObj.file.webkitSlice?"webkitSlice":"slice",bytes=$.fileObj.file[func]($.startByte,$.endByte),data=null,target=$.getOpt("target"),parameterNamespace=$.getOpt("parameterNamespace");if("octet"===$.getOpt("method")){data=bytes;var params=[];$h.each(query,function(k,v){params.push([encodeURIComponent(parameterNamespace+k),encodeURIComponent(v)].join("="))}),target=$h.getTarget(params)}else data=new FormData,$h.each(query,function(k,v){data.append(parameterNamespace+k,v)}),data.append(parameterNamespace+$.getOpt("fileParameterName"),bytes);var method=$.getOpt("uploadMethod");$.xhr.open(method,target),"octet"===$.getOpt("method")&&$.xhr.setRequestHeader("Content-Type","binary/octet-stream"),$.xhr.timeout=$.getOpt("xhrTimeout"),$.xhr.withCredentials=$.getOpt("withCredentials");var customHeaders=$.getOpt("headers");"function"==typeof customHeaders&&(customHeaders=customHeaders($.fileObj,$)),$h.each(customHeaders,function(k,v){$.xhr.setRequestHeader(k,v)}),$.xhr.send(data)},$.abort=function(){$.xhr&&$.xhr.abort(),$.xhr=null},$.status=function(){return $.pendingRetry?"uploading":$.xhr?$.xhr.readyState<4?"uploading":200==$.xhr.status||201==$.xhr.status?"success":$h.contains($.getOpt("permanentErrors"),$.xhr.status)||$.retries>=$.getOpt("maxChunkRetries")?"error":($.abort(),"pending"):"pending"},$.message=function(){return $.xhr?$.xhr.responseText:""},$.progress=function(relative){"undefined"==typeof relative&&(relative=!1);var factor=relative?($.endByte-$.startByte)/$.fileObjSize:1;if($.pendingRetry)return 0;var s=$.status();switch(s){case"success":case"error":return 1*factor;case"pending":return 0*factor;default:return $.loaded/($.endByte-$.startByte)*factor}},this}if(!(this instanceof Resumable))return new Resumable(opts);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var $=this;$.files=[],$.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:void 0,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,maxFilesErrorCallback:function(files,errorCount){var maxFiles=$.getOpt("maxFiles");alert("Please upload no more than "+maxFiles+" file"+(1===maxFiles?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(file,errorCount){alert(file.fileName||file.name+" is too small, please upload files larger than "+$h.formatSize($.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(file,errorCount){alert(file.fileName||file.name+" is too large, please upload files less than "+$h.formatSize($.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(file,errorCount){alert(file.fileName||file.name+" has type not allowed, please upload files of type "+$.getOpt("fileType")+".")}},$.opts=opts||{},$.getOpt=function(o){var $opt=this;if(o instanceof Array){var options={};return $h.each(o,function(option){options[option]=$opt.getOpt(option)}),options}if($opt instanceof ResumableChunk){if("undefined"!=typeof $opt.opts[o])return $opt.opts[o];$opt=$opt.fileObj}if($opt instanceof ResumableFile){if("undefined"!=typeof $opt.opts[o])return $opt.opts[o];$opt=$opt.resumableObj}return $opt instanceof Resumable?"undefined"!=typeof $opt.opts[o]?$opt.opts[o]:$opt.defaults[o]:void 0},$.events=[],$.on=function(event,callback){$.events.push(event.toLowerCase(),callback)},$.fire=function(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);for(var event=args[0].toLowerCase(),i=0;i<=$.events.length;i+=2)$.events[i]==event&&$.events[i+1].apply($,args.slice(1)),"catchall"==$.events[i]&&$.events[i+1].apply(null,args);"fileerror"==event&&$.fire("error",args[2],args[1]),"fileprogress"==event&&$.fire("progress")};var $h={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(o,callback){if("undefined"!=typeof o.length){for(var i=0;i<o.length;i++)if(callback(o[i])===!1)return}else for(i in o)if(callback(i,o[i])===!1)return},generateUniqueIdentifier:function(file){var custom=$.getOpt("generateUniqueIdentifier");if("function"==typeof custom)return custom(file);var relativePath=file.webkitRelativePath||file.fileName||file.name,size=file.size;return size+"-"+relativePath.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(array,test){var result=!1;return $h.each(array,function(value){return value==test?(result=!0,!1):!0}),result},formatSize:function(size){return 1024>size?size+" bytes":1048576>size?(size/1024).toFixed(0)+" KB":1073741824>size?(size/1024/1024).toFixed(1)+" MB":(size/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(params){var target=$.getOpt("target");return"function"==typeof target?target(params):(target+=target.indexOf("?")<0?"?":"&",target+params.join("&"))}},onDrop=function(event){$h.stopEvent(event),event.dataTransfer&&event.dataTransfer.items?loadFiles(event.dataTransfer.items,event):event.dataTransfer&&event.dataTransfer.files&&loadFiles(event.dataTransfer.files,event)},preventDefault=function(e){e.preventDefault()},loadFiles=function loadFiles(files,event,queue,path){queue||(queue={total:0,files:[],event:event}),updateQueueTotal(files.length,queue);for(var i=0;i<files.length;i++){var entry,reader,file=files[i];if(file.isFile||file.isDirectory)entry=file;else if(file.getAsEntry)entry=file.getAsEntry();else{if(!file.webkitGetAsEntry){if("function"==typeof file.getAsFile){enqueueFileAddition(file.getAsFile(),queue,path);continue}if(File&&file instanceof File){enqueueFileAddition(file,queue,path);continue}updateQueueTotal(-1,queue);continue}entry=file.webkitGetAsEntry()}if(entry){if(entry.isFile)entry.file(function(file){enqueueFileAddition(file,queue,path)},function(err){console.warn(err)});else if(entry.isDirectory){reader=entry.createReader();var newEntries=[],readDir=function readDir(path){reader.readEntries(function(entries){if(entries.length>0){for(var i=0;i<entries.length;i++)newEntries.push(entries[i]);readDir(entry.fullPath)}else loadFiles(newEntries,event,queue,path),updateQueueTotal(-1,queue)},function(err){updateQueueTotal(-1,queue),console.warn(err)})};readDir(entry.fullPath)}}else updateQueueTotal(-1,queue)}},updateQueueTotal=function(addition,queue){queue.total+=addition,queue.files.length===queue.total&&appendFilesFromFileList(queue.files,queue.event)},enqueueFileAddition=function(file,queue,path){path&&(file.relativePath=path+"/"+file.name),queue.files.push(file),queue.files.length===queue.total&&appendFilesFromFileList(queue.files,queue.event)},appendFilesFromFileList=function(fileList,event){var errorCount=0,o=$.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!=typeof o.maxFiles&&o.maxFiles<fileList.length+$.files.length){if(1!==o.maxFiles||1!==$.files.length||1!==fileList.length)return o.maxFilesErrorCallback(fileList,errorCount++),!1;$.removeFile($.files[0]);
}var files=[];$h.each(fileList,function(file){function addFile(uniqueIdentifier){$.getFromUniqueIdentifier(uniqueIdentifier)||!function(){file.uniqueIdentifier=uniqueIdentifier;var f=new ResumableFile($,file,uniqueIdentifier);$.files.push(f),files.push(f),f.container="undefined"!=typeof event?event.srcElement:null,window.setTimeout(function(){$.fire("fileAdded",f,event)},0)}()}var fileName=file.name;if(o.fileType.length>0){var fileTypeFound=!1;for(var index in o.fileType){var extension="."+o.fileType[index];if(-1!==fileName.indexOf(extension,fileName.length-extension.length)){fileTypeFound=!0;break}}if(!fileTypeFound)return o.fileTypeErrorCallback(file,errorCount++),!1}if("undefined"!=typeof o.minFileSize&&file.size<o.minFileSize)return o.minFileSizeErrorCallback(file,errorCount++),!1;if("undefined"!=typeof o.maxFileSize&&file.size>o.maxFileSize)return o.maxFileSizeErrorCallback(file,errorCount++),!1;var uniqueIdentifier=$h.generateUniqueIdentifier(file);uniqueIdentifier&&"function"==typeof uniqueIdentifier.done&&"function"==typeof uniqueIdentifier.fail?uniqueIdentifier.done(function(uniqueIdentifier){addFile(uniqueIdentifier)}).fail(function(){addFile()}):addFile(uniqueIdentifier)}),window.setTimeout(function(){$.fire("filesAdded",files)},0)};return $.uploadNextChunk=function(){var found=!1;if($.getOpt("prioritizeFirstAndLastChunk")&&($h.each($.files,function(file){return file.chunks.length&&"pending"==file.chunks[0].status()&&0===file.chunks[0].preprocessState?(file.chunks[0].send(),found=!0,!1):file.chunks.length>1&&"pending"==file.chunks[file.chunks.length-1].status()&&0===file.chunks[file.chunks.length-1].preprocessState?(file.chunks[file.chunks.length-1].send(),found=!0,!1):void 0}),found))return!0;if($h.each($.files,function(file){return file.isPaused()===!1&&$h.each(file.chunks,function(chunk){return"pending"==chunk.status()&&0===chunk.preprocessState?(chunk.send(),found=!0,!1):void 0}),found?!1:void 0}),found)return!0;var outstanding=!1;return $h.each($.files,function(file){return file.isComplete()?void 0:(outstanding=!0,!1)}),outstanding||$.fire("complete"),!1},$.assignBrowse=function(domNodes,isDirectory){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),$h.each(domNodes,function(domNode){var input;"INPUT"===domNode.tagName&&"file"===domNode.type?input=domNode:(input=document.createElement("input"),input.setAttribute("type","file"),input.style.display="none",domNode.addEventListener("click",function(){input.style.opacity=0,input.style.display="block",input.focus(),input.click(),input.style.display="none"},!1),domNode.appendChild(input));var maxFiles=$.getOpt("maxFiles");"undefined"==typeof maxFiles||1!=maxFiles?input.setAttribute("multiple","multiple"):input.removeAttribute("multiple"),isDirectory?input.setAttribute("webkitdirectory","webkitdirectory"):input.removeAttribute("webkitdirectory"),input.addEventListener("change",function(e){appendFilesFromFileList(e.target.files,e),e.target.value=""},!1)})},$.assignDrop=function(domNodes){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),$h.each(domNodes,function(domNode){domNode.addEventListener("dragover",preventDefault,!1),domNode.addEventListener("dragenter",preventDefault,!1),domNode.addEventListener("drop",onDrop,!1)})},$.unAssignDrop=function(domNodes){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),$h.each(domNodes,function(domNode){domNode.removeEventListener("dragover",preventDefault),domNode.removeEventListener("dragenter",preventDefault),domNode.removeEventListener("drop",onDrop)})},$.isUploading=function(){var uploading=!1;return $h.each($.files,function(file){return file.isUploading()?(uploading=!0,!1):void 0}),uploading},$.upload=function(){if(!$.isUploading()){$.fire("uploadStart");for(var num=1;num<=$.getOpt("simultaneousUploads");num++)$.uploadNextChunk()}},$.pause=function(){$h.each($.files,function(file){file.abort()}),$.fire("pause")},$.cancel=function(){for(var i=$.files.length-1;i>=0;i--)$.files[i].cancel();$.fire("cancel")},$.progress=function(){var totalDone=0,totalSize=0;return $h.each($.files,function(file){totalDone+=file.progress()*file.size,totalSize+=file.size}),totalSize>0?totalDone/totalSize:0},$.addFile=function(file,event){appendFilesFromFileList([file],event)},$.removeFile=function(file){for(var i=$.files.length-1;i>=0;i--)$.files[i]===file&&$.files.splice(i,1)},$.getFromUniqueIdentifier=function(uniqueIdentifier){var ret=!1;return $h.each($.files,function(f){f.uniqueIdentifier==uniqueIdentifier&&(ret=f)}),ret},$.getSize=function(){var totalSize=0;return $h.each($.files,function(file){totalSize+=file.size}),totalSize},$.handleDropEvent=function(e){onDrop(e)},$.handleChangeEvent=function(e){appendFilesFromFileList(e.target.files,e),e.target.value=""},this};module.exports=Resumable}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PostMusicActions=__webpack_require__(263),_PostMusicActions2=_interopRequireDefault(_PostMusicActions),_PostMusicStore=__webpack_require__(264),_PostMusicStore2=_interopRequireDefault(_PostMusicStore),_Upload=__webpack_require__(245),_Upload2=_interopRequireDefault(_Upload),_BigUpload=__webpack_require__(258),_BigUpload2=_interopRequireDefault(_BigUpload),PostMusic=function(_React$Component){function PostMusic(props){_classCallCheck(this,PostMusic);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PostMusic).call(this,props));return _this.state=_PostMusicStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(PostMusic,_React$Component),_createClass(PostMusic,[{key:"componentDidMount",value:function(){_PostMusicStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_PostMusicStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var music_url="/upload/"+$("#music_file").text(),avatar_url=$("#upload_album_img").attr("src");_PostMusicActions2["default"].postMusic(this.state.title,this.state.tags,music_url,avatar_url,this.state.summary)}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},"分享音乐"),_react2["default"].createElement("form",{className:"form-horizontal"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"title"},"音乐标题")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"email",className:"form-control",id:"title",ref:"title",onChange:_PostMusicActions2["default"].changeTitle,placeholder:"文章标题"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"音乐")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement(_BigUpload2["default"],{tab:"music",target:"#music_file"}),_react2["default"].createElement("p",{id:"music_file",className:"text-primary mon-upload-file",onChange:_PostMusicActions2["default"].changeMusic}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"tag"},"音乐标签")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"text",className:"form-control",id:"tag",ref:"tag",onChange:_PostMusicActions2["default"].changeTags,placeholder:"请输入文章标签 (标签间以空格分隔)"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"封面图片")),_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Upload2["default"],{img:"#upload_album_img"}),_react2["default"].createElement("p",{className:"text-muted"},"请选择您的文章封面图片。封面图片不得包含令人反感的信息，尺寸为480*270像素。 请勿使用与内容无关，或分辨率不为16:9的图片作为封面图片。")),_react2["default"].createElement("div",{className:"col-md-3"},_react2["default"].createElement("img",{src:"/img/cover-night.png",id:"upload_album_img",width:"120",alt:"loading"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{htmlFor:"music_summary",className:"label label-default"},"简介")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("textarea",{name:"summary",id:"music_summary",rows:"10",className:"form-control",placeholder:"这里是写简介的",onChange:_PostMusicActions2["default"].changeSummary}))),_react2["default"].createElement("a",{href:"javascript:;",id:"upload_music",className:"btn btn-success pull-right mon-post-btn",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle-o"}),"提交稿件")))}}]),PostMusic}(_react2["default"].Component);exports["default"]=PostMusic},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),PostMusicActions=function(){function PostMusicActions(){_classCallCheck(this,PostMusicActions),this.generateActions("changeTitle","changeTags","changeSummary","postMusicSuccess")}return _createClass(PostMusicActions,[{key:"postMusic",value:function(title,tags,music_url,avatar_url,summary){var _this=this,postData={params:{title:title,tags:tags,music_url:music_url,abbreviations:avatar_url,create_time:(new Date).getTime(),summary:summary}};$.ajax({url:"/api/music",cache:!1,dataType:"json",contentType:"application/json;charset=utf-8",type:"post",data:JSON.stringify(postData)}).success(function(data){_this.actions.postMusicSuccess(data)}).fail(function(){toastr.warning("分享不成功")})}}]),PostMusicActions}();exports["default"]=_alt2["default"].createActions(PostMusicActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_PostMusicActions=__webpack_require__(263),_PostMusicActions2=_interopRequireDefault(_PostMusicActions),PostMusicStore=function(){function PostMusicStore(){_classCallCheck(this,PostMusicStore),this.bindActions(_PostMusicActions2["default"]),this.title,this.tags=[],this.summary=""}return _createClass(PostMusicStore,[{key:"onChangeTitle",value:function(event){this.title=event.target.value}},{key:"onChangeTags",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tags=[],tags.map(function(data){_this.tags.push(data)})}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}},{key:"onPostMusicSuccess",value:function(data){switch(data.code){case 200:toastr.success("分享成功");break;case 404:toastr.warning("用户不存在");break;case 500:toastr.error("服务器错误")}}}]),PostMusicStore}();exports["default"]=_alt2["default"].createStore(PostMusicStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PostArticleActions=__webpack_require__(266),_PostArticleActions2=_interopRequireDefault(_PostArticleActions),_PostArticleStore=__webpack_require__(267),_PostArticleStore2=_interopRequireDefault(_PostArticleStore),_Upload=__webpack_require__(245),_Upload2=_interopRequireDefault(_Upload),_markdown=__webpack_require__(268),_markdown2=_interopRequireDefault(_markdown),PostArticle=function(_React$Component){function PostArticle(props){_classCallCheck(this,PostArticle);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PostArticle).call(this,props));return _this.state=_PostArticleStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(PostArticle,_React$Component),_createClass(PostArticle,[{key:"componentDidMount",value:function(){_PostArticleStore2["default"].listen(this.onChange),this.refs.title.getDOMNode().focus();var markdown=_markdown2["default"].markdown;$("#some-textarea").markdown({autofocus:!1,savable:!1,onPreview:function(e){var previewContent;if(e.isDirty()){var originalContent=e.getContent();previewContent=markdown.toHTML(originalContent)}else previewContent="写下你的大作吧！！！";return previewContent}})}},{key:"componentWillUnmount",value:function(){_PostArticleStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){_PostArticleActions2["default"].postArticle(this.state.title,this.state.summary,this.state.tag,$("#upload_img_value").val(),this.state.content)}},{key:"saveArticle",value:function(){var localStorage=window.localStorage,article={title:this.state.title,summary:this.state.summary,tags:this.state.tag,content:this.state.content,abbreviations:$("#upload_img_value").val(),post:!1};localStorage.setItem("postArticle",JSON.stringify(article)),toastr.success("保存稿件成功")}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},"文章投稿"),_react2["default"].createElement("form",{className:"form-horizontal"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"title"},"文章标题")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"email",className:"form-control",id:"title",ref:"title",onChange:_PostArticleActions2["default"].changeTitle,placeholder:"文章标题"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"tag"},"文章标签")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"text",className:"form-control",id:"tag",ref:"tag",onChange:_PostArticleActions2["default"].changeTag,placeholder:"请输入文章标签 (标签间以空格分隔)"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"summary"},"文章简介")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("textarea",{className:"form-control",name:"summary",id:"summary",rows:"5",onChange:_PostArticleActions2["default"].changeSummary,placeholder:"文章简介"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"封面图片")),_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Upload2["default"],{img:"#upload_img"}),_react2["default"].createElement("p",{className:"text-muted"},"请选择您的文章封面图片。封面图片不得包含令人反感的信息，尺寸为480*270像素。 请勿使用与内容无关，或分辨率不为16:9的图片作为封面图片。")),_react2["default"].createElement("div",{className:"col-md-3"},_react2["default"].createElement("img",{src:"/img/cover-night.png",id:"upload_img",width:"120",alt:"loading"}))),_react2["default"].createElement("textarea",{id:"some-textarea",name:"content","data-provide":"markdown",rows:"15",onChange:_PostArticleActions2["default"].changeContent}),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-info mon-post-btn",onClick:this.saveArticle.bind(this)},_react2["default"].createElement("span",{className:"fa fa-clock-o"}),"保存"),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-success pull-right mon-post-btn",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle-o"}),"提交稿件")))}}]),PostArticle}(_react2["default"].Component);exports["default"]=PostArticle},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),PostArticleActions=function(){function PostArticleActions(){_classCallCheck(this,PostArticleActions),this.generateActions("changeTitle","changeAbbreviations","changeTag","changeContent","changeSummary","changeMusic","postArticleSuccess")}return _createClass(PostArticleActions,[{key:"postArticle",value:function(title,summary,tags,abbreviations,content){var _this=this,params={params:{title:title,summary:summary,tags:tags,abbreviations:abbreviations,content:content,create_time:(new Date).getTime()}};console.log(params),$.ajax({url:"/api/article",type:"post",dataType:"json",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.postArticleSuccess(data)}).fail(function(){toastr.error("发表文章不成功")})}}]),PostArticleActions}();exports["default"]=_alt2["default"].createActions(PostArticleActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_PostArticleActions=__webpack_require__(266),_PostArticleActions2=_interopRequireDefault(_PostArticleActions),PostArticleStore=function(){function PostArticleStore(){_classCallCheck(this,PostArticleStore),this.bindActions(_PostArticleActions2["default"]),this.title="",this.abbreviations="",this.tag=[],this.content="",this.summary=""}return _createClass(PostArticleStore,[{key:"onChangeTitle",value:function(event){this.title=event.target.value}},{key:"onChangeAbbreviations",value:function(event){console.log(event.target.value),this.abbreviations=event.target.value}},{key:"onChangeTag",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tag=[],tags.map(function(data){_this.tag.push(data)})}},{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}},{key:"onPostArticleSuccess",value:function(data){200===data.code?toastr.success("发表文章成功"):406===data.code?toastr.warning("这个用户不存在"):500===data.code&&toastr.error("发表文章不成功")}}]),PostArticleStore}();exports["default"]=_alt2["default"].createStore(PostArticleStore)},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_MyContributeActions=__webpack_require__(274),_MyContributeActions2=_interopRequireDefault(_MyContributeActions),_MyContributeStore=__webpack_require__(275),_MyContributeStore2=_interopRequireDefault(_MyContributeStore),_reactRouter=__webpack_require__(158),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),MyContribute=function(_React$Component){function MyContribute(props){_classCallCheck(this,MyContribute);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MyContribute).call(this,props));return _this.state=_MyContributeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(MyContribute,_React$Component),_createClass(MyContribute,[{key:"componentDidMount",value:function(){_MyContributeStore2["default"].listen(this.onChange),_MyContributeActions2["default"].getContribute(this.props.params.column,0)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.column!==this.props.params.column&&_MyContributeActions2["default"].getContribute(this.props.params.column,0)}},{key:"componentWillUnmount",value:function(){_MyContributeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"delete",value:function(column,_id,target){_MyContributeActions2["default"]["delete"](column,_id,"#"+target)}},{key:"update",value:function(column,_id){_MyContributeActions2["default"].get(column,_id)}},{key:"render",value:function(){var _this2=this,List=void 0;return this.state.loading?List=_react2["default"].createElement(_Loading2["default"],null):0!==this.state.list.length?List=this.state.list.map(function(data,index){var option="article";switch(_this2.props.params.column){case"articles":option="article";break;case"musics":option="music";break;case"animtes":option="animate"}return _react2["default"].createElement("div",{id:"myContribute_"+data.data._id,className:"media mon-conlist-item",key:"contribute:"+data.data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id,className:"text-primary mon-conlist-title"},data.data.title),_react2["default"].createElement("p",{className:"text-muted mon-conlist-info"},_react2["default"].createElement("span",null,"投稿日期：",new Date(data.data.create_time).toLocaleDateString()),_react2["default"].createElement("span",null,"浏览次数：",data.data.browser_count)),_react2["default"].createElement("p",{className:"text-muted"},data.data.summary),_react2["default"].createElement("div",{className:"mon-fixed-btn"},_react2["default"].createElement("button",{className:"btn btn-danger",onClick:_this2["delete"].bind(_this2,option,data.data._id,"myContribute_"+data.data._id)},"删除"),_react2["default"].createElement("button",{className:"btn btn-primary",onClick:_this2.update.bind(_this2,option,data.data._id)},"更改"))),_react2["default"].createElement("span",{className:"mon-conlist-index"},index+1))}):this.state.error&&(List=_react2["default"].createElement("div",null,_react2["default"].createElement("a",{href:"javascript:;"},_react2["default"].createElement("span",{className:"fa fa-circle"}),"刷新"))),_react2["default"].createElement("div",{className:"animated flipInX mon-contribute"},List)}}]),MyContribute}(_react2["default"].Component);exports["default"]=MyContribute},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),MyContributeActions=function(){function MyContributeActions(){_classCallCheck(this,MyContributeActions),this.generateActions("getContributeSuccess","getContributeFail","deleteSuccess","getSuccess","getFail")}return _createClass(MyContributeActions,[{key:"getContribute",value:function(column,skip){var _this=this,params={option:{skip:skip,limit:10},query:"profile"};$.ajax({url:"/api/"+column,type:"post",cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(params),timeOut:1e4}).done(function(data){_this.actions.getContributeSuccess(data)}).fail(function(){_this.actions.getContributeFail()}).error(function(){_this.actions.getContributeFail()})}},{key:"delete",value:function(column,_id,target){var _this2=this;$.ajax({url:"/api/"+column+"/"+_id,type:"delete",contentType:"application/json;charset=utf-8",cache:!1}).done(function(data){_this2.actions.deleteSuccess({data:data,target:target})}).fail(function(){toastr.warning("删除不成功")})}},{key:"get",value:function(column,_id){var _this3=this;$.ajax({url:"/api/"+column+"/"+_id+"/false",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this3.actions.getSuccess(data)}).fail(function(){_this3.actions.getFail()})}}]),MyContributeActions}();exports["default"]=_alt2["default"].createActions(MyContributeActions);
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_MyContributeActions=__webpack_require__(274),_MyContributeActions2=_interopRequireDefault(_MyContributeActions),_markdown=__webpack_require__(268),_markdown2=_interopRequireDefault(_markdown),MyContributeStore=function(){function MyContributeStore(){_classCallCheck(this,MyContributeStore),this.bindActions(_MyContributeActions2["default"]),this.loading=!0,this.error=!1,this.list=[]}return _createClass(MyContributeStore,[{key:"onGetContributeSuccess",value:function(data){console.log(data),this.loading=!1,200===data.code?this.list=data.raw._raw:500===data.code&&(this.error=!0)}},{key:"onGetContributeFail",value:function(){this.loading=!1,this.error=!0}},{key:"onDeleteSuccess",value:function(raw){var data=raw.data,target=raw.target;200===data.code?(toastr.success("删除成功"),$(target).fadeOut(function(){$(this).remove()})):toastr.warning(data.meta)}},{key:"onGetSuccess",value:function(data){200===data.code?!function(){var target=data.raw.article,$updateModal=$("#updateModal");$updateModal.on("show.bs.modal",function(event){var modal=$(this),tags=target.tags.toString().replace(/,/g," ");modal.find("input[name='title']").val(target.title),modal.find("textarea[name='summary']").val(target.summary),modal.find("input[name='tag']").val(tags),modal.find("textarea[name='content']").val(target.content),modal.find("input[name='_id']").val(target._id);var markdown=_markdown2["default"].markdown;$("#updateContent").markdown({autofocus:!1,savable:!1,onPreview:function(e){var previewContent;if(e.isDirty()){var originalContent=e.getContent();previewContent=markdown.toHTML(originalContent)}else previewContent="写下你的大作吧！！！";return previewContent}})}),$updateModal.modal("show")}():toastr.warning("获取数据失败")}},{key:"onGetFail",value:function(){toastr.warning("获取数据失败")}}]),MyContributeStore}();exports["default"]=_alt2["default"].createStore(MyContributeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ProfileCenterActions=__webpack_require__(277),_ProfileCenterActions2=_interopRequireDefault(_ProfileCenterActions),_ProfileCenterStore=__webpack_require__(278),_ProfileCenterStore2=_interopRequireDefault(_ProfileCenterStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(158),ProfileCenter=function(_React$Component){function ProfileCenter(props){_classCallCheck(this,ProfileCenter);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ProfileCenter).call(this,props));return _this.state=_ProfileCenterStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(ProfileCenter,_React$Component),_createClass(ProfileCenter,[{key:"componentDidMount",value:function(){_ProfileCenterStore2["default"].listen(this.onChange),_ProfileCenterActions2["default"].getProfile()}},{key:"componentWillUnmount",value:function(){_ProfileCenterStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Target=null,More=null;return this.state.starsCount>7&&(More=_react2["default"].createElement("div",{className:"col-md-3 col-xs-12 mon-more"},_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star",className:"mon-muted"},_react2["default"].createElement("span",{className:"fa fa-plus"})))),this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.loading===!1&&this.state.stars.length>0&&(Target=this.state.stars.map(function(data){return _react2["default"].createElement("div",{key:data._id,className:"media col-md-6 col-xs-12"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id},_react2["default"].createElement("img",{src:data.abbreviations||"/img/abbreviations.png",width:"120",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id,className:"text-primary"},data.title),_react2["default"].createElement("p",{className:"text-muted"},data.summary||"什么鬼也没有")))})),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("div",{className:"mon-badge mon-tab"},_react2["default"].createElement("span",{className:"fa fa-folder-open text-info"}),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/contribute/articles",className:"mon-muted"},"个人投稿"),_react2["default"].createElement("span",{className:"badge"},this.state.contribute)),_react2["default"].createElement("div",{className:"mon-tab"},_react2["default"].createElement("div",{className:"mon-badge"},_react2["default"].createElement("span",{className:"fa fa-file-text text-success"}),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star",className:"mon-muted"},"收藏"),_react2["default"].createElement("span",{className:"badge"},this.state.starsCount)),_react2["default"].createElement("div",{className:"mon-star-list clearfix"},Target,More)))}}]),ProfileCenter}(_react2["default"].Component);exports["default"]=ProfileCenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ProfileCenterActions=function(){function ProfileCenterActions(){_classCallCheck(this,ProfileCenterActions),this.generateActions("getProfileSuccess")}return _createClass(ProfileCenterActions,[{key:"getProfile",value:function(){var _this=this;$.ajax({url:"/api/profile/center",type:"get",cache:!1,contentType:"application/json;charset=utf-8",timeOut:3e3}).done(function(data){_this.actions.getProfileSuccess(data)}).fail(function(){toastr.warning("获取资料失败")}).error(function(){toastr.warning("获取资料失败")})}}]),ProfileCenterActions}();exports["default"]=_alt2["default"].createActions(ProfileCenterActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ProfileCenterActions=__webpack_require__(277),_ProfileCenterActions2=_interopRequireDefault(_ProfileCenterActions),ProfileCenterStore=function(){function ProfileCenterStore(){_classCallCheck(this,ProfileCenterStore),this.bindActions(_ProfileCenterActions2["default"]),this.contribute=0,this.stars=[],this.starsCount=0,this.loading=!0}return _createClass(ProfileCenterStore,[{key:"onGetProfileSuccess",value:function(data){this.loading=!1,200===data.code?(this.contribute=data.raw.profile.contribute.length,this.stars=data.raw.stars._raw,this.starsCount=data.raw.stars.count):toastr.warning("获取资料失败")}}]),ProfileCenterStore}();exports["default"]=_alt2["default"].createStore(ProfileCenterStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_underscore=__webpack_require__(228),_FollowActions=__webpack_require__(280),_FollowActions2=_interopRequireDefault(_FollowActions),_FollowStore=__webpack_require__(281),_FollowStore2=_interopRequireDefault(_FollowStore),_Pagination=__webpack_require__(282),_Pagination2=_interopRequireDefault(_Pagination),Follow=function(_React$Component){function Follow(props){_classCallCheck(this,Follow);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Follow).call(this,props));return _this.state=_FollowStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Follow,_React$Component),_createClass(Follow,[{key:"componentDidMount",value:function(){_FollowStore2["default"].listen(this.onChange);var page=this.props.params.page;void 0===page&&(page=1);var column=this.props.params.follow;_FollowActions2["default"].getFollows(column,page)}},{key:"componentDidUpdate",value:function(prevProps){if(!(0,_underscore.isEqual)(prevProps.params,this.props.params)){var page=this.props.params.page;void 0===page&&(page=1),_FollowActions2["default"].getFollows(this.props.params.follow,page)}}},{key:"componentWillUnmount",value:function(){_FollowStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(auth_id){var $self=$("[data-self="+auth_id+"]");"0"===$self.data("option").toString()?_FollowActions2["default"].addFollow($self,auth_id):_FollowActions2["default"].unFollow($self,auth_id)}},{key:"render",value:function(){var _this2=this,followers=void 0,Title=void 0;Title="followers"===this.props.params.follow?"关注我的":"我关注的",followers=0===this.state.follows.length?_react2["default"].createElement("p",{className:"bg-danger mon-padding"},"没有任何数据"):this.state.follows.map(function(data,index){var FollowBtn=void 0;return FollowBtn=data.following?_react2["default"].createElement("a",{href:"javascript:;","data-self":data.user._id.toString(),"data-option":"1",onClick:_this2.handleClick.bind(_this2,data.user._id.toString())},"取消关注"):_react2["default"].createElement("a",{href:"javascript:;","data-self":data.user._id.toString(),"data-option":"0",onClick:_this2.handleClick.bind(_this2,data.user._id.toString())},"关注"),_react2["default"].createElement("div",{key:data.user._id,className:"listgroup animated flipInX"},_react2["default"].createElement("div",{className:"media"},_react2["default"].createElement("span",{className:"position pull-left"},index+1),_react2["default"].createElement("div",{className:"pull-left thumb-lg"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{className:"media-object",width:"80",src:data.user.avatar_url}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("h4",{className:"media-heading followers-name"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},data.user.username)),_react2["default"].createElement("p",{className:"followers-intro"},data.user.introduce),_react2["default"].createElement("div",{className:"follow"},FollowBtn))))});var pagination=0!==this.state.follows.length?_react2["default"].createElement(_Pagination2["default"],null):null;return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},Title),followers,pagination)}}]),Follow}(_react2["default"].Component);exports["default"]=Follow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),FollowActions=function(){function FollowActions(){_classCallCheck(this,FollowActions),this.generateActions("getFollowSuccess","changeFollowId","addFollowSuccess","unFollowSuccess")}return _createClass(FollowActions,[{key:"getFollows",value:function(column,page){var _this=this,url="/api/"+column,params={option:{skip:page,limit:10}};$.ajax({url:url,cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",type:"post",date:JSON.stringify(params)}).done(function(data){_this.actions.getFollowSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}},{key:"addFollow",value:function($self,auth_id){var _this2=this,params={_id:auth_id};$.ajax({url:"/api/follow",dataType:"json",type:"post",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this2.actions.addFollowSuccess([$self,data])}).fail(function(){toastr.error("关注不成功")})}},{key:"unFollow",value:function($self,auth_id){var _this3=this,params={_id:auth_id};$.ajax({url:"/api/follow",type:"delete",cache:!1,contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify(params)}).done(function(data){_this3.actions.unFollowSuccess([$self,data])}).fail(function(){toastr.warning("取消关注不成功")})}}]),FollowActions}();exports["default"]=_alt2["default"].createActions(FollowActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_FollowActions=__webpack_require__(280),_FollowActions2=_interopRequireDefault(_FollowActions),FollowStore=function(){function FollowStore(){_classCallCheck(this,FollowStore),this.bindActions(_FollowActions2["default"]),this.follows=[],this.loading=!0,this.error=!1}return _createClass(FollowStore,[{key:"onGetFollowSuccess",value:function(data){this.loading=!0,200===data.code?this.follows=data.raw:500===data.code&&(toastar.warning("获取数据失败"),this.error=!0)}},{key:"onAddFollowSuccess",value:function(data){switch(data[1].code){case 400:toastr.error("本地用户不存在");break;case 200:toastr.success("关注成功"),data[0].text("取消关注"),data[0].data("option",1);break;case 304:toastr.warning("你已经关注过这个用户");break;case 404:toastr.error("关注的用户不存在")}}},{key:"onUnFollowSuccess",value:function(data){switch(data[1].code){case 400:toastr.error("本地用户不存在");break;case 200:toastr.success("取消关注成功"),data[0].text("关注"),data[0].data("option",0);break;case 304:toastr.warning("你还没有关注过这个用户");break;case 404:toastr.error("关注的用户不存在")}}}]),FollowStore}();exports["default"]=_alt2["default"].createStore(FollowStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PaginationActions=__webpack_require__(283),_PaginationStore=(_interopRequireDefault(_PaginationActions),__webpack_require__(284)),_PaginationStore2=_interopRequireDefault(_PaginationStore),Pagination=function(_React$Component){function Pagination(props){_classCallCheck(this,Pagination);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Pagination).call(this,props));return _this.state=_PaginationStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Pagination,_React$Component),_createClass(Pagination,[{key:"componentDidMount",value:function(){_PaginationStore2["default"].listen(this.onChange)}},{key:"componentWillUnmMout",value:function(){_PaginationStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){return _react2["default"].createElement("nav",null,_react2["default"].createElement("ul",{className:"pagination"},_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"#","aria-label":"Previous"},_react2["default"].createElement("span",{"aria-hidden":"true"},"«"))),_react2["default"].createElement("li",{className:"active"},_react2["default"].createElement("a",{href:"1"},"1 ",_react2["default"].createElement("span",{className:"sr-only"},"(current)"))),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"2"},"2")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"3"},"3")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"4"},"4")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"5"},"5")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:""},_react2["default"].createElement("span",{"aria-hidden":"true"},"»")))))}}]),Pagination}(_react2["default"].Component);exports["default"]=Pagination},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),PaginationActions=function PaginationActions(){_classCallCheck(this,PaginationActions),this.generateActions()};exports["default"]=_alt2["default"].createActions(PaginationActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_PaginationActions=__webpack_require__(283),_PaginationActions2=_interopRequireDefault(_PaginationActions),PaginationStore=function PaginationStore(){_classCallCheck(this,PaginationStore),this.bindActions(_PaginationActions2["default"])};exports["default"]=_alt2["default"].createStore(PaginationStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_ContributeActions=__webpack_require__(286),_ContributeStore=(_interopRequireDefault(_ContributeActions),__webpack_require__(287)),_ContributeStore2=_interopRequireDefault(_ContributeStore),Contribute=function(_React$Component){function Contribute(props){_classCallCheck(this,Contribute);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Contribute).call(this,props));return _this.state=_ContributeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Contribute,_React$Component),_createClass(Contribute,[{key:"componentDidMount",value:function(){_ContributeStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_ContributeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var domain=this.props.domain,ConNav=_react2["default"].createElement("div",{className:"mon-contribute-nav"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/contributes/article"},"文章"),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/contributes/music"},"音乐"),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/contributes/animate"},"动漫"));return _react2["default"].createElement("div",{className:"col-sm-9 col-md-9 animated fadeInUp"},_react2["default"].createElement("div",null,_react2["default"].createElement("div",{className:"mon-contribute-block"},ConNav)),_react2["default"].createElement(_reactRouter.RouteHandler,null))}}]),Contribute}(_react2["default"].Component);exports["default"]=Contribute},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ContributeActions=function ContributeActions(){_classCallCheck(this,ContributeActions),this.generateActions()};exports["default"]=_alt2["default"].createActions(ContributeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ContributeActions=__webpack_require__(286),_ContributeActions2=_interopRequireDefault(_ContributeActions),ContributeStore=function ContributeStore(){_classCallCheck(this,ContributeStore),this.bindActions(_ContributeActions2["default"]),this.contributes=[],this.animate=[],this.music=[],this.article=[]};exports["default"]=_alt2["default"].createStore(ContributeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_underscore=__webpack_require__(228),_ArticleActions=__webpack_require__(289),_ArticleActions2=_interopRequireDefault(_ArticleActions),_ArticleStore=__webpack_require__(290),_ArticleStore2=_interopRequireDefault(_ArticleStore),_markdown=__webpack_require__(268),_Comment=(_interopRequireDefault(_markdown),__webpack_require__(291)),_Comment2=_interopRequireDefault(_Comment),_BtnBlock=__webpack_require__(294),_BtnBlock2=_interopRequireDefault(_BtnBlock),_Star=__webpack_require__(295),_Star2=_interopRequireDefault(_Star),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_NotFound=__webpack_require__(254),_NotFound2=_interopRequireDefault(_NotFound),_Approve=__webpack_require__(298),_Approve2=_interopRequireDefault(_Approve),Article=function(_React$Component){function Article(props){_classCallCheck(this,Article);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Article).call(this,props));return _this.state=_ArticleStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),
_this}return _inherits(Article,_React$Component),_createClass(Article,[{key:"componentDidMount",value:function(){_ArticleStore2["default"].listen(this.onChange),_ArticleActions2["default"].getArticle(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_ArticleStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps.params,this.props.params)||_ArticleActions2["default"].getArticle(this.props.params.id)}},{key:"onChange",value:function(state){this.setState(state),$(".mon-abbr-back").css("background-image","url("+this.state.abbreviations+")")}},{key:"handleClick",value:function(option){if(1===option)this.setState({stars:this.state.stars+1});else{var stars=this.state.stars-1;this.setState({stars:stars>0?stars:0})}}},{key:"approveClick",value:function(option){0===option?this.setState({approve:this.state.approve+1}):this.setState({disapprove:this.state.disapprove+1})}},{key:"render",value:function(){var Tags=this.state.tags.map(function(data,index){return _react2["default"].createElement("span",{key:index,className:"mon-article-tag"},data)}),Article=void 0,Aside=void 0,Abbr=void 0,boundClick=this.handleClick.bind(this,1),subClick=this.handleClick.bind(this,0),approveClick=this.approveClick.bind(this,0),disClick=this.approveClick.bind(this,1);return this.state.article?(Abbr=_react2["default"].createElement("div",{className:"mon-abbr"},_react2["default"].createElement("div",{className:"mon-abbr-back"}),_react2["default"].createElement("div",{className:"mon-abbr-content"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},_react2["default"].createElement("p",{className:"mon-article-title"},this.state.title),_react2["default"].createElement("div",{className:"mon-article-detail media"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},_react2["default"].createElement("img",{src:this.state.createUserAvatar||"/img/default.png",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},this.state.createUser),_react2["default"].createElement(_Star2["default"],{star:this.props.params.id,column:"article",stared:this.state.stared,plusClick:boundClick,subClick:subClick}),this.state.stars,_react2["default"].createElement("p",{className:"mon-detail-time"},this.state.createTime)))))),Article=_react2["default"].createElement("div",{className:"raw animated fadeInUp clearfix"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-xs-12 col-md-offset-2 mon-article"},_react2["default"].createElement("div",{ref:"content",className:"mon-article-content",dangerouslySetInnerHTML:{__html:this.state.content}}),_react2["default"].createElement("div",{className:"mon-article-tags"},Tags),_react2["default"].createElement(_Approve2["default"],{ref:"approve",_id:this.props.params.id,column:"article",approved:this.state.approved,approveCallback:approveClick,disCallback:disClick}),_react2["default"].createElement("div",{className:"mon-approve-count"},_react2["default"].createElement("span",null,this.state.approve>1e3?"999+":this.state.approve),_react2["default"].createElement("span",null,this.state.disapprove>1e3?"999+":this.state.disapprove)),_react2["default"].createElement(_Comment2["default"],{id:this.props.params.id,type:"article"}))),Aside=_react2["default"].createElement("div",{className:"raw clearfix"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-md-offset-2 col-xs-12 mon-no-padding"},_react2["default"].createElement("div",{className:"panel panel-default"},_react2["default"].createElement("div",{className:"panel-body media"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement("a",{href:"/member/"+this.state.createUserDomain,className:"mon-article-user"},_react2["default"].createElement("img",{src:this.state.createUserAvatar||"/img/default.png",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("div",{className:"media-heading"},_react2["default"].createElement("a",{href:"/member/"+this.state.createUserDomain,className:"mon-user-name"},this.state.createUser)),_react2["default"].createElement("p",null,this.state.createUserIntro))))))):Article=this.state.loading?_react2["default"].createElement(_Loading2["default"],null):_react2["default"].createElement(_NotFound2["default"],{state:"404 Not Found"}),_react2["default"].createElement("div",null,Abbr,_react2["default"].createElement("div",{className:"container"},Article,Aside,_react2["default"].createElement(_BtnBlock2["default"],null)))}}]),Article}(_react2["default"].Component);exports["default"]=Article},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ArticleActions=function(){function ArticleActions(){_classCallCheck(this,ArticleActions),this.generateActions("getArticleSuccess")}return _createClass(ArticleActions,[{key:"getArticle",value:function(id){var _this=this;$.ajax({url:"/api/article/"+id,type:"get",cache:!1}).done(function(data){_this.actions.getArticleSuccess(data)}).fail(function(){toastr.error("获取文章失败")})}}]),ArticleActions}();exports["default"]=_alt2["default"].createActions(ArticleActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ArticleActions=__webpack_require__(289),_ArticleActions2=_interopRequireDefault(_ArticleActions),ArticleStore=function(){function ArticleStore(){_classCallCheck(this,ArticleStore),this.bindActions(_ArticleActions2["default"]),this.article=!1,this.loading=!0,this.error=!1,this.approve=0,this.disapprove=0,this.abbreviations="",this.content,this.title="",this.summary="",this.createUser="",this.createUserAvatar="",this.createTime="",this.createUserDomain="",this.createUserIntro="",this.tags=[],this.stars=0,this.stared="false",this.approved=2}return _createClass(ArticleStore,[{key:"onGetArticleSuccess",value:function(data){console.log(data),this.loading=!1,200===data.code?(this.article=!0,this.approve=data.raw.article.approve,this.disapprove=data.raw.article.disapprove,this.abbreviations=data.raw.article.abbreviations||"/img/abbreviations.png",this.content=data.raw.article.content,this.title=data.raw.article.title,this.summary=data.raw.article.summary||"这个文章没有简介，呜呜",this.createUser=data.raw.user.username,this.createUserAvatar=data.raw.user.avatar_url,this.createUserDomain=data.raw.user.domain,this.tags=data.raw.article.tags,this.createUserIntro=data.raw.user.introduce,this.createTime=new Date(data.raw.article.create_time).toLocaleDateString("en-US"),this.stars=data.raw.article.stars,this.stared=data.raw.stared.toString(),this.approved=data.raw.approved):404===data.code?toastr.warning(data.meta):500===data.code&&(toastr.error("服务器错误"),this.error=!0)}}]),ArticleStore}();exports["default"]=_alt2["default"].createStore(ArticleStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=(__webpack_require__(228),__webpack_require__(158)),_CommentActions=__webpack_require__(292),_CommentActions2=_interopRequireDefault(_CommentActions),_CommentStore=__webpack_require__(293),_CommentStore2=_interopRequireDefault(_CommentStore),Comment=function(_React$Component){function Comment(props){_classCallCheck(this,Comment);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Comment).call(this,props));return _this.state=_CommentStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Comment,_React$Component),_createClass(Comment,[{key:"componentDidMount",value:function(){_CommentStore2["default"].listen(this.onChange),_CommentActions2["default"].getComment(this.props.id,0)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.id!==this.props.id&&_CommentActions2["default"].getComment(this.props.id,0)}},{key:"componentWillUnmount",value:function(){_CommentStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var reg=/\s/;if(""===this.state.comment||reg.test(this.state.comment))toastr.warning("你还没有写任何东西啊！！！");else{var params={content:this.state.comment,create_time:(new Date).getTime(),type:this.props.type,con_id:this.props.id};_CommentActions2["default"].postComment(params)}}},{key:"getComment",value:function(option){0===option?(_CommentActions2["default"].changeSkip(0),console.log(this.state.skip),_CommentActions2["default"].getComment(this.props.id,this.state.skip-10)):(_CommentActions2["default"].changeSkip(1),console.log(this.state.skip),_CommentActions2["default"].getComment(this.props.id,this.state.skip+10))}},{key:"render",value:function(){var CommentList=void 0;return CommentList=this.state.commentList.length>0?this.state.commentList.map(function(data){return _react2["default"].createElement("li",{key:data.comment._id,className:"clearfix mon-comment-item"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading",width:"40"}))),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"mon-user-name"},data.user.username),_react2["default"].createElement("span",{className:"pull-right"},new Date(data.comment.create_time).toLocaleDateString())),_react2["default"].createElement("article",null,data.comment.content)))}):_react2["default"].createElement("p",{className:"text-danger"},"没有评论了"),_react2["default"].createElement("div",{className:"row mon-comment"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("textarea",{name:"comment",className:"form-control",rows:"5",placeholder:"输入你的大评吧！！！",onChange:_CommentActions2["default"].changeComment})),_react2["default"].createElement("div",{className:"form-group clearfix"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-info pull-right",onClick:this.handleClick.bind(this)},"保存评论"))),_react2["default"].createElement("p",{className:"mon-comment-title"},"评论列表"),_react2["default"].createElement("ul",{className:"mon-comment-list"},CommentList),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page",onClick:this.getComment.bind(this,0)},_react2["default"].createElement("span",{className:"fa fa-long-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page",onClick:this.getComment.bind(this,1)},_react2["default"].createElement("span",{className:"fa fa-long-arrow-right"})))}}]),Comment}(_react2["default"].Component);exports["default"]=Comment},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),CommentActions=function(){function CommentActions(){_classCallCheck(this,CommentActions),this.generateActions("getCommentSuccess","postCommentSuccess","changeComment","changeSkip")}return _createClass(CommentActions,[{key:"getComment",value:function(id,skip){var _this=this,params={con_id:id};return 0>skip?(skip=0,toastr.warning("不能在向前获取评论了"),!1):void $.ajax({url:"/api/comment",type:"post",contentType:"application/json;charset=utf-8",cache:!1,dataType:"json",data:JSON.stringify({params:params,option:{skip:skip,limit:10,sort:{create_time:-1}}})}).done(function(data){_this.actions.getCommentSuccess(data)}).fail(function(){toastr.warning("获取评论失败")})}},{key:"postComment",value:function(params){var _this2=this;$.ajax({url:"/api/comment",type:"put",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify({params:params})}).done(function(data){_this2.actions.postCommentSuccess(data)}).fail(function(){toastr.error("网络链接有问题   ")})}}]),CommentActions}();exports["default"]=_alt2["default"].createActions(CommentActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_CommentActions=__webpack_require__(292),_CommentActions2=_interopRequireDefault(_CommentActions),CommentStore=function(){function CommentStore(){_classCallCheck(this,CommentStore),this.bindActions(_CommentActions2["default"]),this.commentList=[],this.comment="",this.skip=0}return _createClass(CommentStore,[{key:"onGetCommentSuccess",value:function(data){200===data.code?(0===data.raw.length&&toastr.warning("没有评论了"),this.commentList=data.raw):toastr.warning("获取评论失败")}},{key:"onPostCommentSuccess",value:function(data){200===data.code?toastr.success(data.meta):400===data.code?toastr.error(data.meta):toastr.warning(data.meta)}},{key:"onChangeComment",value:function(event){this.comment=event.target.value}},{key:"onChangeSkip",value:function(option){0===option?this.skip=this.skip-10:this.skip=this.skip+10,this.skip<=0&&(this.skip=0)}}]),CommentStore}();exports["default"]=_alt2["default"].createStore(CommentStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),BtnBlock=function(_React$Component){function BtnBlock(props){return _classCallCheck(this,BtnBlock),_possibleConstructorReturn(this,Object.getPrototypeOf(BtnBlock).call(this,props))}return _inherits(BtnBlock,_React$Component),_createClass(BtnBlock,[{key:"componentDidMount",value:function(){}},{key:"handlerClick",value:function(){$("html,body").animate({scrollTop:0},700)}},{key:"shareFB",value:function(){window.fbAsyncInit=function(){FB.init({appId:"1162206170473800",xfbml:!0,version:"v2.5"});var u=window.location.href;FB.ui({method:"share_open_graph",action_type:"og.likes",action_properties:JSON.stringify({object:u.toString()})},function(response){console.log(response)})},function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/en_US/sdk.js",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk")}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"mon-btn-block"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-default"},_react2["default"].createElement("span",{className:"fa fa-weibo"}),_react2["default"].createElement("span",{className:"mon-btn-fix"},"微博分享")),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-default",onClick:this.shareFB.bind(this)},_react2["default"].createElement("span",{className:"fa fa-facebook"}),_react2["default"].createElement("span",{className:"mon-btn-fix"},"FA分享")),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-default"},_react2["default"].createElement("span",{className:"fa fa-weixin"}),_react2["default"].createElement("span",{className:"mon-btn-fix"},"微信分享")),_react2["default"].createElement("a",{id:"_back",href:"javascript:;",className:"btn btn-default",onClick:this.handlerClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-up"}),_react2["default"].createElement("span",{className:"mon-btn-fix"},"回到顶部")))}}]),BtnBlock}(_react2["default"].Component);exports["default"]=BtnBlock},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_StarActions=__webpack_require__(296),_StarActions2=_interopRequireDefault(_StarActions),_StarStore=__webpack_require__(297),_StarStore2=_interopRequireDefault(_StarStore),Star=function(_React$Component){function Star(props){_classCallCheck(this,Star);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Star).call(this,props));return _this.state=_StarStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Star,_React$Component),_createClass(Star,[{key:"componentDidMount",value:function(){_StarStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_StarStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option){var column=this.props.column,star_id=this.props.star;0===option?_StarActions2["default"].getStar(star_id,column,this.props.plusClick):_StarActions2["default"].unStar(star_id,column,this.props.subClick)}},{key:"render",value:function(){var stared="",option=0;return!this.state.changed&&"true"===this.props.stared||this.state.stared?(stared="mon-stared",option=1):(option=0,stared=""),_react2["default"].createElement("div",{className:"mon-star"},_react2["default"].createElement("a",{id:"substitute",href:"javascript:;",className:"fa fa-heart-o animated "+stared,onClick:this.handleClick.bind(this,option)}))}}]),Star}(_react2["default"].Component);exports["default"]=Star},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),StarActions=function(){function StarActions(){_classCallCheck(this,StarActions),this.generateActions("getStarSuccess","unStarSuccess","changeStateSuccess")}return _createClass(StarActions,[{key:"getStar",value:function(id,column,_callback){var _this=this;$.ajax({url:"/api/star",dataType:"json",type:"post",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({star_id:id,column:column})}).done(function(data){_this.actions.getStarSuccess({data:data,_callback:_callback})}).fail(function(){toastr.error("收藏不成功")})}},{key:"unStar",value:function(id,column,_callback){var _this2=this;$.ajax({url:"/api/star",dataType:"json",type:"delete",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({star_id:id,column:column})}).done(function(data){_this2.actions.unStarSuccess({data:data,_callback:_callback})}).fail(function(){toastr.error("取消收藏不成功")})}},{key:"changeState",value:function(option){var _this3=this;this.$Dispatcher_isDispatching&&(console.log("hehe"),window.setTimeout(function(){_this3.actions.changeSuccess(option)}))}}]),StarActions}();exports["default"]=_alt2["default"].createActions(StarActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_StarActions=__webpack_require__(296),_StarActions2=_interopRequireDefault(_StarActions),StarStore=function(){function StarStore(){_classCallCheck(this,StarStore),this.bindActions(_StarActions2["default"]),this.stared=!1,this.option=0,this.changed=!1,this.btnClass="btn-primary"}return _createClass(StarStore,[{key:"onGetStarSuccess",value:function(o){var data=o.data,_callback=o._callback;switch(data.code){case 200:toastr.success("收藏成功"),this.stared=!0,this.option=1,this.changed=!0,this.btnClass="btn-danger",_callback.call(this);break;case 304:toastr.warning("你已经收藏过了");break;case 406:toastr.warning("你还没登陆");break;case 404:toastr.warning("没有这个用户");break;case 505:toastr.error("服务器错误")}}},{key:"unStarSuccess",value:function(o){var data=o.data,_callback=o._callback;switch(data.code){case 200:toastr.success("取消收藏成功"),this.stared=!1,this.option=0,this.changed=!0,this.btnClass="btn-primary",_callback.call(this);break;case 304:toastr.warning("你还没有收藏过");break;case 400:toastr.warning("你还没登陆");break;case 404:toastr.warning("没有这个用户");break;case 505:toastr.error("服务器错误")}}},{key:"onChangeStateSuccess",value:function(option){0===option?(this.stared=!0,this.option=1,this.btnClass="btn-danger"):(this.stared=!1,this.option=0,this.btnClass="btn-primary")}}]),StarStore}();exports["default"]=_alt2["default"].createStore(StarStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ApproveActions=__webpack_require__(299),_ApproveActions2=_interopRequireDefault(_ApproveActions),_ApproveStore=__webpack_require__(300),_ApproveStore2=_interopRequireDefault(_ApproveStore),Approve=function(_React$Component){function Approve(props){_classCallCheck(this,Approve);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Approve).call(this,props));return _this.state=_ApproveStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Approve,_React$Component),_createClass(Approve,[{key:"componentDidMount",value:function(){_ApproveStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_ApproveStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(point){return 2!==this.props.approved?void toastr.warning("你已经点赞过或踩过了"):void(0===point?_ApproveActions2["default"].approve(point,this.props._id,this.props.column,this.props.approveCallback):_ApproveActions2["default"].approve(point,this.props._id,this.props.column,this.props.disCallback))}},{key:"render",value:function(){var approved="",disapproved="";switch(this.props.approved){case 0:approved="mon-approved",disapproved=" mon-ban-approve";break;case 1:approved="mon-ban-approve",disapproved=" mon-disapproved";break;case 2:}return _react2["default"].createElement("div",{className:"mon-approve"},_react2["default"].createElement("div",null,_react2["default"].createElement("div",{
className:"mon-approve-item"},_react2["default"].createElement("a",{href:"javascript:;",className:"mon-approve-click "+approved,onClick:this.handleClick.bind(this,0)},_react2["default"].createElement("span",{className:"fa fa-thumbs-o-up mon-thumb"}))),_react2["default"].createElement("div",{className:"mon-approve-item"},_react2["default"].createElement("a",{href:"javascript:;",className:"mon-approve-click-o "+disapproved,onClick:this.handleClick.bind(this,1)},_react2["default"].createElement("span",{className:"fa fa-thumbs-o-down mon-thumb"})))))}}]),Approve}(_react2["default"].Component);exports["default"]=Approve},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ApproveActions=function(){function ApproveActions(){_classCallCheck(this,ApproveActions),this.generateActions("approveSuccess")}return _createClass(ApproveActions,[{key:"approve",value:function(point,_id,column,_callback){var _this=this,params={point:point,_id:_id,column:column};$.ajax({url:"/api/approve",dataType:"json",type:"post",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.approveSuccess({data:data,_callback:_callback,point:point})}).fail(function(){toastr.warning("对不起，不成功")})}}]),ApproveActions}();exports["default"]=_alt2["default"].createActions(ApproveActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ApproveActions=__webpack_require__(299),_ApproveActions2=_interopRequireDefault(_ApproveActions),ApproveStore=function(){function ApproveStore(){_classCallCheck(this,ApproveStore),this.bindActions(_ApproveActions2["default"])}return _createClass(ApproveStore,[{key:"onApproveSuccess",value:function(raw){var data=raw.data,_callback=raw._callback,point=raw.point;switch(data.code){case 200:toastr.success(data.meta),0===point?($(".mon-approve-click").addClass("mon-approved"),$(".mon-approve-click-o").addClass("mon-ban-approve")):($(".mon-approve-click-o").addClass("mon-disapproved"),$(".mon-approve-click").addClass("mon-ban-approve")),_callback.call(this);break;case 404:toastr.warning("404,就是404");break;case 406:toastr.warning("你还没登陆");break;case 500:toastr.error("服务器错误")}}}]),ApproveStore}();exports["default"]=_alt2["default"].createStore(ApproveStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_underscore=__webpack_require__(228),_ListActions=__webpack_require__(302),_ListActions2=_interopRequireDefault(_ListActions),_ListStore=__webpack_require__(303),_ListStore2=_interopRequireDefault(_ListStore),List=function(_React$Component){function List(props){_classCallCheck(this,List);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(List).call(this,props));return _this.state=_ListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(List,_React$Component),_createClass(List,[{key:"componentDidMount",value:function(){_ListStore2["default"].listen(this.onChange),_ListActions2["default"].getList(this.props.params.column,this.props.params.skip)}},{key:"componentWillUnmount",value:function(){_ListStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProp){(0,_underscore.isEqual)(prevProp.params,this.props.params)||_ListActions2["default"].getList(this.props.params.column,this.props.params.skip)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Offset=void 0,column=void 0;switch(this.props.params.column){case"articles":column="/article/";break;case"musics":column="/music/";break;case"animates":column="/animate/"}switch(this.props.params.column){case"animates":Offset=_react2["default"].createElement("div",null,_react2["default"].createElement("span",{className:"text-info mon-bg-title"},"动漫区"));break;case"articles":Offset=_react2["default"].createElement("div",null,_react2["default"].createElement("span",{className:"text-info mon-bg-title"},"文章区"),_react2["default"].createElement("p",{className:"bg-success mon-column-info"},"吐槽，欣赏美文，黄黄的。。。。"));break;case"musics":Offset=_react2["default"].createElement("div",null,_react2["default"].createElement("span",{className:"text-info mon-bg-title"},"音乐区"),_react2["default"].createElement("p",null))}var List=this.state.list.map(function(data){var abbreviations=data.data.abbreviations||"/img/abbreviations.png";return _react2["default"].createElement("li",{key:data.data._id,className:"animated fadeInUp"},_react2["default"].createElement(_reactRouter.Link,{to:column+data.data._id,className:"mon-top"},_react2["default"].createElement("div",{className:"mon-overlay",style:{backgroundImage:"url("+abbreviations+")"}}),_react2["default"].createElement("div",{className:"mon-title"},_react2["default"].createElement("div",null,_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",null,data.user.username),_react2["default"].createElement("span",{className:"pull-right"},new Date(data.data.create_time).toLocaleDateString())),_react2["default"].createElement("h2",null,data.data.title))))}),skip=void 0===this.props.params.skip?1:parseInt(this.props.params.skip),disabled="",disabledN="";1===skip?disabled="disabled":skip>=this.state.count/6&&(disabledN="disabled");var Page=_react2["default"].createElement("div",{className:"row mon-skip"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+this.props.params.column+"/"+(skip-1),className:"btn mon-page mon-prev-page "+disabled},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement(_reactRouter.Link,{to:"/"+this.props.params.column+"/"+(skip+1),className:"btn mon-page mon-next-page "+disabledN},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})));return _react2["default"].createElement("div",{id:"lists",className:"container mon-main"},_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-8 col-md-offset-2 col-sm-12 col-xs-12"},_react2["default"].createElement("ul",{className:"nav"},List))),Page)}}]),List}(_react2["default"].Component);List.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=List},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ListActions=function(){function ListActions(){_classCallCheck(this,ListActions),this.generateActions("getListSuccess")}return _createClass(ListActions,[{key:"getList",value:function(column,skip){var _this=this,_skip=void 0===skip?1:parseInt(skip);return 0>=_skip?(toastr.warning("找不到内容"),!1):void $.ajax({url:"/api/"+column,type:"post",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify({option:{skip:6*(_skip-1),limit:6,sort:{create_time:-1}}})}).done(function(data){_this.actions.getListSuccess(data)}).fail(function(){toastr.error("获取内容失败，请刷新重试")})}}]),ListActions}();exports["default"]=_alt2["default"].createActions(ListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ListActions=__webpack_require__(302),_ListActions2=_interopRequireDefault(_ListActions),ListStore=function(){function ListStore(){_classCallCheck(this,ListStore),this.bindActions(_ListActions2["default"]),this.list=[],this.count=0,this.loading=!0}return _createClass(ListStore,[{key:"onGetListSuccess",value:function(data){console.log(data),200===data.code?(this.list=data.raw._raw,this.count=data.raw.count,this.loading=!1):500===data.code&&toastr.error("服务器错误")}}]),ListStore}();exports["default"]=_alt2["default"].createStore(ListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(228),_reactRouter=__webpack_require__(158),_Contribute=__webpack_require__(285),_Contribute2=_interopRequireDefault(_Contribute),_NotFound=__webpack_require__(254),_NotFound2=_interopRequireDefault(_NotFound),_NoticeSender=__webpack_require__(305),_NoticeSender2=_interopRequireDefault(_NoticeSender),_MemberActions=__webpack_require__(308),_MemberActions2=_interopRequireDefault(_MemberActions),_MemberStore=__webpack_require__(309),_MemberStore2=_interopRequireDefault(_MemberStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),Member=function(_React$Component){function Member(props){_classCallCheck(this,Member);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Member).call(this,props));return _this.state=_MemberStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Member,_React$Component),_createClass(Member,[{key:"componentDidMount",value:function(){_MemberStore2["default"].listen(this.onChange),_MemberActions2["default"].getMember(this.props.params.domain)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps.params,this.props.params)||_MemberActions2["default"].getMember(this.props.params.domain)}},{key:"componentWillUnmount",value:function(){_MemberStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option,_id){_MemberActions2["default"].follow(option,_id)}},{key:"render",value:function(){var domain=this.props.params.domain,FollowBtn="",click=void 0,FollowInfo=void 0,Mem=void 0;return this.state.followed?(FollowInfo="已关注",FollowBtn="btn-default",click=this.handleClick.bind(this,1,this.state._id)):(FollowInfo="关注",FollowBtn="btn-info",click=this.handleClick.bind(this,0,this.state._id)),this.state.member?Mem=_react2["default"].createElement("div",{className:"col-md-3 col-sm-3"},_react2["default"].createElement("div",{className:"mon-center"},_react2["default"].createElement("img",{src:this.state.avatar_url||"/img/dd9901f664234eb44f6b217e7fa04e17.jpg",width:"200",alt:"loading"})),_react2["default"].createElement("div",{className:"mon-user-name"},this.state.username),_react2["default"].createElement("div",{className:"mon-vcard-stats"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/followers",className:"mon-link"},_react2["default"].createElement("span",null,this.state.followers),_react2["default"].createElement("b",null,"Followers")),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/following",className:"mon-link"},_react2["default"].createElement("span",null,this.state.following),_react2["default"].createElement("b",null,"Following")),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/star",className:"mon-link"},_react2["default"].createElement("span",null,this.state.star),_react2["default"].createElement("b",null,"Star"))),_react2["default"].createElement("div",{className:"mon-center mon-member"},_react2["default"].createElement("p",{className:"text-muted mon-bg-title"},"个人简介"),_react2["default"].createElement("p",{className:"text-success bg-info mon-member-intr"},this.state.introduce),_react2["default"].createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#noticeSender"},"私信"),_react2["default"].createElement("button",{className:"btn "+FollowBtn,onClick:click},FollowInfo))):this.state.loading?Mem=_react2["default"].createElement(_Loading2["default"],null):this.state.member||this.state.error?this.state.error&&(Mem=_react2["default"].createElement(_NotFound2["default"],{state:"500 服务器错误"})):Mem=_react2["default"].createElement(_NotFound2["default"],{state:"404 Not Found"}),_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"row"},Mem,_react2["default"].createElement(_Contribute2["default"],{option:"0",domain:this.props.params.domain})),_react2["default"].createElement(_NoticeSender2["default"],{receiver:this.state._id}))}}]),Member}(_react2["default"].Component);Member.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=Member},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticeSenderActions=__webpack_require__(306),_NoticeSenderActions2=_interopRequireDefault(_NoticeSenderActions),_NoticeSenderStore=__webpack_require__(307),_NoticeSenderStore2=_interopRequireDefault(_NoticeSenderStore),NoticeSender=function(_React$Component){function NoticeSender(props){_classCallCheck(this,NoticeSender);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoticeSender).call(this,props));return _this.state=_NoticeSenderStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(NoticeSender,_React$Component),_createClass(NoticeSender,[{key:"componentDidMount",value:function(){_NoticeSenderStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_NoticeSenderStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){_NoticeSenderActions2["default"].postNotice(this.state.content,this.props.receiver)}},{key:"render",value:function(){var Loading=void 0;return Loading=this.state.loading?_react2["default"].createElement("div",{"class":"loader-inner ball-pulse"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null)):null,_react2["default"].createElement("div",{id:"noticeSender",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","data-backdrop":"static"},_react2["default"].createElement("div",{className:"modal-dialog"},_react2["default"].createElement("div",{className:"modal-content"},_react2["default"].createElement("div",{className:"modal-header"},_react2["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},_react2["default"].createElement("span",{"aria-hidden":"true"},"×")),_react2["default"].createElement("h4",{className:"modal-title"},"私信")),_react2["default"].createElement("div",{className:"modal-body"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("textarea",{name:"content",rows:"10",className:"form-control",placeholder:"输入你想对他说的话",onChange:_NoticeSenderActions2["default"].changeContent})),Loading),_react2["default"].createElement("div",{className:"modal-footer"},_react2["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),_react2["default"].createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleClick.bind(this)},"提交")))))}}]),NoticeSender}(_react2["default"].Component);exports["default"]=NoticeSender},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),NoticeSenderActions=function(){function NoticeSenderActions(){_classCallCheck(this,NoticeSenderActions),this.generateActions("changeContent","postNoticeSuccess","postNoticeLoad")}return _createClass(NoticeSenderActions,[{key:"postNotice",value:function(content,receiver){var _this=this,params={params:{content:content,create_time:(new Date).getTime(),type:1,receiver:receiver}};$.ajax({url:"/api/notice",type:"post",dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.postNoticeSuccess(data)}).fail(function(){toastr.warning("发送私信失败")})}}]),NoticeSenderActions}();exports["default"]=_alt2["default"].createActions(NoticeSenderActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_NoticeSenderActions=__webpack_require__(306),_NoticeSenderActions2=_interopRequireDefault(_NoticeSenderActions),NoticeSenderStore=function(){function NoticeSenderStore(){_classCallCheck(this,NoticeSenderStore),this.bindActions(_NoticeSenderActions2["default"]),this.content="",this.loading=!1}return _createClass(NoticeSenderStore,[{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onPostNoticeSuccess",value:function(data){this.loading=!1,500===data.code?toastr.warning("发送私信失败"):404===data.code?toastr.warning("用户不存在"):200===data.code&&toastr.success("发送私信成功")}},{key:"onPostNoticeLoad",value:function(){this.loading=!0}}]),NoticeSenderStore}();exports["default"]=_alt2["default"].createStore(NoticeSenderStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),MemberActions=function(){function MemberActions(){_classCallCheck(this,MemberActions),this.generateActions("getMemberSuccess","followSuccess")}return _createClass(MemberActions,[{key:"getMember",value:function(domain){var _this=this;$.ajax({url:"/api/member/"+domain,type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getMemberSuccess(data)}).fail(function(){toastr.error("获取信息失败")})}},{key:"follow",value:function(option,_id){var _this2=this,type=0===option?"post":"delete";$.ajax({url:"/api/follow",type:type,dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify({_id:_id}),cache:!1,timeOut:4e3}).done(function(data){_this2.actions.followSuccess(data)}).fail(function(){toastr.error("网络错误")}).error(function(){toastr.warning("操作超时")})}}]),MemberActions}();exports["default"]=_alt2["default"].createActions(MemberActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_MemberActions=__webpack_require__(308),_MemberActions2=_interopRequireDefault(_MemberActions),MemberStore=function(){function MemberStore(){_classCallCheck(this,MemberStore),this.bindActions(_MemberActions2["default"]),this.member=!1,this._id="",this.username="",this.avatar_url="",this.followers=0,this.following=0,this.contribute=0,this.article=[],this.animate=[],this.music=[],this.introduce="heh",this.star=0,this.followed=!1,this.loading=!0,this.error=!1}return _createClass(MemberStore,[{key:"onGetMemberSuccess",value:function(data){if(this.loading=!1,200===data.code){this.member=!0;var user=data.raw._raw;this._id=user._id,this.username=user.username,this.avatar_url=user.avatar_url,this.followers=user.followers.length,this.following=user.following.length,this.contribute=user.contribute.length,this.animate=user.animate,this.music=user.music,this.article=user.article,this.introduce=user.introduce,this.star=user.star.length,this.followed=data.raw.followed}else 500===data.code?(toastr.error("服务器错误"),this.error=!0):404===data.code&&toastr.warning("找不到这个人")}},{key:"onFollowSuccess",value:function(data){switch(console.log(data),data.code){case 200:toastr.success(data.meta),this.followed=!this.followed;break;case 304:case 400:toastr.warning(data.meta);break;case 404:toastr.warning(data.meta);break;case 500:toastr.error(data.meta)}}}]),MemberStore}();exports["default"]=_alt2["default"].createStore(MemberStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ConList=__webpack_require__(311),_ConList2=_interopRequireDefault(_ConList),ConArticle=function(_React$Component){function ConArticle(props){return _classCallCheck(this,ConArticle),_possibleConstructorReturn(this,Object.getPrototypeOf(ConArticle).call(this,props))}return _inherits(ConArticle,_React$Component),_createClass(ConArticle,[{key:"render",value:function(){var Result=void 0;return void 0!==this.props.params.domain&&(Result=_react2["default"].createElement(_ConList2["default"],{tab:this.props.params.column||"article",domain:this.props.params.domain})),_react2["default"].createElement("div",null,Result);
}}]),ConArticle}(_react2["default"].Component);exports["default"]=ConArticle},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),_underscore=__webpack_require__(228),_ConListActions=__webpack_require__(312),_ConListActions2=_interopRequireDefault(_ConListActions),_ConListStore=__webpack_require__(313),_ConListStore2=_interopRequireDefault(_ConListStore),ConList=function(_React$Component){function ConList(props){_classCallCheck(this,ConList);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ConList).call(this,props));return _this.state=_ConListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(ConList,_React$Component),_createClass(ConList,[{key:"componentWillUnmount",value:function(){_ConListStore2["default"].unlisten(this.onChange)}},{key:"componentDidMount",value:function(){_ConListStore2["default"].listen(this.onChange);var props=this.props;_ConListActions2["default"].getConList(props.tab+"s",props.domain,0)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps,this.props)||(console.log("update"),_ConListActions2["default"].getConList(this.props.tab+"s",this.props.domain,0))}},{key:"onChange",value:function(state){this.setState(state)}},{key:"prevPage",value:function(){var props=this.props;_ConListActions2["default"].getConList(props.tab+"s",props.domain,this.state.skip-1),_ConListActions2["default"].changeSkip(0)}},{key:"nextPage",value:function(){var props=this.props;_ConListActions2["default"].getConList(props.option,props.tab,props.domain,this.state.skip+1),_ConListActions2["default"].changeSkip(1)}},{key:"render",value:function(){var option=this.props.tab,List=void 0,SkipPage=void 0,disabled="",disabledN="";return 0===this.state.skip&&(disabled="disabled"),(this.state.skip>=this.state.count/5-1||this.state.count<4)&&(disabledN="disabled"),this.state.contributes.length>0?(List=this.state.contributes.map(function(data,index){return _react2["default"].createElement("div",{className:"media mon-conlist-item",key:"contribute:"+data.data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id,className:"text-primary mon-conlist-title"},data.data.title),_react2["default"].createElement("p",{className:"text-muted mon-conlist-info"},_react2["default"].createElement("span",null,"投稿日期：",new Date(data.data.create_time).toLocaleDateString()),_react2["default"].createElement("span",null,"浏览次数：",data.data.browser_count)),_react2["default"].createElement("p",{className:"text-muted"},data.data.summary)),_react2["default"].createElement("span",{className:"mon-conlist-index"},index+1))}),SkipPage=_react2["default"].createElement("div",{className:"mon-skip"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page "+disabled,onClick:this.prevPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page "+disabledN,onClick:this.nextPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})))):(List=_react2["default"].createElement("p",{className:"bg-info mon-padding"},"尚没有任何投稿"),SkipPage=null),_react2["default"].createElement("div",{className:"animated flipInX"},List,SkipPage)}}]),ConList}(_react2["default"].Component);exports["default"]=ConList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),ConListActions=function(){function ConListActions(){_classCallCheck(this,ConListActions),this.generateActions("getConListSuccess","subSkip","plusSkip")}return _createClass(ConListActions,[{key:"getConList",value:function(tab,domain,skip){var _this=this,params={option:{skip:6*skip,limit:6,sort:{create_time:1}},query:"domain",value:domain},url="/api/"+tab;$.ajax({url:url,type:"post",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.getConListSuccess(data)}).fail(function(data){toastr.error("网络链接有问题")})}},{key:"changeSkip",value:function(option){0===option?this.actions.subSkip():1===option&&this.actions.plusSkip()}}]),ConListActions}();exports["default"]=_alt2["default"].createActions(ConListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_ConListActions=__webpack_require__(312),_ConListActions2=_interopRequireDefault(_ConListActions),ConListStore=function(){function ConListStore(){_classCallCheck(this,ConListStore),this.bindActions(_ConListActions2["default"]),this.contributes=[],this.count=0,this.skip=0}return _createClass(ConListStore,[{key:"onGetConListSuccess",value:function(data){200===data.code?(this.contributes=data.raw._raw,this.count=data.raw.count):500===data.code&&toastr.error("服务器错误")}},{key:"onSubSkip",value:function(){this.skip=this.skip-1}},{key:"onPlusSkip",value:function(){this.skip=this.skip+1}}]),ConListStore}();exports["default"]=_alt2["default"].createStore(ConListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_MusicActions=__webpack_require__(315),_MusicActions2=_interopRequireDefault(_MusicActions),_MusicStore=__webpack_require__(316),_MusicStore2=_interopRequireDefault(_MusicStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_NotFound=__webpack_require__(254),_NotFound2=_interopRequireDefault(_NotFound),_Comment=__webpack_require__(291),_Comment2=_interopRequireDefault(_Comment),_Star=__webpack_require__(295),_Star2=_interopRequireDefault(_Star),_reactRouter=__webpack_require__(158),Music=function(_React$Component){function Music(props){_classCallCheck(this,Music);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Music).call(this,props));return _this.state=_MusicStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Music,_React$Component),_createClass(Music,[{key:"componentDidMount",value:function(){_MusicStore2["default"].listen(this.onChange),_MusicActions2["default"].getMusic(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_MusicStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.id!==this.props.params.id&&_MusicActions2["default"].getMusic(this.props.params.id)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"play",value:function(){var music=this.refs.music.getDOMNode();music.play(),$("#music_play").css("display","none"),$("#musci_pause").css("display","flex")}},{key:"pause",value:function(){var music=this.refs.music.getDOMNode();music.pause(),$("#music_play").css("display","flex"),$("#musci_pause").css("display","none")}},{key:"handleClick",value:function(option){0===option?this.setState({stars:this.state.stars+1}):this.setState({stars:this.state.stars-1<0?0:this.state.stars-1})}},{key:"render",value:function(){var Target=void 0,Tags=void 0,Visitor=void 0,Aside=void 0,plusClick=this.handleClick.bind(this,0),subClick=this.handleClick.bind(this,1);return void 0!==this.state.visitor&&0!==this.state.visitor.length&&(Visitor=this.state.visitor.map(function(data){return _react2["default"].createElement(_reactRouter.Link,{key:data._id,to:"/member/"+data.domain,className:"clearfix"},_react2["default"].createElement("img",{src:data.avatar_url||"/img/dd9901f664234eb44f6b217e7fa04e17.jpg",alt:"loading"}))})),this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.loading||this.state.finded?(Tags=this.state.tags.map(function(data,index){return _react2["default"].createElement("span",{key:index,className:"label label-info"},data)}),Aside=_react2["default"].createElement("aside",{className:"col-md-4 col-sm-12 col-xs-12"},_react2["default"].createElement("div",null,_react2["default"].createElement("p",{className:"mon-comment-title"},"最近访客"),_react2["default"].createElement("div",{className:"mon-visitor-block clearfix"},Visitor))),Target=_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},_react2["default"].createElement("div",{className:"raw clearfix"},_react2["default"].createElement("div",{className:"mon-music col-md-6 col-xs-6"},_react2["default"].createElement("img",{src:this.state.abbreviations,alt:"loading"}),_react2["default"].createElement("div",{className:"mon-music-block"},_react2["default"].createElement("audio",{ref:"music",id:"music",className:"mon-music-url",src:this.state.music}),_react2["default"].createElement("a",{href:"javascript:;",id:"music_play",onClick:this.play.bind(this)},_react2["default"].createElement("span",{className:"fa fa-play"})),_react2["default"].createElement("a",{href:"javascript:;",id:"music_pause",onClick:this.pause.bind(this)},_react2["default"].createElement("span",{className:"fa fa-pause"})))),_react2["default"].createElement("div",{className:"col-md-6 mon-music-summary"},_react2["default"].createElement("p",{className:"text-info"},this.state.title),_react2["default"].createElement("div",{className:"mon-music-info"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},_react2["default"].createElement("img",{src:this.state.createUserAvatarURL,alt:""})),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},this.state.createUserName)),_react2["default"].createElement("div",{className:"mon-music-star"},_react2["default"].createElement("span",null,"收藏："),_react2["default"].createElement(_Star2["default"],{star:this.props.params.id,column:"music",stared:this.state.stared,plusClick:plusClick,subClick:subClick}),_react2["default"].createElement("span",null,this.state.stars)))),_react2["default"].createElement("div",{className:"raw"},_react2["default"].createElement("div",{className:"panel mon-music-info panel-default"},_react2["default"].createElement("div",{className:"panel-body"},_react2["default"].createElement("p",{className:"text-muted"},"简介：",this.state.summary),_react2["default"].createElement("div",{className:"mon-music-tags"},Tags)))),_react2["default"].createElement("div",{className:"raw"},_react2["default"].createElement(_Comment2["default"],{id:this.props.params.id,type:"music"})))):Target=_react2["default"].createElement(_NotFound2["default"],{state:this.state.error}),_react2["default"].createElement("div",{className:"container animated fadeInUp"},Target,Aside)}}]),Music}(_react2["default"].Component);exports["default"]=Music},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),MusicActions=function(){function MusicActions(){_classCallCheck(this,MusicActions),this.generateActions("getMusicSuccess")}return _createClass(MusicActions,[{key:"getMusic",value:function(id){var _this=this;$.ajax({url:"/api/music/"+id,type:"get",contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getMusicSuccess(data)}).fail(function(){toastr.warning("获取音乐失败")})}}]),MusicActions}();exports["default"]=_alt2["default"].createActions(MusicActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_MusicActions=__webpack_require__(315),_MusicActions2=_interopRequireDefault(_MusicActions),MusicStore=function(){function MusicStore(){_classCallCheck(this,MusicStore),this.bindActions(_MusicActions2["default"]),this.abbreviations="",this.title="",this.createUserName="",this.createUserDomain="",this.createUserAvatarURL="",this.createUserIntr="",this.music="",this.stars=0,this.tags=[],this.createTime,this.alubmn="",this.stared=!1,this.visitor=[],this.finded=!1,this.loading=!0,this.error=""}return _createClass(MusicStore,[{key:"onGetMusicSuccess",value:function(data){this.loading=!1,200===data.code?(this.abbreviations=data.raw.music.abbreviations,this.music=data.raw.music.music_url,this.title=data.raw.music.title,this.stars=data.raw.music.stars,this.tags=data.raw.music.tags,this.summary=data.raw.music.summary,this.alubmn=data.raw.music.alubmn,this.createUserName=data.raw.user.username,this.createUserAvatarURL=data.raw.user.avatar_url,this.createUserDomain=data.raw.user.domain,this.createUserIntr=data.raw.user.introduce,this.createTime=new Date(data.raw.music.create_time).toLocaleDateString(),this.stared=data.raw.stared.toString(),this.visitor=data.raw.visitor,this.finded=!0):404===data.code?(toastr.warning("找不到这个音乐"),this.error="404 Not Found"):(this.error="500 服务器错误",toastr.error("服务器错误"))}}]),MusicStore}();exports["default"]=_alt2["default"].createStore(MusicStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(158),MemberCenter=function(_React$Component){function MemberCenter(){return _classCallCheck(this,MemberCenter),_possibleConstructorReturn(this,Object.getPrototypeOf(MemberCenter).apply(this,arguments))}return _inherits(MemberCenter,_React$Component),_createClass(MemberCenter,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container mon-main"},_react2["default"].createElement(_reactRouter.RouteHandler,null))}}]),MemberCenter}(_react2["default"].Component);exports["default"]=MemberCenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_MemberFollowActions=__webpack_require__(319),_MemberFollowActions2=_interopRequireDefault(_MemberFollowActions),_MemberFollowStore=__webpack_require__(320),_MemberFollowStore2=_interopRequireDefault(_MemberFollowStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(158),_NotFound=__webpack_require__(254),MemberFollow=(_interopRequireDefault(_NotFound),function(_React$Component){function MemberFollow(props){_classCallCheck(this,MemberFollow);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MemberFollow).call(this,props));return _this.state=_MemberFollowStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(MemberFollow,_React$Component),_createClass(MemberFollow,[{key:"componentDidMount",value:function(){_MemberFollowStore2["default"].listen(this.onChange),_MemberFollowActions2["default"].getFollow(this.props.params.domain,this.props.params.follow,this.props.params.skip)}},{key:"componentWillUnmount",value:function(){_MemberFollowStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Follows=void 0;return this.state.follows.length>0&&this.state.loading===!1&&this.state.error===!1?Follows=this.state.follows.map(function(data){return _react2["default"].createElement("div",{key:data.user._id,className:"media mon-follow-item col-md-3 animated fadeIn"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},data.user.username),_react2["default"].createElement("p",{className:"text-muted mon-follow-intr"},data.user.introduce)))}):this.state.loading===!0?Follows=_react2["default"].createElement(_Loading2["default"],null):0===this.state.follows.length&&(Follows=_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"没有，就是没有，你咬我")),_react2["default"].createElement("div",{className:"raw"},Follows)}}]),MemberFollow}(_react2["default"].Component));exports["default"]=MemberFollow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),MemberFollowActions=function(){function MemberFollowActions(){_classCallCheck(this,MemberFollowActions),this.generateActions("getFollowSuccess","getFollowFail")}return _createClass(MemberFollowActions,[{key:"getFollow",value:function(domain,follow,skip){var _this=this,url="/api/"+follow,params={where:{domain:domain},option:{skip:skip||0,limit:10}};$.ajax({url:url,type:"post",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify(params),timeout:1e4}).done(function(data){_this.actions.getFollowSuccess(data)}).fail(function(){_this.actions.getFollowFail()}).error(function(){_this.actions.getFollowFail()})}}]),MemberFollowActions}();exports["default"]=_alt2["default"].createActions(MemberFollowActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_MemberFollowActions=__webpack_require__(319),_MemberFollowActions2=_interopRequireDefault(_MemberFollowActions),MemberFollowStore=function(){function MemberFollowStore(){_classCallCheck(this,MemberFollowStore),this.bindActions(_MemberFollowActions2["default"]),this.follows=[],this.loading=!0,this.error=!1}return _createClass(MemberFollowStore,[{key:"onGetFollowSuccess",value:function(data){console.log(data),this.loading=!1,200===data.code?this.follows=data.raw:400===data.code?toastr.warning(data.meta):500===data.code&&(this.error=!0,toastr.error(data.meta))}},{key:"onGetFollowFail",value:function(){this.loading=!1,this.error=!0}}]),MemberFollowStore}();exports["default"]=_alt2["default"].createStore(MemberFollowStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_AnimateActions=__webpack_require__(322),_AnimateActions2=_interopRequireDefault(_AnimateActions),_AnimateStore=__webpack_require__(323),_AnimateStore2=_interopRequireDefault(_AnimateStore),_Loading=__webpack_require__(229),_Loading2=_interopRequireDefault(_Loading),_NotFound=__webpack_require__(254),_NotFound2=_interopRequireDefault(_NotFound),_reactRouter=__webpack_require__(158),Animate=function(_React$Component){function Animate(props){_classCallCheck(this,Animate);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Animate).call(this,props));return _this.state=_AnimateStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Animate,_React$Component),_createClass(Animate,[{key:"componentDidMount",value:function(){_AnimateStore2["default"].listen(this.onChange),_AnimateActions2["default"].getAnimate(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_AnimateStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.id!==this.props.params.id&&_AnimateActions2["default"].getAnimate(this.props.params.id)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"play",value:function(){console.log("play");var video=this.refs.video.getDOMNode();console.log(video.duration),video.play()}},{key:"render",value:function(){var Target=void 0,Tags=void 0;return this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.loading||this.state.founded?(Tags=this.state.tags.map(function(data,index){return _react2["default"].createElement("span",{key:index,className:"label label-default"},"data")}),Target=_react2["default"].createElement("div",{className:"raw"},_react2["default"].createElement("p",{className:"text-primary mon-bg-title"},this.state.title),_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{
to:"/member/"+this.state.createUserDomain},_react2["default"].createElement("img",{src:this.state.createUserAvatarURL,width:"80",alt:"loading"})),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},this.state.createUserName)),_react2["default"].createElement("div",null,_react2["default"].createElement("video",{id:"really-cool-video",className:"video-js vjs-default-skin",width:"640",height:"264",controls:"controls","data-setup":"{}"},_react2["default"].createElement("source",{src:this.state.animate_url,type:"video/mp4"})),_react2["default"].createElement("a",{href:"javascript:;",classNam:"btn btn-default",onClick:this.play.bind(this)},"播放")),_react2["default"].createElement("div",{className:"panel panel-info"},_react2["default"].createElement("div",{className:"panel-body"},_react2["default"].createElement("p",null,this.state.summary))),Tags)):Target=_react2["default"].createElement(_NotFound2["default"],null),_react2["default"].createElement("div",{className:"container"},Target)}}]),Animate}(_react2["default"].Component);exports["default"]=Animate},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),AnimateActions=function(){function AnimateActions(){_classCallCheck(this,AnimateActions),this.generateActions("getAnimateSuccess")}return _createClass(AnimateActions,[{key:"getAnimate",value:function(id){var _this=this,url="/api/animate/"+id;$.ajax({url:url,type:"get",contentType:"application/json;charset=utf-8",cache:!1,timeOut:3e3}).done(function(data){_this.actions.getAnimateSuccess(data)}).fail(function(){toastr.warning("获取动漫失败")}).error(function(){toastr.warning("获取动漫失败，请刷新")})}}]),AnimateActions}();exports["default"]=_alt2["default"].createActions(AnimateActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(204),_alt2=_interopRequireDefault(_alt),_AnimateActions=__webpack_require__(322),_AnimateActions2=_interopRequireDefault(_AnimateActions),AnimateStore=function(){function AnimateStore(){_classCallCheck(this,AnimateStore),this.bindActions(_AnimateActions2["default"]),this.loading=!0,this.founded=!1,this.error=!1,this.title="",this.summary="",this.tags=[],this.avatar_url="",this.animate_url="",this.create_time=0,this.createUserName="",this.createUserDomain="",this.createUserAvatarURL="",this.stared=!1}return _createClass(AnimateStore,[{key:"onGetAnimateSuccess",value:function(data){500===data.code?(this.error=!0,this.loading=!1,toastr.error(data.meta)):404===data.code?(this.loading=!1,toastr.warning("找不到这个动漫")):200===data.code&&(this.loading=!1,this.founded=!0,this.title=data.raw.data.title,this.summary=data.raw.data.summary,this.tags=data.raw.data.tags,this.create_time=data.raw.data.create_time,this.avatar_url=data.raw.data.avatar_url,this.animate_url=data.raw.data.animate_url,this.stared=data.raw.stared,this.createUserName=data.raw.user.username,this.createUserDomain=data.raw.user.domain,this.createUserAvatarURL=data.raw.user.avatar_url)}}]),AnimateStore}();exports["default"]=_alt2["default"].createStore(AnimateStore)}]);