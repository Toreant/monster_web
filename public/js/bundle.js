webpackJsonp([0],[function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_reactRouter2=_interopRequireDefault(_reactRouter),_routes=__webpack_require__(4),_routes2=_interopRequireDefault(_routes);_reactRouter2["default"].run(_routes2["default"],_reactRouter2["default"].HistoryLocation,function(Handler){_react2["default"].render(_react2["default"].createElement(Handler,null),document.getElementById("app"))})},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_App=__webpack_require__(5),_App2=_interopRequireDefault(_App),_Home=__webpack_require__(26),_Home2=_interopRequireDefault(_Home),_Login=__webpack_require__(37),_Login2=_interopRequireDefault(_Login),_User=__webpack_require__(40),_User2=_interopRequireDefault(_User),_Set=__webpack_require__(46),_Set2=_interopRequireDefault(_Set),_Notice=__webpack_require__(52),_Notice2=_interopRequireDefault(_Notice),_StarList=__webpack_require__(55),_StarList2=_interopRequireDefault(_StarList),_NotFound=__webpack_require__(58),_NotFound2=_interopRequireDefault(_NotFound),_PostArticle=__webpack_require__(59),_PostArticle2=_interopRequireDefault(_PostArticle),_MyContribute=__webpack_require__(68),_MyContribute2=_interopRequireDefault(_MyContribute),_ProfileCenter=__webpack_require__(71),_ProfileCenter2=_interopRequireDefault(_ProfileCenter),_Follow=__webpack_require__(74),_Follow2=_interopRequireDefault(_Follow),_Contribute=__webpack_require__(80),_Contribute2=_interopRequireDefault(_Contribute),_Article=__webpack_require__(83),_Article2=_interopRequireDefault(_Article),_List=__webpack_require__(96),_List2=_interopRequireDefault(_List),_Member=__webpack_require__(100),_Member2=_interopRequireDefault(_Member),_ConArticle=__webpack_require__(106),_ConArticle2=_interopRequireDefault(_ConArticle),_MemberCenter=__webpack_require__(110),_MemberCenter2=_interopRequireDefault(_MemberCenter),_MemberFollow=__webpack_require__(111),_MemberFollow2=_interopRequireDefault(_MemberFollow),_TagList=__webpack_require__(114),_TagList2=_interopRequireDefault(_TagList);exports["default"]=_react2["default"].createElement(_reactRouter.Route,{handler:_App2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:"/",handler:_Home2["default"]},_react2["default"].createElement(_reactRouter.Redirect,{from:"/",to:"/articles"})),_react2["default"].createElement(_reactRouter.Route,{path:"/login",handler:_Login2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"/article"},_react2["default"].createElement(_reactRouter.Route,{path:":id",handler:_Article2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/member",handler:_Member2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:":domain",hanlder:_Contribute2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_ConArticle2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"contributes"},_react2["default"].createElement(_reactRouter.Route,{path:":column",handler:_ConArticle2["default"]})))),_react2["default"].createElement(_reactRouter.Route,{path:"/member"},_react2["default"].createElement(_reactRouter.Route,{path:":domain",handler:_MemberCenter2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"star",handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":follow",handler:_MemberFollow2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:":skip",handler:_MemberFollow2["default"]})))),_react2["default"].createElement(_reactRouter.Route,{path:"/profile",handler:_User2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_ProfileCenter2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"setting",handler:_Set2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"center",handler:_ProfileCenter2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"contribute",handler:_Contribute2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:"/profile/contribute/:column",handler:_MyContribute2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"notice",handler:_Notice2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"star",handler:_StarList2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:"/post"},_react2["default"].createElement(_reactRouter.Route,{path:"article",handler:_PostArticle2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:":follow",handler:_Follow2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_Follow2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":page",handler:_Follow2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"*",handler:_ProfileCenter2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/tags",handler:_TagList2["default"]},_react2["default"].createElement(_reactRouter.Route,{path:":tag",handler:_TagList2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"/:column",handler:_List2["default"]},_react2["default"].createElement(_reactRouter.DefaultRoute,{handler:_List2["default"]}),_react2["default"].createElement(_reactRouter.Route,{path:":skip",handler:_List2["default"]})),_react2["default"].createElement(_reactRouter.Route,{path:"*",handler:_NotFound2["default"]}))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_Nav=__webpack_require__(6),_Nav2=_interopRequireDefault(_Nav),_Footer=__webpack_require__(25),_Footer2=_interopRequireDefault(_Footer),App=function(_React$Component){function App(){return _classCallCheck(this,App),_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).apply(this,arguments))}return _inherits(App,_React$Component),_createClass(App,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"mon-app"},_react2["default"].createElement(_Nav2["default"],null),_react2["default"].createElement(_reactRouter.RouteHandler,null),_react2["default"].createElement(_Footer2["default"],null))}}]),App}(_react2["default"].Component);exports["default"]=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_NavActions=__webpack_require__(7),_NavActions2=_interopRequireDefault(_NavActions),_NavStore=__webpack_require__(21),_NavStore2=_interopRequireDefault(_NavStore),_NoticePoint=__webpack_require__(22),_NoticePoint2=_interopRequireDefault(_NoticePoint),Nav=function(_React$Component){function Nav(props){_classCallCheck(this,Nav);var _this=_possibleConstructorReturn(this,(Nav.__proto__||Object.getPrototypeOf(Nav)).call(this,props));return _this.state=_NavStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Nav,_React$Component),_createClass(Nav,[{key:"componentDidMount",value:function(){_NavStore2["default"].listen(this.onChange),_NavActions2["default"].checkLogin()}},{key:"componentWillUnmount",value:function(){_NavStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"signOut",value:function(){_NavActions2["default"].signOut()}},{key:"render",value:function(){var SUBNAV=void 0;return SUBNAV=this.state.loginState?_react2["default"].createElement("ul",{className:"nav navbar-nav navbar-right mon-subnav"},_react2["default"].createElement("li",{className:"dropdown"},_react2["default"].createElement("a",{href:"#",className:"mon-user-nav dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},_react2["default"].createElement("img",{src:this.state.avatar,width:"30",alt:"loading"})," ",_react2["default"].createElement("span",{className:"caret"}),_react2["default"].createElement(_NoticePoint2["default"],null)),_react2["default"].createElement("ul",{className:"dropdown-menu"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile"},"我的账号")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/setting"},"设置")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/notice"},"通知")),_react2["default"].createElement("li",{role:"separator",className:"divider"}),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"javascript:;",onClick:this.signOut.bind(this)},"退出"))))):_react2["default"].createElement("ul",{className:"nav navbar-nav navbar-right"},_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"/auth/github"},_react2["default"].createElement("span",{className:"fa fa-github",style:{marginRight:"5px"}}),"github登陆"))),_react2["default"].createElement("nav",{className:"navbar navbar-default mon-nav",id:"mon-fixed-nav"},_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"navbar-header"},_react2["default"].createElement("button",{className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#my-nav"},_react2["default"].createElement("span",{className:"sr-only"},"Toggle"),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"})),_react2["default"].createElement(_reactRouter.Link,{to:"/",className:"navbar-brand brand-img"},_react2["default"].createElement("img",{src:"/img/Gameday.png",alt:"Brand"}))),_react2["default"].createElement("div",{className:"collapse navbar-collapse",id:"my-nav"},_react2["default"].createElement("ul",{className:"nav navbar-nav"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/"},"首页")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/articles"},"文章"))),SUBNAV)))}}]),Nav}(_react2["default"].Component);exports["default"]=Nav},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),NavActions=function(){function NavActions(){_classCallCheck(this,NavActions),this.generateActions("changeState","checkLoginSuccess","checkLoginFail","signOutSuccess","signOutFail","getProfileLocal","searchSuccess","changeSearch")}return _createClass(NavActions,[{key:"checkLogin",value:function(){var _this=this,sessionStorage=window.sessionStorage,userProfile=sessionStorage.getItem("profile"),localStorage=window.localStorage,localProfile=JSON.parse(localStorage.getItem("user"));null!==userProfile&&null!==localProfile&&""!==userProfile&&""!==localProfile&&userProfile._id===localProfile.data._id?this.actions.getProfileLocal(userProfile):$.ajax({url:"/api/session",cache:!1,type:"post",dataType:"json"}).done(function(data){_this.actions.checkLoginSuccess(data)}).fail(function(data){_this.actions.checkLoginFail()})}},{key:"signOut",value:function(){var _this2=this;$.ajax({url:"/api/signout",type:"post",cache:!1,dataType:"json"}).done(function(data){_this2.actions.signOutSuccess(data)}).fail(function(data){_this2.actions.signOutFail()})}}]),NavActions}();exports["default"]=_alt2["default"].createActions(NavActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(9),_alt2=_interopRequireDefault(_alt);exports["default"]=new _alt2["default"]},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_NavActions=__webpack_require__(7),_NavActions2=_interopRequireDefault(_NavActions),NavStore=function(){function NavStore(){_classCallCheck(this,NavStore),this.bindActions(_NavActions2["default"]),this.loginState=!1,this.userName="",this.avatar="",this.search=""}return _createClass(NavStore,[{key:"onChangeState",value:function(data){this.loginState=!0,this.userName=data.username,this.avatar=void 0===data._json?data.avatar_url:data._json.avatar_url,this.domain=void 0===data._json?data.domain:data._json.username}},{key:"onCheckLoginSuccess",value:function(data){200===data.code&&this.onChangeState(data.raw)}},{key:"onCheckLoginFail",value:function(){toastr.error("服务器错误")}},{key:"onSignOutSuccess",value:function(data){if(200===data.code){var localStorage=window.localStorage,sessionStorage=window.sessionStorage;localStorage.setItem("user",null),sessionStorage.setItem("profile",null),window.location="/"}else 400===data.code?toastr.error("退出不成功"):406===data.code&&toastr.warning("你还没登陆")}},{key:"onSignOutFail",value:function(){toastr.error("服务器错误")}},{key:"onGetProfileLocal",value:function(data){this.loginState=!0,this.userName=data.username,this.avatar=void 0===data._json?data.avatar_url:data._json.avatar_url,this.domain=void 0===data._json?data.domain:data._json.username}}]),NavStore}();exports["default"]=_alt2["default"].createStore(NavStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticePointActions=__webpack_require__(23),_NoticePointActions2=_interopRequireDefault(_NoticePointActions),_NoticePointStore=__webpack_require__(24),_NoticePointStore2=_interopRequireDefault(_NoticePointStore),NoticePoint=function(_React$Component){function NoticePoint(props){_classCallCheck(this,NoticePoint);var _this=_possibleConstructorReturn(this,(NoticePoint.__proto__||Object.getPrototypeOf(NoticePoint)).call(this,props));return _this.state=_NoticePointStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(NoticePoint,_React$Component),_createClass(NoticePoint,[{key:"componentDidMount",value:function(){_NoticePointStore2["default"].listen(this.onChange),_NoticePointActions2["default"].getNotices()}},{key:"componentWillUnmount",value:function(){_NoticePointStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var disabled=0===this.state.count?"mon-disabled":"";return _react2["default"].createElement("span",{ref:"notice",className:"mon-notice-point badge "+disabled},this.state.count)}}]),NoticePoint}(_react2["default"].Component);exports["default"]=NoticePoint},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),NoticePointActions=function(){function NoticePointActions(){_classCallCheck(this,NoticePointActions),this.generateActions("getNoticesSuccess","getNoticesFail")}return _createClass(NoticePointActions,[{key:"getNotices",value:function(){var _this=this;$.ajax({url:"/api/notices",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getNoticesSuccess(data)}).fail(function(){_this.actions.getNoticesFail()})}}]),NoticePointActions}();exports["default"]=_alt2["default"].createActions(NoticePointActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_NoticePointActions=__webpack_require__(23),_NoticePointActions2=_interopRequireDefault(_NoticePointActions),NoticePointStore=function(){function NoticePointStore(){_classCallCheck(this,NoticePointStore),this.bindActions(_NoticePointActions2["default"]),this.count=0}return _createClass(NoticePointStore,[{key:"onGetNoticesSuccess",value:function(data){200===data.code?this.count=data.raw.length:500===data.code&&toastr.warning("获取通知失败")}},{key:"onGetNoticesFail",value:function(){toastr.warning("获取通知失败")}}]),NoticePointStore}();exports["default"]=_alt2["default"].createStore(NoticePointStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),Footer=function(_React$Component){function Footer(){return _classCallCheck(this,Footer),_possibleConstructorReturn(this,(Footer.__proto__||Object.getPrototypeOf(Footer)).apply(this,arguments))}return _inherits(Footer,_React$Component),_createClass(Footer,[{key:"show",value:function(type){switch(type){case"weixin":}}},{key:"render",value:function(){return _react2["default"].createElement("footer",{className:"mon-footer"},_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"友情链接"),_react2["default"].createElement("a",{href:"http://www.gameday.ren/",target:"_blank"},"比赛日官网"),_react2["default"].createElement("a",{href:"https://www.espnzhibo.com/",target:"_blank"},"ESPN直播"),_react2["default"].createElement("a",{href:"https://github.com/Toreant/monster_web/tree/gameday",target:"_blank"},"源代码")),_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"技术栈"),_react2["default"].createElement("div",{className:"flex-box"},_react2["default"].createElement("a",{href:"http://www.gulpjs.com.cn/",target:"_blank"},"gulp"),_react2["default"].createElement("a",{href:"https://nodejs.org/en/",target:"_blank"},"nodejs"),_react2["default"].createElement("a",{href:"http://www.bootcss.com/",target:"_blank"},"bootstrap"),_react2["default"].createElement("a",{href:"http://facebook.github.io/react/",target:"_blank"},"react"),_react2["default"].createElement("a",{href:"https://www.mongodb.org",target:"_blank"},"mongodb"),_react2["default"].createElement("a",{href:"http://www.bootcss.com/p/lesscss/",target:"_blank"},"less"),_react2["default"].createElement("a",{href:"http://cn.vuejs.org/",target:"_blank"},"vue"),_react2["default"].createElement("a",{href:"http://www.ttlsa.com/",target:"_blank"},"运维生存时间"),_react2["default"].createElement("a",{href:"https://segmentfault.com/",target:"_blank"},"segmentfault"),_react2["default"].createElement("a",{href:"http://www.csdn.net/",target:"_blank"},"csdn"),_react2["default"].createElement("a",{href:"http://sentsin.com/daohang/",target:"_blank"},"前端江湖"))),_react2["default"].createElement("div",{className:"col-md-4 col-sm-4"},_react2["default"].createElement("p",null,"关注比赛日账号"),_react2["default"].createElement("a",{href:"https://coding.net/u/gameday/",target:"_blank"},_react2["default"].createElement("span",{className:"fa fa-github"})),_react2["default"].createElement("a",{href:"javascript:;",onClick:this.show.bind(this,"weixin")},_react2["default"].createElement("span",{className:"fa fa-weixin"})))))}}]),Footer}(_react2["default"].Component);exports["default"]=Footer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_HomeActions=__webpack_require__(27),_HomeStore=(_interopRequireDefault(_HomeActions),__webpack_require__(28)),_HomeStore2=_interopRequireDefault(_HomeStore),_Carousel=__webpack_require__(29),_Carousel2=_interopRequireDefault(_Carousel),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),_Weather=__webpack_require__(34),_Weather2=_interopRequireDefault(_Weather),_reactRouter=__webpack_require__(3),Home=function(_React$Component){function Home(props){_classCallCheck(this,Home);var _this=_possibleConstructorReturn(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,props));return _this.state=_HomeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Home,_React$Component),_createClass(Home,[{key:"componentDidMount",value:function(){_HomeStore2["default"].listen(this.onChange),window.location="/articles"}},{key:"componentDidUpdate",value:function(nextProps,preProps){}},{key:"componentWillUnmount",value:function(){_HomeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Articles=void 0,Musics=void 0;return Articles=this.state.a_loading?_react2["default"].createElement(_Loading2["default"],null):this.state.articles.map(function(data){return _react2["default"].createElement("div",{key:"article"+data.data._id,className:"mon-item"},_react2["default"].createElement("div",{className:"mon-fragmentation"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}))),_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"btn btn-block clearfix"},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",{className:"pull-right"},data.user.username)))),_react2["default"].createElement("div",{className:"mon-aside"},_react2["default"].createElement(_reactRouter.Link,{
to:"/article/"+data.data._id},data.data.title)))}),Musics=this.state.m_loading?_react2["default"].createElement(_Loading2["default"],null):this.state.musics.map(function(data){return _react2["default"].createElement("div",{key:"music"+data.data._id,className:"mon-item"},_react2["default"].createElement("div",{className:"mon-fragmentation"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/music/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}))),_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"btn btn-block clearfix"},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",{className:"pull-right"},data.user.username)))),_react2["default"].createElement("div",{className:"mon-aside"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data.data._id},data.data.title)))}),_react2["default"].createElement("div",{className:"container mon-main"},_react2["default"].createElement("div",{className:"raw clearfix mon-section mon-carousel"},_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Carousel2["default"],null)),_react2["default"].createElement("div",{className:"col-md-4"},_react2["default"].createElement(_Weather2["default"],null))),_react2["default"].createElement("div",{className:"raw clearfix mon-section"},_react2["default"].createElement("span",{className:"mon-label"},"文章"),_react2["default"].createElement("div",{className:"mon-box"},Articles)),_react2["default"].createElement("div",{className:"raw clearfix mon-section"},_react2["default"].createElement("p",{className:"mon-label"},"音乐"),_react2["default"].createElement("div",{className:"mon-box"},Musics)))}}]),Home}(_react2["default"].Component);exports["default"]=Home},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),HomeActions=function(){function HomeActions(){_classCallCheck(this,HomeActions),this.generateActions("getArticlesSuccess","getMusicsSuccess")}return _createClass(HomeActions,[{key:"getArticles",value:function(){var _this=this,params={option:{skip:0,limit:10,sort:{create_time:-1}}};$.ajax({url:"/api/articles",type:"post",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.getArticlesSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}},{key:"getMusics",value:function(){var _this2=this,params={option:{skip:0,limit:10,sort:{create_time:-1}}};$.ajax({url:"/api/musics",type:"post",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params),dataType:"json"}).done(function(data){_this2.actions.getMusicsSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}}]),HomeActions}();exports["default"]=_alt2["default"].createActions(HomeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_HomeActions=__webpack_require__(27),_HomeActions2=_interopRequireDefault(_HomeActions),HomeStore=function(){function HomeStore(){_classCallCheck(this,HomeStore),this.bindActions(_HomeActions2["default"]),this.articles=[],this.musics=[],this.a_loading=!0,this.m_loading=!0}return _createClass(HomeStore,[{key:"onGetArticlesSuccess",value:function(data){200===data.code?(this.articles=data.raw._raw,this.a_loading=!1):500===data.code&&toastr.warning("获取数据失败")}},{key:"onGetMusicsSuccess",value:function(data){200===data.code?(this.musics=data.raw._raw,this.m_loading=!1):500===data.code&&toastr.warning("获取数据失败")}}]),HomeStore}();exports["default"]=_alt2["default"].createStore(HomeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_CarouselActions=__webpack_require__(30),_CarouselActions2=_interopRequireDefault(_CarouselActions),_CarouselStore=__webpack_require__(31),_CarouselStore2=_interopRequireDefault(_CarouselStore),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(3),Carousel=function(_React$Component){function Carousel(props){_classCallCheck(this,Carousel);var _this=_possibleConstructorReturn(this,(Carousel.__proto__||Object.getPrototypeOf(Carousel)).call(this,props));return _this.state=_CarouselStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Carousel,_React$Component),_createClass(Carousel,[{key:"componentDidMount",value:function(){_CarouselStore2["default"].listen(this.onChange),_CarouselActions2["default"].getRecommend()}},{key:"componentWillUnmount",value:function(){_CarouselStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state),$("#carousel").sangarSlider({timer:!1,width:850,height:500,directionalNav:"show",pagination:"bullet",paginationContent:["Lorem Ipsum Dolor","Dolor Sit Amet","Consectetur","Do Eiusmod","Magna Aliqua"],paginationContentWidth:200})}},{key:"render",value:function(){var Target=null;return Target=this.state.loading?_react2["default"].createElement(_Loading2["default"],null):this.state.list.map(function(data){return _react2["default"].createElement("div",{key:data.data._id,className:"sangar-content"},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading"}),_react2["default"].createElement(_reactRouter.Link,{to:"/"+data.option+"/"+data.data._id},_react2["default"].createElement("data",{className:"data title"})),_react2["default"].createElement("div",{className:"mon-sanger-content"},_react2["default"].createElement("p",null,data.data.title)))}),_react2["default"].createElement("div",{className:"sangar-slideshow-container",id:"carousel"},_react2["default"].createElement("div",{className:"sangar-content-wrapper"},Target))}}]),Carousel}(_react2["default"].Component);exports["default"]=Carousel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),CarouselActions=function(){function CarouselActions(){_classCallCheck(this,CarouselActions),this.generateActions("getRecommendSuccess")}return _createClass(CarouselActions,[{key:"getRecommend",value:function(){var _this=this;$.ajax({url:"/api/recommend",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getRecommendSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}}]),CarouselActions}();exports["default"]=_alt2["default"].createActions(CarouselActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_CarouselActions=__webpack_require__(30),_CarouselActions2=_interopRequireDefault(_CarouselActions),_underscore=__webpack_require__(32),CarouselStore=(_interopRequireDefault(_underscore),function(){function CarouselStore(){_classCallCheck(this,CarouselStore),this.bindActions(_CarouselActions2["default"]),this.list=[],this.loading=!0}return _createClass(CarouselStore,[{key:"onGetRecommendSuccess",value:function(data){this.loading=!1,200===data.code?this.list=data.raw:500===data.code&&toastr.error("获取数据失败")}}]),CarouselStore}());exports["default"]=_alt2["default"].createStore(CarouselStore)},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),Loading=function(_React$Component){function Loading(){return _classCallCheck(this,Loading),_possibleConstructorReturn(this,(Loading.__proto__||Object.getPrototypeOf(Loading)).apply(this,arguments))}return _inherits(Loading,_React$Component),_createClass(Loading,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"loader-inner line-scale-pulse-out mon-loader-o mon-loader-bg"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null))}}]),Loading}(_react2["default"].Component);exports["default"]=Loading},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_WeatherActions=__webpack_require__(35),_WeatherActions2=_interopRequireDefault(_WeatherActions),_WeatherStore=__webpack_require__(36),_WeatherStore2=_interopRequireDefault(_WeatherStore),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),Weather=function(_React$Component){function Weather(props){_classCallCheck(this,Weather);var _this=_possibleConstructorReturn(this,(Weather.__proto__||Object.getPrototypeOf(Weather)).call(this,props));return _this.state=_WeatherStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Weather,_React$Component),_createClass(Weather,[{key:"componentDidMount",value:function(){_WeatherStore2["default"].listen(this.onChange),_WeatherActions2["default"].getWeather()}},{key:"componentWillUnmount",value:function(){_WeatherStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"refresh",value:function(){_WeatherActions2["default"].getWeather()}},{key:"render",value:function(){var Target=null;return this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.error||null===this.state.weather?this.state.error&&(Target=_react2["default"].createElement("div",{className:"mon-error"},_react2["default"].createElement("a",{href:"javascript:;",onClick:this.refresh},_react2["default"].createElement("span",{className:"fa fa-refresh"}),"刷新试试"))):Target=_react2["default"].createElement("div",{className:"mon-weather"},_react2["default"].createElement("div",{className:"mon-weather-title"},_react2["default"].createElement("span",{className:"fa fa-calendar"}),_react2["default"].createElement("p",{className:"text-center mon-weather-time"},this.state.weather.date)),_react2["default"].createElement("div",{className:"mon-weather-content"},_react2["default"].createElement("img",{src:"/img/weather/"+this.state.weather.cond.code_d+".png",alt:"loading"}),_react2["default"].createElement("p",null,_react2["default"].createElement("a",{href:"javascript:;",className:"mon-location"},_react2["default"].createElement("span",{className:"fa fa-map-pin"})),this.state.city),_react2["default"].createElement("p",null,_react2["default"].createElement("span",null,this.state.weather.tmp.min,"℃"),_react2["default"].createElement("span",null,"～"),_react2["default"].createElement("span",null,this.state.weather.tmp.max,"℃")))),_react2["default"].createElement("div",{className:"mon-weather hidden-xs"},Target)}}]),Weather}(_react2["default"].Component);exports["default"]=Weather},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),WeatherActions=function(){function WeatherActions(){_classCallCheck(this,WeatherActions),this.generateActions("getWeatherSuccess")}return _createClass(WeatherActions,[{key:"getWeather",value:function(){var _this=this;$.ajax({url:"/api/weather",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getWeatherSuccess(data)}).fail(function(){toastr.warning("获取天气失败")})}}]),WeatherActions}();exports["default"]=_alt2["default"].createActions(WeatherActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_WeatherActions=__webpack_require__(35),_WeatherActions2=_interopRequireDefault(_WeatherActions),WeatherStore=function(){function WeatherStore(){_classCallCheck(this,WeatherStore),this.bindActions(_WeatherActions2["default"]),this.loading=!0,this.error=!1,this.weather=null,this.city="北京"}return _createClass(WeatherStore,[{key:"onGetWeatherSuccess",value:function(data){this.loading=!1,200===data.code?(this.city=data.raw.city,this.weather=data.raw.weather):404===data.code?(this.error=!0,toastr.warning(data.meta)):(this.error=!0,toastr.warning("查询天气失败"))}}]),WeatherStore}();exports["default"]=_alt2["default"].createStore(WeatherStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_LoginActions=__webpack_require__(38),_LoginActions2=_interopRequireDefault(_LoginActions),_LoginStore=__webpack_require__(39),_LoginStore2=_interopRequireDefault(_LoginStore),Login=function(_React$Component){function Login(props){_classCallCheck(this,Login);var _this=_possibleConstructorReturn(this,(Login.__proto__||Object.getPrototypeOf(Login)).call(this,props));return _this.state=_LoginStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Login,_React$Component),_createClass(Login,[{key:"componentDidMount",value:function(){_LoginStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_LoginStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option){var email=this.state.email,password=this.state.password,prePassword=this.state.prePassword,name=this.state.username,reg=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;0===option?(""!==email&&reg.test(email)||(this.refs.loginEmail.getDOMNode().focus(),toastr.warning("邮箱不可为空或则邮箱不符合规则")),""===password?(this.refs.loginPwd.getDOMNode().focus(),toastr.warning("密码不可为空")):""!==email&&""!==password&&_LoginActions2["default"].login(email,password)):1===option&&(""!==email&&reg.test(email)?""===password?(this.refs.password.getDOMNode().focus(),toastr.error("密码不可为空")):""===prePassword?(this.refs.prePassword.getDOMNode().focus(),toastr.warning("请确认密码")):""===name?(this.refs.user.getDOMNode().focus(),toastr.error("用户名不可为空")):_LoginActions2["default"].sign(email,password,prePassword,name):(this.refs.email.getDOMNode().focus(),toastr.error("邮箱不可为空或邮箱不符合规则")))}},{key:"changeForm",value:function(form){var $preForm=void 0,$newForm=void 0,$signForm=$(".sign-form"),$loginForm=$(".login-form"),location=window.location;switch(form){case 0:$preForm=$signForm,$newForm=$loginForm,location.hash="login";break;case 1:$preForm=$loginForm,$newForm=$signForm,location.hash="sign"}$preForm.css("display","none"),$newForm.css("display","block")}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container mon-login mon-main"},_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 col-md-offset-4 col-sm-offset-4 mon-auth"},_react2["default"].createElement("span",{className:"fa fa-github animated shake"}),_react2["default"].createElement("div",null,_react2["default"].createElement("a",{href:"/auth/github",className:"btn btn-primary"},"登陆")))))}}]),Login}(_react2["default"].Component);exports["default"]=Login},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),LoginActions=function(){function LoginActions(){_classCallCheck(this,LoginActions),this.generateActions("doPasswordFail","loginSuccess","loginFail","doSignSuccess","doSignFail","changeEmail","changePassword","changeName","changePrePassword")}return _createClass(LoginActions,[{key:"login",value:function(email,password){var _this=this;$.ajax({type:"POST",url:"/api/login",cache:!1,dataType:"json",data:{email:email,password:password}}).done(function(data){_this.actions.loginSuccess(data)}).fail(function(data){_this.actions.loginFail})}},{key:"sign",value:function(email,password,prePwd,userName){var _this2=this;password!==prePwd?this.actions.doPasswordFail():$.ajax({url:"/api/user",dataType:"json",type:"post",cache:!1,data:{email:email,password:password,name:userName}}).done(function(data){_this2.actions.doSignSuccess(data)}).fail(function(data){_this2.actions.doSignFail(data)})}}]),LoginActions}();exports["default"]=_alt2["default"].createActions(LoginActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_LoginActions=__webpack_require__(38),_LoginActions2=_interopRequireDefault(_LoginActions),LoginStore=function(){function LoginStore(){_classCallCheck(this,LoginStore),this.bindActions(_LoginActions2["default"]),this.email="",this.password="",this.username="",this.prePassword="",this.stateInfo="",this.err=""}return _createClass(LoginStore,[{key:"onDoPasswordFail",value:function(){this.stateInfo="两次密码不一样",this.err=!0,toastr.warning(this.stateInfo)}},{key:"onLoginSuccess",value:function(data){if(200===data.code){var localStorage=window.localStorage,sessionStorage=window.sessionStorage;localStorage.setItem("user",JSON.stringify(data)),sessionStorage.setItem("profile",JSON.stringify(data.data)),window.location="/"}else 400===data.code&&toastr.error("登陆失败")}},{key:"onLoginFail",value:function(){this.stateInfor="服务器错误",this.err=!0,toastr.error(this.stateInfor)}},{key:"onDoSignSuccess",value:function(data){200===data.code?(toastr.success("注册成功,3秒后将跳转到首页"),setTimeout(function(){window.location="/"},3e3)):400===data.code&&toastr.warning("邮箱或用户名已经被注册")}},{key:"onSignFail",value:function(data){this.stateInfo="服务器错误",toastr.warning(this.stateInfo)}},{key:"onChangeEmail",value:function(event){this.email=event.target.value}},{key:"onChangePassword",value:function(event){this.password=event.target.value}},{key:"onChangeName",value:function(event){this.username=event.target.value}},{key:"onChangePrePassword",value:function(event){this.prePassword=event.target.value}}]),LoginStore}();exports["default"]=_alt2["default"].createStore(LoginStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_UserActions=__webpack_require__(41),_UserActions2=_interopRequireDefault(_UserActions),_UserStore=__webpack_require__(42),_UserStore2=_interopRequireDefault(_UserStore),_NoticePoint=__webpack_require__(22),_NoticePoint2=_interopRequireDefault(_NoticePoint),_UpdateBlock=__webpack_require__(43),_UpdateBlock2=_interopRequireDefault(_UpdateBlock),User=function(_React$Component){function User(props){_classCallCheck(this,User);var _this=_possibleConstructorReturn(this,(User.__proto__||Object.getPrototypeOf(User)).call(this,props));return _this.state=_UserStore2["default"].getState(),
_this.onChange=_this.onChange.bind(_this),_this}return _inherits(User,_React$Component),_createClass(User,[{key:"componentDidMount",value:function(){_UserStore2["default"].listen(this.onChange),_UserActions2["default"].getUser()}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.id!==this.props.params.id&&_UserActions2["default"].getUser(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_UserStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var content=void 0;return content=this.state.auth?_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-3 col-sm-3"},_react2["default"].createElement("div",{className:"mon-center mon-user-img"},_react2["default"].createElement("img",{src:this.state.avatar_url||"/img/dd9901f664234eb44f6b217e7fa04e17.jpg",width:"200",alt:"loading"})),_react2["default"].createElement("div",{className:"mon-user-name"},this.state.username),_react2["default"].createElement("div",{className:"mon-vcard-stats"},_react2["default"].createElement(_reactRouter.Link,{to:"/profile/followers",className:"mon-link"},_react2["default"].createElement("span",null,this.state.followers),_react2["default"].createElement("b",null,"Followers")),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/following",className:"mon-link"},_react2["default"].createElement("span",null,this.state.following),_react2["default"].createElement("b",null,"Following")),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/contribute/articles",className:"mon-link"},_react2["default"].createElement("span",null,this.state.contribute),_react2["default"].createElement("b",null,"Contribute"))),_react2["default"].createElement("ul",{className:"nav mon-ability-list"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/setting"},_react2["default"].createElement("span",{className:"fa fa-cog"}),"设置")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/center"},_react2["default"].createElement("span",{className:"fa fa-user"}),"中心")),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star"},_react2["default"].createElement("span",{className:"fa fa-star"}),"收藏")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"javascript:;","data-toggle":"collapse","data-target":"#my-contribute"},_react2["default"].createElement("span",{className:"fa fa-pencil-square"}),"投稿"),_react2["default"].createElement("ul",{className:"nav collapse mon-contribute",id:"my-contribute"},_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/post/article"},_react2["default"].createElement("span",{className:"fa fa-file"}),"文章")))),_react2["default"].createElement("li",null,_react2["default"].createElement(_reactRouter.Link,{to:"/profile/notice"},_react2["default"].createElement("span",{className:"fa fa-bell"}),"通知",_react2["default"].createElement(_NoticePoint2["default"],null))))),_react2["default"].createElement(_reactRouter.RouteHandler,null)):_react2["default"].createElement("div",null),_react2["default"].createElement("div",{className:"container"},content,_react2["default"].createElement(_UpdateBlock2["default"],null))}}]),User}(_react2["default"].Component);User.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=User},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),UserActions=function(){function UserActions(){_classCallCheck(this,UserActions),this.generateActions("getUserSuccess","getUserFail","getUserLocal")}return _createClass(UserActions,[{key:"getUser",value:function(){var _this=this;null!=sessionStorage.profile?this.actions.getUserLocal():$.ajax({url:"/api/profile",cache:!1,type:"get"}).done(function(data){_this.actions.getUserSuccess(data)}).fail(function(){_this.actions.getUserFail()})}}]),UserActions}();exports["default"]=_alt2["default"].createActions(UserActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_UserActions=__webpack_require__(41),_UserActions2=_interopRequireDefault(_UserActions),UserStore=function(){function UserStore(){_classCallCheck(this,UserStore),this.bindActions(_UserActions2["default"]),this.username="",this.avatar_url="",this.star=0,this.followers=0,this.contribute=0,this.following=0,this.domain="",this.auth=!1}return _createClass(UserStore,[{key:"onGetUserSuccess",value:function(data){200===data.code?(console.log(data),this.auth=!0,this.username=data.raw.username,this.avatar_url=data.raw.avatar_url,this.followers=data.raw.followers.length,this.following=data.raw.following.length,this.contribute=data.raw.contribute.length,this.star=data.raw.star.length,this.doamin=data.raw.domain):window.location="/login"}},{key:"onGetUserFail",value:function(){toastr.error("服务器错误")}}]),UserStore}();exports["default"]=_alt2["default"].createStore(UserStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_UpdateBlockActions=__webpack_require__(44),_UpdateBlockActions2=_interopRequireDefault(_UpdateBlockActions),_UpdateBlockStore=__webpack_require__(45),_UpdateBlockStore2=_interopRequireDefault(_UpdateBlockStore),UpdateBlock=function(_React$Component){function UpdateBlock(props){_classCallCheck(this,UpdateBlock);var _this=_possibleConstructorReturn(this,(UpdateBlock.__proto__||Object.getPrototypeOf(UpdateBlock)).call(this,props));return _this.state=_UpdateBlockStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(UpdateBlock,_React$Component),_createClass(UpdateBlock,[{key:"componentDidMount",value:function(){_UpdateBlockStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_UpdateBlockStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var $updateModal=$("#updateModal"),title=$updateModal.find("input[name='title']").val(),summary=$updateModal.find("textarea[name='summary']").val(),tags=$updateModal.find("input[name='tag']").val().replace(/\s+/g,","),content=$updateModal.find("textarea[name='content']").val();tags=tags.split(",");var tag=[];tags.map(function(data){tag.push(data)}),_UpdateBlockActions2["default"].update(title,summary,tag,content,$("#_id").val())}},{key:"render",value:function(){return _react2["default"].createElement("div",{id:"updateModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","data-backdrop":"static"},_react2["default"].createElement("div",{className:"modal-dialog"},_react2["default"].createElement("div",{className:"modal-content"},_react2["default"].createElement("div",{className:"modal-header"},_react2["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},_react2["default"].createElement("span",{"aria-hidden":"true"},"×")),_react2["default"].createElement("h4",null,"更新")),_react2["default"].createElement("div",{className:"modal-body"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"标题"),_react2["default"].createElement("input",{name:"title",type:"text",className:"form-control"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"简介"),_react2["default"].createElement("textarea",{name:"summary",cols:"30",rows:"4",className:"form-control"})),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"标签"),_react2["default"].createElement("input",{name:"tag",type:"text",className:"form-control"})),_react2["default"].createElement("input",{id:"_id",type:"hidden",name:"_id"}),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("p",{className:"text-info"},"主体内容"),_react2["default"].createElement("textarea",{id:"updateContent",name:"content",cols:"30",rows:"10",className:"form-control"})))),_react2["default"].createElement("div",{className:"modal-footer"},_react2["default"].createElement("button",{className:"btn btn-primary pull-right",onClick:this.handleClick.bind(this)},"保存更新")))))}}]),UpdateBlock}(_react2["default"].Component);exports["default"]=UpdateBlock},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),UpdateBlockActions=function(){function UpdateBlockActions(){_classCallCheck(this,UpdateBlockActions),this.generateActions("changeTitle","changeSummary","changeTags","changeContent","updateSuccess")}return _createClass(UpdateBlockActions,[{key:"update",value:function(title,summary,tags,content,_id){var _this=this,params={params:{title:title,summary:summary,tags:tags,content:content},_id:_id};$.ajax({url:"/api/article",type:"put",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.updateSuccess(data)}).fail(function(){toastr.warning("更新失败")})}}]),UpdateBlockActions}();exports["default"]=_alt2["default"].createActions(UpdateBlockActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_UpdateBlockActions=__webpack_require__(44),_UpdateBlockActions2=_interopRequireDefault(_UpdateBlockActions),UpdateBlockStore=function(){function UpdateBlockStore(){_classCallCheck(this,UpdateBlockStore),this.bindActions(_UpdateBlockActions2["default"]),this.title="",this.summary="",this.tag=[],this.tags="",this.content=""}return _createClass(UpdateBlockStore,[{key:"onChangeTitle",value:function(event){this.title=event.target.value}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}},{key:"onChangeTags",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tag=[],tags.map(function(data){_this.tag.push(data)})}},{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onUpdateSuccess",value:function(data){200===data.code?toastr.success(data.meta):500===data.code&&toastr.warning(data.meta)}}]),UpdateBlockStore}();exports["default"]=_alt2["default"].createStore(UpdateBlockStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_SetActions=__webpack_require__(47),_SetActions2=_interopRequireDefault(_SetActions),_SetStore=__webpack_require__(48),_SetStore2=_interopRequireDefault(_SetStore),_Upload=__webpack_require__(49),_Upload2=_interopRequireDefault(_Upload),Set=function(_React$Component){function Set(props){_classCallCheck(this,Set);var _this=_possibleConstructorReturn(this,(Set.__proto__||Object.getPrototypeOf(Set)).call(this,props));return _this.state=_SetStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Set,_React$Component),_createClass(Set,[{key:"componentDidMount",value:function(){_SetStore2["default"].listen(this.onChange),_SetActions2["default"].getProfile()}},{key:"componentWillUnmount",value:function(){_SetStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var domain=this.state.domain,email=this.state.email,username=this.state.username,intro=this.state.intro,avatar_url=$("#user_img").attr("src"),error=!1,regEmail=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,regDomain=/^[0-9a-zA-Z-]{1,20}$/;regEmail.test(email)?_SetActions2["default"].emailValidateFail(0):(_SetActions2["default"].emailValidateFail(1),error=!0),username.length>15||""===username?(_SetActions2["default"].nameValidateFail(1),error=!0):_SetActions2["default"].nameValidateFail(0),regDomain.test(domain)?_SetActions2["default"].domainValidateFail(0):(_SetActions2["default"].domainValidateFail(1),error=!0),error||_SetActions2["default"].changeProfile(domain,username,email,intro,avatar_url)}},{key:"render",value:function(){var account=void 0;switch(this.state.account){case 1:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-github"}));break;case 2:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-facebook"}));break;case 3:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("span",{className:"fa fa-weibo"}));break;default:account=_react2["default"].createElement("div",{className:"col-sm-10 mon-account"},_react2["default"].createElement("a",{href:"javascript:void(0);"},_react2["default"].createElement("span",{className:"fa fa-github"})))}return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("legend",null,"设置"),_react2["default"].createElement("form",{className:"form-horizontal",role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("label",{className:"col-sm-2 control-label"}),_react2["default"].createElement("div",{className:"col-sm-3"},_react2["default"].createElement("img",{id:"user_img",src:this.state.avatar_url,alt:"loading",width:"200"})),_react2["default"].createElement("div",{className:"col-sm-7"},_react2["default"].createElement(_Upload2["default"],{img:"#user_img"}))),_react2["default"].createElement("div",{className:"form-group "+this.state.domainValidate},_react2["default"].createElement("label",{htmlFor:"individuality_domain",className:"col-sm-2 control-label"},"个性域名"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"text",id:"individuality_domain",className:"form-control",onChange:_SetActions2["default"].changeDomain,placeholder:"数字，英文，破折线",value:this.state.domain}),_react2["default"].createElement("span",{className:""===this.state.domainValidate?"hide":"text-danger"},"*个性域名格式错误或太长"))),_react2["default"].createElement("div",{className:"form-group "+this.state.nameValidate},_react2["default"].createElement("label",{htmlFor:"individuality_username",className:"col-sm-2 control-label"},"用户名"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"text",id:"individuality_username",className:"form-control",onChange:_SetActions2["default"].changeUserName,placeholder:"长度不超过10",value:this.state.username,max:"15"}),_react2["default"].createElement("span",{className:""===this.state.nameValidate?"hide":"text-danger"},"*用户名不能为空或是超过15个字"))),_react2["default"].createElement("div",{className:"form-group "+this.state.emailValidate},_react2["default"].createElement("label",{htmlFor:"individuality_email",className:"col-sm-2 control-label"},"邮箱"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("input",{type:"email",id:"individuality_email",className:"form-control",onChange:_SetActions2["default"].changeEmail,placeholder:"example@example.com",value:this.state.email}),_react2["default"].createElement("span",{className:""===this.state.emailValidate?"hide":"text-danger"},"*邮箱格式错误"))),_react2["default"].createElement("div",{className:"form-group "+this.state.introValidate},_react2["default"].createElement("label",{htmlFor:"individuality_intro",className:"col-sm-2 control-label"},"个人简介"),_react2["default"].createElement("div",{className:"col-sm-10"},_react2["default"].createElement("textarea",{type:"email",id:"individuality_intro",className:"form-control",onChange:_SetActions2["default"].changeIntro,placeholder:"留下你的宝贝简介吧",rows:"3",value:this.state.intro}),_react2["default"].createElement("span",{className:""===this.state.introValidate?"hide":"text-danger"},"*简介字数超出50"))),_react2["default"].createElement("div",{className:"fomr-group"},_react2["default"].createElement("label",{htmlFor:"individuality_account",className:"col-sm-2 control-label"},0===this.state.account?"绑定社交账号":"已绑定的账号"),account),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-primary pull-right",onClick:this.handleClick.bind(this)},"保存设置")))}}]),Set}(_react2["default"].Component);exports["default"]=Set},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),SetActions=function(){function SetActions(){_classCallCheck(this,SetActions),this.generateActions("changeProfileSuccess","changeProfileFail","getProfileSuccess","getProfileLocal","changeDomain","changeEmail","changeUserName","changeIntro","domainValidateFail","nameValidateFail","emailValidateFail","introValidateFail")}return _createClass(SetActions,[{key:"changeProfile",value:function(domain,username,email,intro,avatar_url){var _this=this,localStorage=window.localStorage,userProfile=localStorage.getItem("user");userProfile=JSON.parse(userProfile);var params={params:{email:email,domain:domain,username:username,introduce:intro,avatar_url:avatar_url}};console.log(params.params),$.ajax({url:"/api/user",type:"put",cache:"false",dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.changeProfileSuccess(data)}).fail(function(data){_this.actions.changeProfileFail()})}},{key:"getProfile",value:function(){var _this2=this;$.ajax({url:"/api/profile",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this2.actions.getProfileSuccess(data)}).fail(function(){toastr.warning("获取个人资料失败")})}}]),SetActions}();exports["default"]=_alt2["default"].createActions(SetActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_SetActions=__webpack_require__(47),_SetActions2=_interopRequireDefault(_SetActions),SetStore=function(){function SetStore(){_classCallCheck(this,SetStore),this.bindActions(_SetActions2["default"]),this.avatar_url="",this.username="",this.domain="",this.email="",this.account,this.intro="",this.domainValidate="",this.nameValidate="",this.emailValidate="",this.introValidate=""}return _createClass(SetStore,[{key:"onChangeProfileSuccess",value:function(data){200===data.code?toastr.success("修改用户资料成功"):500===data.code?toastr.error("服务器错误"):toastr.warning(data.meta)}},{key:"onChangeProfileFail",value:function(){toastr.error("服务器错误")}},{key:"onGetProfileSuccess",value:function(data){void 0!==data&&200===data.code&&(this.avatar_url=data.raw.avatar_url,this.username=data.raw.username,this.domain=data.raw.domain,this.email=data.raw.email,this.account=data.raw.account,this.intro=data.raw.introduce)}},{key:"onGetProfileLocal",value:function(data){this.username=data.raw.username,this.domain=data.raw.domain,this.email=data.raw.email,this.account=data.raw.account,this.intro=data.raw.introduce}},{key:"onProfileFail",value:function(){toastr.error("hehe")}},{key:"onChangeDomain",value:function(event){this.domain=event.target.value}},{key:"onChangeEmail",value:function(event){this.email=event.target.value}},{key:"onChangeUserName",value:function(event){this.username=event.target.value}},{key:"onChangeIntro",value:function(event){this.intro=event.target.value}},{key:"onDomainValidateFail",value:function(option){1===option?this.domainValidate="has-error":0===option&&(this.domainValidate="")}},{key:"onNameValidateFail",value:function(option){1===option?this.nameValidate="has-error":0===option&&(this.nameValidate="")}},{key:"onEmailValidateFail",value:function(option){1===option?this.emailValidate="has-error":0===option&&(this.emailValidate="")}},{key:"onIntroValidateFail",value:function(option){1===option?this.introValidate="has-error":0===option&&(this.introValidate="")}}]),SetStore}();exports["default"]=_alt2["default"].createStore(SetStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_UploadActions=__webpack_require__(50),_UploadActions2=_interopRequireDefault(_UploadActions),_UploadStore=__webpack_require__(51),_UploadStore2=_interopRequireDefault(_UploadStore),Upload=function(_React$Component){function Upload(props){_classCallCheck(this,Upload);var _this=_possibleConstructorReturn(this,(Upload.__proto__||Object.getPrototypeOf(Upload)).call(this,props));return _this.state=_UploadStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Upload,_React$Component),_createClass(Upload,[{key:"componentDidMount",value:function(){_UploadStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_UploadStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){$("#file_loader").removeClass("mon-upload-block").addClass("mon-upload-block-o")}},{key:"closeClick",value:function(){$("#file_loader").removeClass("mon-upload-block-o").addClass("mon-upload-block")}},{key:"upload",value:function(){_UploadActions2["default"].upload(this.state.file,this.props.img,$("#_token").val())}},{key:"render",value:function(){return _react2["default"].createElement("div",null,_react2["default"].createElement("a",{className:"btn btn-info",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-file"},"上传图片")),_react2["default"].createElement("div",{id:"file_loader",className:"mon-upload-block animated flipInX"},_react2["default"].createElement("div",{id:"file_loader_file",className:"mon-upload"},_react2["default"].createElement("label",{htmlFor:"uploader",className:"btn btn-info"},"选择文件"),_react2["default"].createElement("input",{type:"file",id:"uploader",className:"mon-fileloader",onChange:_UploadActions2["default"].changeFile}),_react2["default"].createElement("p",{className:"text-muted"},"图片选择尺寸为800*400")),_react2["default"].createElement("div",{id:"preview_block",className:"mon-preview-block"},_react2["default"].createElement("div",{className:"mon-preview-img"},_react2["default"].createElement("img",{src:"/img/cover-night.png",id:"img-preview",width:"200",alt:"loading"}),_react2["default"].createElement("input",{id:"upload_img_value",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_width",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_height",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_X",type:"hidden"}),_react2["default"].createElement("input",{id:"upload_img_Y",type:"hidden"})),_react2["default"].createElement("div",{
id:"loader",className:"loader-inner ball-pulse mon-loader"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null)),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-danger",htmlFor:"uploader"},_react2["default"].createElement("label",{htmlFor:"uploader"},_react2["default"].createElement("span",{className:"fa fa-history"}),"重新选择图片")),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-primary",onClick:this.upload.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle"}),"确定")),_react2["default"].createElement("span",{className:"fa fa-close mon-close",onClick:this.closeClick.bind(this)})))}}]),Upload}(_react2["default"].Component);exports["default"]=Upload},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function uploadLoad(option){0===option?$("#loader").removeClass("mon-loader").addClass("mon-loader-o"):$("#loader").removeClass("mon-loader-o").addClass("mon-loader")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_underscore=__webpack_require__(32),UploadActions=(_interopRequireDefault(_underscore),function(){function UploadActions(){_classCallCheck(this,UploadActions),this.generateActions("changeFile")}return _createClass(UploadActions,[{key:"upload",value:function(target,preImg,token){var _this=this;uploadLoad(0);var $tracker=$(".jcrop-holder img"),raw_width=$tracker.css("width"),raw_height=$tracker.css("height");raw_width=raw_width.split("p")[0],raw_height=raw_height.split("p")[0];var formData=new FormData,params={width:$("#upload_img_width").val()||raw_width,height:$("#upload_img_height").val()||raw_height,X:$("#upload_img_X").val()||0,Y:$("#upload_img_Y").val()||0,raw_width:raw_width,raw_height:raw_height};formData.append("file",target),formData.append("params",JSON.stringify(params)),$.ajax({url:"/api/upload",contentType:!1,type:"post",cache:!1,dataType:"json",processData:!1,timeout:1e4,data:formData,headers:{"x-http-token":token}}).success(function(data){_this.actions.uploadSuccess(data,preImg)}).fail(function(){toastr.error("上传图片不成功")}).error(function(){toastr.warning("上传时间超时"),uploadLoad(1)})}},{key:"uploadSuccess",value:function(data,preImg){uploadLoad(1),this.actions.uploadSuccessAfter(),200===data.code?($(preImg).attr("src","/img/upload/"+data.raw),$(preImg+"_value").val("/img/upload/"+data.raw)):toastr.warning("上传图片不成功")}},{key:"uploadSuccessAfter",value:function(){$("#file_loader").removeClass("mon-upload-block-o").addClass("mon-upload-block"),$("#file_loader_file").removeClass("mon-upload-o").addClass("mon-upload"),$("#preview_block").removeClass("mon-preview-block-o").addClass("mon-preview-block")}}]),UploadActions}());exports["default"]=_alt2["default"].createActions(UploadActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_UploadActions=__webpack_require__(50),_UploadActions2=_interopRequireDefault(_UploadActions),_underscore=__webpack_require__(32),_underscore2=_interopRequireDefault(_underscore),UploadStore=function(){function UploadStore(){_classCallCheck(this,UploadStore),this.bindActions(_UploadActions2["default"]),this.file={},this.croper={},this.width="",this.height="",this.X="",this.Y=""}return _createClass(UploadStore,[{key:"onChangeFile",value:function(event){var croper,_this=this,target=this.file=event.target.files[0],isChange=!1;if($("#file_loader_file").removeClass("mon-upload").addClass("mon-upload-o"),$("#preview_block").removeClass("mon-preview-block").addClass("mon-preview-block-o"),void 0!==("undefined"==typeof FileReader?"undefined":_typeof(FileReader))){var acceptType=["image/png","image/jpeg","image/jpg","image/gif"];if(_underscore2["default"].indexOf(acceptType,target.type)!==-1){var result,fileReader=new FileReader;fileReader.readAsDataURL(target),fileReader.onload=function(e){result=e.target.result,$("#img-preview").attr("src",result).Jcrop({onChange:function(event){$("#upload_img_width").val(event.w),$("#upload_img_height").val(event.h),$("#upload_img_X").val(event.x),$("#upload_img_Y").val(event.y)}},function(){croper=this,isChange=!0}),isChange&&(_this.croper=croper),_this.croper.setImage(result)}}else toastr.warning("不支持的图片格式")}}}]),UploadStore}();exports["default"]=_alt2["default"].createStore(UploadStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticeActions=__webpack_require__(53),_NoticeActions2=_interopRequireDefault(_NoticeActions),_NoticeStore=__webpack_require__(54),_NoticeStore2=_interopRequireDefault(_NoticeStore),_reactRouter=__webpack_require__(3),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),Notice=function(_React$Component){function Notice(props){_classCallCheck(this,Notice);var _this=_possibleConstructorReturn(this,(Notice.__proto__||Object.getPrototypeOf(Notice)).call(this,props));return _this.state=_NoticeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Notice,_React$Component),_createClass(Notice,[{key:"componentDidMount",value:function(){_NoticeStore2["default"].listen(this.onChange),_NoticeActions2["default"].getNoticesList()}},{key:"componentWillUnmount",value:function(){_NoticeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"readed",value:function(_id){_NoticeActions2["default"].getNotice(_id)}},{key:"render",value:function(){var _this2=this,Target=null;return this.state.loading===!1&&0!==this.state.notices.length?Target=this.state.notices.map(function(data){return _react2["default"].createElement("div",{key:data.notice._id,"data-item":data.notice._id,className:"mon-conlist-item mon-notice-item media animated flipInX"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading",width:"60"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("p",{className:"text-info"},data.notice.content),_react2["default"].createElement("div",null,_react2["default"].createElement("span",null,new Date(data.notice.create_time).toLocaleDateString()))),_react2["default"].createElement("button",{className:"btn btn-danger mon-read",onClick:_this2.readed.bind(_this2,data.notice._id)},"已读"))}):this.state.loading===!1&&0===this.state.notices.length?Target=_react2["default"].createElement("div",{className:"bg-primary mon-padding"},"没有私信或通知"):this.state.loading===!0&&(Target=_react2["default"].createElement(_Loading2["default"],null)),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9"},_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"通知／私信"),Target)}}]),Notice}(_react2["default"].Component);exports["default"]=Notice},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),NoticeActions=function(){function NoticeActions(){_classCallCheck(this,NoticeActions),this.generateActions("getNoticesListSuccess","getNoticeSuccess")}return _createClass(NoticeActions,[{key:"getNoticesList",value:function(){var _this=this;$.ajax({url:"/api/notices",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getNoticesListSuccess(data)}).fail(function(){toastr.warning("获取通知失败")})}},{key:"getNotice",value:function(_id){var _this2=this;$.ajax({url:"/api/notice/"+_id,type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this2.actions.getNoticeSuccess({data:data,_id:_id})}).fail(function(){toastr.warning("网络链接不正常")})}}]),NoticeActions}();exports["default"]=_alt2["default"].createActions(NoticeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_NoticeActions=__webpack_require__(53),_NoticeActions2=_interopRequireDefault(_NoticeActions),NoticeStore=function(){function NoticeStore(){_classCallCheck(this,NoticeStore),this.bindActions(_NoticeActions2["default"]),this.notices=[],this.loading=!0}return _createClass(NoticeStore,[{key:"onGetNoticesListSuccess",value:function(data){500===data.code?toastr.warning("获取通知失败"):404===data.code?toastr.warning("用户不存在"):200===data.code&&(this.notices=data.raw),this.loading=!1}},{key:"onGetNoticeSuccess",value:function(raw){var data=raw.data,item=raw._id;500===data.code?toastr.error("服务器错误"):404===data.code?toastr.warning("通知（私信）不存在"):200===data.code&&$('[data-item="'+item+'"]').fadeOut("normal",function(){$(this).remove()}),0===data.count&&(this.notices=[])}}]),NoticeStore}();exports["default"]=_alt2["default"].createStore(NoticeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_StarListActions=__webpack_require__(56),_StarListActions2=_interopRequireDefault(_StarListActions),_StarListStore=__webpack_require__(57),_StarListStore2=_interopRequireDefault(_StarListStore),StarList=function(_React$Component){function StarList(props){_classCallCheck(this,StarList);var _this=_possibleConstructorReturn(this,(StarList.__proto__||Object.getPrototypeOf(StarList)).call(this,props));return _this.state=_StarListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(StarList,_React$Component),_createClass(StarList,[{key:"componentDidMount",value:function(){_StarListStore2["default"].listen(this.onChange),void 0===this.props.params.domain?_StarListActions2["default"].getStarList(0,null):_StarListActions2["default"].getStarList(1,this.props.params.domain)}},{key:"componentWillUnmount",value:function(){_StarListStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"prevPage",value:function(){_StarListActions2["default"].getStarList(0,null,null,this.state.skip-1),_StarListActions2["default"].changeSkip(0)}},{key:"nextPage",value:function(){_StarListActions2["default"].getStarList(0,null,null,this.state.skip+1),_StarListActions2["default"].changeSkip(1)}},{key:"render",value:function(){var List=void 0,SkipPage=void 0,disabled="",disabledN="";return 0===this.state.skip&&(disabled="disabled"),(this.state.skip>=this.state.count/10-1||this.state.count<10)&&(disabledN="disabled"),0===this.state.starList.length?(List=_react2["default"].createElement("p",{className:"bg-info"},"还没有收藏任何东西"),SkipPage=null):(List=this.state.starList.map(function(data){return _react2["default"].createElement("div",{className:"media mon-conlist-item",key:data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id},_react2["default"].createElement("img",{src:data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{className:"text-primary",to:"/article/"+data._id},data.title),_react2["default"].createElement("div",{className:"mon-conlist-info"},_react2["default"].createElement("span",{className:"fa fa-clock-o"},new Date(data.create_time).toLocaleDateString())),_react2["default"].createElement("p",{className:"text-muted"},"简介：",data.summary||"什么鬼也没有")))}),SkipPage=_react2["default"].createElement("div",{className:"mon-skip"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page "+disabled,onClick:this.prevPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page "+disabledN,onClick:this.nextPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})))),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp mon-padding"},_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"收藏列表"),List,SkipPage)}}]),StarList}(_react2["default"].Component);exports["default"]=StarList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),StarListActions=function(){function StarListActions(){_classCallCheck(this,StarListActions),this.generateActions("getStarListSuccess","changeSkipSuccess")}return _createClass(StarListActions,[{key:"getStarList",value:function(what,user){var _this=this,option=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",skip=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;console.log("hehe");var params={what:what,user:{},option:option,skip:skip};0===what?params.user={_id:user}:params.user={domain:user},$.ajax({url:"/api/stars",cache:!1,type:"post",data:JSON.stringify(params),dataType:"json",contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getStarListSuccess(data)}).fail(function(data){toastr.error("链接出现问题")})}},{key:"changeSkip",value:function(option){this.actions.changeSkipSuccess(option)}}]),StarListActions}();exports["default"]=_alt2["default"].createActions(StarListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_StarListActions=__webpack_require__(56),_StarListActions2=_interopRequireDefault(_StarListActions),StarListStore=function(){function StarListStore(){_classCallCheck(this,StarListStore),this.bindActions(_StarListActions2["default"]),this.starList=[],this.skip=0,this.count=0}return _createClass(StarListStore,[{key:"onGetStarListSuccess",value:function(data){500===data.code?toastr.error("服务器错误"):200===data.code&&(this.starList=data.raw._raw,this.count=data.raw.count)}},{key:"onChangeSkipSuccess",value:function(option){0===option?this.skip=this.skip-1:this.skip=this.skip+1}}]),StarListStore}();exports["default"]=_alt2["default"].createStore(StarListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),NotFound=function(_React$Component){function NotFound(props){return _classCallCheck(this,NotFound),_possibleConstructorReturn(this,(NotFound.__proto__||Object.getPrototypeOf(NotFound)).call(this,props))}return _inherits(NotFound,_React$Component),_createClass(NotFound,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"mon-table"},_react2["default"].createElement("div",null,this.props.state)))}}]),NotFound}(_react2["default"].Component);exports["default"]=NotFound},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PostArticleActions=__webpack_require__(60),_PostArticleActions2=_interopRequireDefault(_PostArticleActions),_PostArticleStore=__webpack_require__(61),_PostArticleStore2=_interopRequireDefault(_PostArticleStore),_Upload=__webpack_require__(49),_Upload2=_interopRequireDefault(_Upload),_markdown=__webpack_require__(62),_markdown2=_interopRequireDefault(_markdown),PostArticle=function(_React$Component){function PostArticle(props){_classCallCheck(this,PostArticle);var _this=_possibleConstructorReturn(this,(PostArticle.__proto__||Object.getPrototypeOf(PostArticle)).call(this,props));return _this.state=_PostArticleStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(PostArticle,_React$Component),_createClass(PostArticle,[{key:"componentDidMount",value:function(){_PostArticleStore2["default"].listen(this.onChange),this.refs.title.getDOMNode().focus(),_PostArticleActions2["default"].getToken();var markdown=_markdown2["default"].markdown;$("#some-textarea").markdown({autofocus:!1,savable:!1,onPreview:function(e){var previewContent;if(e.isDirty()){var originalContent=e.getContent();previewContent=markdown.toHTML(originalContent)}else previewContent="写下你的大作吧！！！";return previewContent}}),null!==window.localStorage.getItem("postArticle")&&$(".fog").css("display","block")}},{key:"componentWillUnmount",value:function(){_PostArticleStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){_PostArticleActions2["default"].postArticle(this.state.title,this.state.summary,this.state.tag,$("#upload_img_value").val(),this.state.content,this.state.token)}},{key:"saveArticle",value:function(){var localStorage=window.localStorage,article={title:this.state.title,summary:this.state.summary,tags:this.state.tag,content:this.state.content,abbreviations:$("#upload_img_value").val(),post:!1};localStorage.setItem("postArticle",JSON.stringify(article)),toastr.success("保存稿件成功")}},{key:"showExplain",value:function(){}},{key:"load",value:function(loadable){loadable&&_PostArticleActions2["default"].loadEditContent(!0),$(".fog").css("display","none")}},{key:"showExplain",value:function(type){0==type?$(".explain-block").show():$(".explain-block").hide()}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},"文章投稿"),_react2["default"].createElement("form",{className:"form-horizontal"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"title"},"文章标题")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"email",className:"form-control",id:"title",ref:"title",value:this.state.title,onChange:_PostArticleActions2["default"].changeTitle,placeholder:"文章标题"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"tag"},"文章标签")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("input",{type:"text",className:"form-control",id:"tag",ref:"tag",value:this.state.tag,onChange:_PostArticleActions2["default"].changeTag,placeholder:"请输入文章标签 (标签间以空格分隔)"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default",htmlFor:"summary"},"文章简介")),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("textarea",{className:"form-control",name:"summary",id:"summary",rows:"5",value:this.state.summary,onChange:_PostArticleActions2["default"].changeSummary,placeholder:"文章简介"}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement("label",{className:"label label-default"},"封面图片")),_react2["default"].createElement("div",{className:"col-md-8"},_react2["default"].createElement(_Upload2["default"],{img:"#upload_img"}),_react2["default"].createElement("p",{className:"text-muted"},"请选择您的文章封面图片。封面图片不得包含令人反感的信息，尺寸为480*270像素。 请勿使用与内容无关，或分辨率不为16:9的图片作为封面图片。")),_react2["default"].createElement("div",{className:"col-md-3"},_react2["default"].createElement("img",{src:this.state.abbreviations||"/img/cover-night.png",id:"upload_img",width:"120",alt:"loading"}))),_react2["default"].createElement("input",{type:"hidden",id:"_token",value:this.state.token}),_react2["default"].createElement("a",{href:"javascript:;","class":"text-info",onClick:this.showExplain.bind(this,0)},"编辑说明"),_react2["default"].createElement("textarea",{id:"some-textarea",name:"content","data-provide":"markdown",rows:"15",value:this.state.content,onChange:_PostArticleActions2["default"].changeContent}),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-info mon-post-btn",onClick:this.saveArticle.bind(this)},_react2["default"].createElement("span",{className:"fa fa-clock-o"}),"保存"),_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-success pull-right mon-post-btn",onClick:this.handleClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-check-circle-o"}),"提交稿件")),_react2["default"].createElement("div",{className:"fog"},_react2["default"].createElement("div",{className:"mon-tip animated flipInX"},_react2["default"].createElement("p",null,"你已经保存了稿件，是否加载"),_react2["default"].createElement("div",null,_react2["default"].createElement("a",{className:"btn btn-danger",onClick:this.load.bind(this,!1)},"否"),_react2["default"].createElement("a",{className:"btn btn-primary",onClick:this.load.bind(this,!0)},"是")))),_react2["default"].createElement("div",{className:"explain-block fadeLeft"},_react2["default"].createElement("p",{className:"mon-bg-title"},"说明"),_react2["default"].createElement("span",{className:"explain-close-btn","aria-hidden":"true",onClick:this.showExplain.bind(this,1)
},"×"),_react2["default"].createElement("ol",{className:"nav"},_react2["default"].createElement("li",null,"1. 文章编辑采用markdown格式进行编写，建议先认识markdown的格式使用",_react2["default"].createElement("a",{href:"http://sspai.com/25137"},"传送门")),_react2["default"].createElement("li",null,"2. 文章中可以对代码进行高亮，比如：",_react2["default"].createElement("pre",null,"```javascript",_react2["default"].createElement("br",null),"// bad",_react2["default"].createElement("br",null),"var a;",_react2["default"].createElement("br",null),_react2["default"].createElement("br",null),"// good",_react2["default"].createElement("br",null),"let a;",_react2["default"].createElement("br",null),"```"),"在常规的代码格式符号后面添加语言，比如",_react2["default"].createElement("code",null,"javascript"),"或",_react2["default"].createElement("code",null,"css"),"等。高亮代码支持多种语言，请放心使用。"),_react2["default"].createElement("li",null,"3. 本编辑器下方有一个保存按钮，当你点击保存时，程序会保存当前的文章内容，包裹标题等，但不包括封面。当你下一次进入投稿页时，会自动加载你最后一次保存的内容，可以进行原度回复。"))))}}]),PostArticle}(_react2["default"].Component);exports["default"]=PostArticle},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),PostArticleActions=function(){function PostArticleActions(){_classCallCheck(this,PostArticleActions),this.generateActions("changeTitle","changeAbbreviations","changeTag","changeContent","changeSummary","changeMusic","postArticleSuccess","getTokenSuccess","loadEditContentSuccess")}return _createClass(PostArticleActions,[{key:"getToken",value:function(){var _this=this;$.ajax({url:"/api/token",type:"get",cache:!1}).done(function(data){_this.actions.getTokenSuccess(data)})}},{key:"postArticle",value:function(title,summary,tags,abbreviations,content,token){var _this2=this,params={params:{title:title,summary:summary,tags:tags,abbreviations:abbreviations,content:content,create_time:(new Date).getTime(),token:$("#_token").val()},token:token};$.ajax({url:"/api/article",type:"post",dataType:"json",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this2.actions.postArticleSuccess(data)}).fail(function(){toastr.error("发表文章不成功")})}},{key:"loadEditContent",value:function(load){var _this3=this;return!!load&&void setTimeout(function(){_this3.actions.loadEditContentSuccess()},200)}}]),PostArticleActions}();exports["default"]=_alt2["default"].createActions(PostArticleActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_PostArticleActions=__webpack_require__(60),_PostArticleActions2=_interopRequireDefault(_PostArticleActions),PostArticleStore=function(){function PostArticleStore(){_classCallCheck(this,PostArticleStore),this.bindActions(_PostArticleActions2["default"]),this.title="",this.abbreviations="",this.tag=[],this.content="",this.summary="",this.token=""}return _createClass(PostArticleStore,[{key:"onChangeTitle",value:function(event){this.title=event.target.value}},{key:"onChangeAbbreviations",value:function(event){this.abbreviations=event.target.value}},{key:"onChangeTag",value:function(event){var _this=this,tags=event.target.value.replace(/\s+/g,",");tags=tags.split(","),this.tag=[],tags.map(function(data){_this.tag.push(data)})}},{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onChangeSummary",value:function(event){this.summary=event.target.value}},{key:"onPostArticleSuccess",value:function(data){200===data.code?toastr.success("发表文章成功"):406===data.code?toastr.warning("这个用户不存在"):500===data.code&&toastr.error("发表文章不成功")}},{key:"onGetTokenSuccess",value:function(data){200===data.code&&(this.token=data.token)}},{key:"onLoadEditContentSuccess",value:function(){var localStorage=window.localStorage,editContent=localStorage.getItem("postArticle");editContent=JSON.parse(editContent),console.log(editContent),this.summary=editContent.summary,this.title=editContent.title,this.abbreviations=editContent.abbreviations,this.tag=editContent.tags,this.content=editContent.content}}]),PostArticleStore}();exports["default"]=_alt2["default"].createStore(PostArticleStore)},,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_MyContributeActions=__webpack_require__(69),_MyContributeActions2=_interopRequireDefault(_MyContributeActions),_MyContributeStore=__webpack_require__(70),_MyContributeStore2=_interopRequireDefault(_MyContributeStore),_reactRouter=__webpack_require__(3),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),MyContribute=function(_React$Component){function MyContribute(props){_classCallCheck(this,MyContribute);var _this=_possibleConstructorReturn(this,(MyContribute.__proto__||Object.getPrototypeOf(MyContribute)).call(this,props));return _this.state=_MyContributeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(MyContribute,_React$Component),_createClass(MyContribute,[{key:"componentDidMount",value:function(){_MyContributeStore2["default"].listen(this.onChange),_MyContributeActions2["default"].getContribute(this.props.params.column,0)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.params.column!==this.props.params.column&&_MyContributeActions2["default"].getContribute(this.props.params.column,0)}},{key:"componentWillUnmount",value:function(){_MyContributeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"delete",value:function(column,_id,target){_MyContributeActions2["default"]["delete"](column,_id,"#"+target)}},{key:"update",value:function(column,_id){_MyContributeActions2["default"].get(column,_id)}},{key:"render",value:function(){var _this2=this,List=void 0;return this.state.loading?List=_react2["default"].createElement(_Loading2["default"],null):0!==this.state.list.length?List=this.state.list.map(function(data,index){var option="article";switch(_this2.props.params.column){case"articles":option="article";break;case"musics":option="music";break;case"animtes":option="animate"}return _react2["default"].createElement("div",{id:"myContribute_"+data.data._id,className:"media mon-conlist-item",key:"contribute:"+data.data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id,className:"text-primary mon-conlist-title"},data.data.title),_react2["default"].createElement("p",{className:"text-muted mon-conlist-info"},_react2["default"].createElement("span",null,"投稿日期：",new Date(data.data.create_time).toLocaleDateString()),_react2["default"].createElement("span",null,"浏览次数：",data.data.browser_count)),_react2["default"].createElement("p",{className:"text-muted"},data.data.summary),_react2["default"].createElement("div",{className:"mon-fixed-btn"},_react2["default"].createElement("button",{className:"btn btn-danger",onClick:_this2["delete"].bind(_this2,option,data.data._id,"myContribute_"+data.data._id)},"删除"),_react2["default"].createElement("button",{className:"btn btn-primary",onClick:_this2.update.bind(_this2,option,data.data._id)},"更改"))),_react2["default"].createElement("span",{className:"mon-conlist-index"},index+1))}):this.state.error&&(List=_react2["default"].createElement("div",null,_react2["default"].createElement("a",{href:"javascript:;"},_react2["default"].createElement("span",{className:"fa fa-circle"}),"刷新"))),_react2["default"].createElement("div",{className:"animated flipInX mon-contribute"},List)}}]),MyContribute}(_react2["default"].Component);exports["default"]=MyContribute},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),MyContributeActions=function(){function MyContributeActions(){_classCallCheck(this,MyContributeActions),this.generateActions("getContributeSuccess","getContributeFail","deleteSuccess","getSuccess","getFail")}return _createClass(MyContributeActions,[{key:"getContribute",value:function(column,skip){var _this=this,params={option:{skip:skip,limit:10},query:"profile"};$.ajax({url:"/api/"+column,type:"post",cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(params),timeOut:1e4}).done(function(data){_this.actions.getContributeSuccess(data)}).fail(function(){_this.actions.getContributeFail()}).error(function(){_this.actions.getContributeFail()})}},{key:"delete",value:function(column,_id,target){var _this2=this;$.ajax({url:"/api/"+column+"/"+_id,type:"delete",contentType:"application/json;charset=utf-8",cache:!1}).done(function(data){_this2.actions.deleteSuccess({data:data,target:target})}).fail(function(){toastr.warning("删除不成功")})}},{key:"get",value:function(column,_id){var _this3=this;$.ajax({url:"/api/"+column+"/"+_id+"/false",type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this3.actions.getSuccess(data)}).fail(function(){_this3.actions.getFail()})}}]),MyContributeActions}();exports["default"]=_alt2["default"].createActions(MyContributeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_MyContributeActions=__webpack_require__(69),_MyContributeActions2=_interopRequireDefault(_MyContributeActions),_markdown=__webpack_require__(62),_markdown2=_interopRequireDefault(_markdown),MyContributeStore=function(){function MyContributeStore(){_classCallCheck(this,MyContributeStore),this.bindActions(_MyContributeActions2["default"]),this.loading=!0,this.error=!1,this.list=[]}return _createClass(MyContributeStore,[{key:"onGetContributeSuccess",value:function(data){this.loading=!1,200===data.code?this.list=data.raw._raw:500===data.code&&(this.error=!0)}},{key:"onGetContributeFail",value:function(){this.loading=!1,this.error=!0}},{key:"onDeleteSuccess",value:function(raw){var data=raw.data,target=raw.target;200===data.code?(toastr.success("删除成功"),$(target).fadeOut(function(){$(this).remove()})):toastr.warning(data.meta)}},{key:"onGetSuccess",value:function(data){if(200===data.code){var target=data.raw.article,$updateModal=$("#updateModal");$updateModal.on("show.bs.modal",function(event){var modal=$(this),tags=target.tags.toString().replace(/,/g," ");modal.find("input[name='title']").val(target.title),modal.find("textarea[name='summary']").val(target.summary),modal.find("input[name='tag']").val(tags),modal.find("textarea[name='content']").val(target.content),modal.find("input[name='_id']").val(target._id);var markdown=_markdown2["default"].markdown;$("#updateContent").markdown({autofocus:!1,savable:!1,onPreview:function(e){var previewContent;if(e.isDirty()){var originalContent=e.getContent();previewContent=markdown.toHTML(originalContent)}else previewContent="写下你的大作吧！！！";return previewContent}})}),$updateModal.modal("show")}else toastr.warning("获取数据失败")}},{key:"onGetFail",value:function(){toastr.warning("获取数据失败")}}]),MyContributeStore}();exports["default"]=_alt2["default"].createStore(MyContributeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ProfileCenterActions=__webpack_require__(72),_ProfileCenterActions2=_interopRequireDefault(_ProfileCenterActions),_ProfileCenterStore=__webpack_require__(73),_ProfileCenterStore2=_interopRequireDefault(_ProfileCenterStore),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(3),ProfileCenter=function(_React$Component){function ProfileCenter(props){_classCallCheck(this,ProfileCenter);var _this=_possibleConstructorReturn(this,(ProfileCenter.__proto__||Object.getPrototypeOf(ProfileCenter)).call(this,props));return _this.state=_ProfileCenterStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(ProfileCenter,_React$Component),_createClass(ProfileCenter,[{key:"componentDidMount",value:function(){_ProfileCenterStore2["default"].listen(this.onChange),_ProfileCenterActions2["default"].getProfile()}},{key:"componentWillUnmount",value:function(){_ProfileCenterStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Target=null,More=null;return this.state.starsCount>7&&(More=_react2["default"].createElement("div",{className:"col-md-3 col-xs-12 mon-more"},_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star",className:"mon-muted"},_react2["default"].createElement("span",{className:"fa fa-plus"})))),this.state.loading?Target=_react2["default"].createElement(_Loading2["default"],null):this.state.loading===!1&&this.state.stars.length>0&&(Target=this.state.stars.map(function(data){return _react2["default"].createElement("div",{key:data._id,className:"media col-md-6 col-xs-12"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id},_react2["default"].createElement("img",{src:data.abbreviations||"/img/abbreviations.png",width:"120",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/article/"+data._id,className:"text-primary"},data.title),_react2["default"].createElement("p",{className:"text-muted"},data.summary||"什么鬼也没有")))})),_react2["default"].createElement("div",{className:"col-md-9 col-sm-9 animated fadeInUp"},_react2["default"].createElement("div",{className:"mon-badge mon-tab"},_react2["default"].createElement("span",{className:"fa fa-folder-open text-info"}),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/contribute/articles",className:"mon-muted"},"个人投稿"),_react2["default"].createElement("span",{className:"badge"},this.state.contribute)),_react2["default"].createElement("div",{className:"mon-tab"},_react2["default"].createElement("div",{className:"mon-badge"},_react2["default"].createElement("span",{className:"fa fa-file-text text-success"}),_react2["default"].createElement(_reactRouter.Link,{to:"/profile/star",className:"mon-muted"},"收藏"),_react2["default"].createElement("span",{className:"badge"},this.state.starsCount)),_react2["default"].createElement("div",{className:"mon-star-list clearfix"},Target,More)))}}]),ProfileCenter}(_react2["default"].Component);exports["default"]=ProfileCenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ProfileCenterActions=function(){function ProfileCenterActions(){_classCallCheck(this,ProfileCenterActions),this.generateActions("getProfileSuccess")}return _createClass(ProfileCenterActions,[{key:"getProfile",value:function(){var _this=this;$.ajax({url:"/api/profile/center",type:"get",cache:!1,contentType:"application/json;charset=utf-8",timeOut:3e3}).done(function(data){_this.actions.getProfileSuccess(data)}).fail(function(){toastr.warning("获取资料失败")}).error(function(){toastr.warning("获取资料失败")})}}]),ProfileCenterActions}();exports["default"]=_alt2["default"].createActions(ProfileCenterActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ProfileCenterActions=__webpack_require__(72),_ProfileCenterActions2=_interopRequireDefault(_ProfileCenterActions),ProfileCenterStore=function(){function ProfileCenterStore(){_classCallCheck(this,ProfileCenterStore),this.bindActions(_ProfileCenterActions2["default"]),this.contribute=0,this.stars=[],this.starsCount=0,this.loading=!0}return _createClass(ProfileCenterStore,[{key:"onGetProfileSuccess",value:function(data){this.loading=!1,200===data.code?(this.contribute=data.raw.profile.contribute.length,this.stars=data.raw.stars._raw,this.starsCount=data.raw.stars.count):toastr.warning("获取资料失败")}}]),ProfileCenterStore}();exports["default"]=_alt2["default"].createStore(ProfileCenterStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_underscore=__webpack_require__(32),_FollowActions=__webpack_require__(75),_FollowActions2=_interopRequireDefault(_FollowActions),_FollowStore=__webpack_require__(76),_FollowStore2=_interopRequireDefault(_FollowStore),_Pagination=__webpack_require__(77),_Pagination2=_interopRequireDefault(_Pagination),Follow=function(_React$Component){function Follow(props){_classCallCheck(this,Follow);var _this=_possibleConstructorReturn(this,(Follow.__proto__||Object.getPrototypeOf(Follow)).call(this,props));return _this.state=_FollowStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Follow,_React$Component),_createClass(Follow,[{key:"componentDidMount",value:function(){_FollowStore2["default"].listen(this.onChange);var page=this.props.params.page;void 0===page&&(page=1);var column=this.props.params.follow;_FollowActions2["default"].getFollows(column,page)}},{key:"componentDidUpdate",value:function(prevProps){if(!(0,_underscore.isEqual)(prevProps.params,this.props.params)){var page=this.props.params.page;void 0===page&&(page=1),_FollowActions2["default"].getFollows(this.props.params.follow,page)}}},{key:"componentWillUnmount",value:function(){_FollowStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(auth_id){var $self=$("[data-self="+auth_id+"]");"0"===$self.data("option").toString()?_FollowActions2["default"].addFollow($self,auth_id):_FollowActions2["default"].unFollow($self,auth_id)}},{key:"render",value:function(){var _this2=this,followers=void 0,Title=void 0;Title="followers"===this.props.params.follow?"关注我的":"我关注的",followers=0===this.state.follows.length?_react2["default"].createElement("p",{className:"bg-danger mon-padding"},"没有任何数据"):this.state.follows.map(function(data,index){var FollowBtn=void 0;return FollowBtn=data.following?_react2["default"].createElement("a",{href:"javascript:;","data-self":data.user._id.toString(),"data-option":"1",onClick:_this2.handleClick.bind(_this2,data.user._id.toString())},"取消关注"):_react2["default"].createElement("a",{href:"javascript:;","data-self":data.user._id.toString(),"data-option":"0",onClick:_this2.handleClick.bind(_this2,data.user._id.toString())},"关注"),_react2["default"].createElement("div",{key:data.user._id,className:"listgroup animated flipInX"},_react2["default"].createElement("div",{className:"media"},_react2["default"].createElement("span",{className:"position pull-left"},index+1),_react2["default"].createElement("div",{className:"pull-left thumb-lg"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{className:"media-object",width:"80",src:data.user.avatar_url}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("h4",{className:"media-heading followers-name"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},data.user.username)),_react2["default"].createElement("p",{className:"followers-intro"},data.user.introduce),_react2["default"].createElement("div",{className:"follow"},FollowBtn))))});var pagination=0!==this.state.follows.length?_react2["default"].createElement(_Pagination2["default"],null):null;return _react2["default"].createElement("div",{className:"col-md-9 col-sm-9"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},Title),followers,pagination)}}]),Follow}(_react2["default"].Component);exports["default"]=Follow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),FollowActions=function(){function FollowActions(){_classCallCheck(this,FollowActions),this.generateActions("getFollowSuccess","changeFollowId","addFollowSuccess","unFollowSuccess")}return _createClass(FollowActions,[{key:"getFollows",value:function(column,page){var _this=this,url="/api/"+column,params={option:{skip:page,limit:10}};$.ajax({url:url,cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",type:"post",date:JSON.stringify(params)}).done(function(data){_this.actions.getFollowSuccess(data)}).fail(function(){toastr.warning("获取数据失败")})}},{key:"addFollow",value:function($self,auth_id){var _this2=this,params={_id:auth_id};$.ajax({url:"/api/follow",dataType:"json",type:"post",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this2.actions.addFollowSuccess([$self,data])}).fail(function(){toastr.error("关注不成功")})}},{key:"unFollow",value:function($self,auth_id){var _this3=this,params={_id:auth_id};$.ajax({url:"/api/follow",type:"delete",cache:!1,contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify(params)}).done(function(data){_this3.actions.unFollowSuccess([$self,data])}).fail(function(){toastr.warning("取消关注不成功")})}}]),FollowActions}();exports["default"]=_alt2["default"].createActions(FollowActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_FollowActions=__webpack_require__(75),_FollowActions2=_interopRequireDefault(_FollowActions),FollowStore=function(){
function FollowStore(){_classCallCheck(this,FollowStore),this.bindActions(_FollowActions2["default"]),this.follows=[],this.loading=!0,this.error=!1}return _createClass(FollowStore,[{key:"onGetFollowSuccess",value:function(data){this.loading=!0,200===data.code?this.follows=data.raw:500===data.code&&(toastar.warning("获取数据失败"),this.error=!0)}},{key:"onAddFollowSuccess",value:function(data){switch(data[1].code){case 400:toastr.error("本地用户不存在");break;case 200:toastr.success("关注成功"),data[0].text("取消关注"),data[0].data("option",1);break;case 304:toastr.warning("你已经关注过这个用户");break;case 404:toastr.error("关注的用户不存在")}}},{key:"onUnFollowSuccess",value:function(data){switch(data[1].code){case 400:toastr.error("本地用户不存在");break;case 200:toastr.success("取消关注成功"),data[0].text("关注"),data[0].data("option",0);break;case 304:toastr.warning("你还没有关注过这个用户");break;case 404:toastr.error("关注的用户不存在")}}}]),FollowStore}();exports["default"]=_alt2["default"].createStore(FollowStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_PaginationActions=__webpack_require__(78),_PaginationStore=(_interopRequireDefault(_PaginationActions),__webpack_require__(79)),_PaginationStore2=_interopRequireDefault(_PaginationStore),Pagination=function(_React$Component){function Pagination(props){_classCallCheck(this,Pagination);var _this=_possibleConstructorReturn(this,(Pagination.__proto__||Object.getPrototypeOf(Pagination)).call(this,props));return _this.state=_PaginationStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Pagination,_React$Component),_createClass(Pagination,[{key:"componentDidMount",value:function(){_PaginationStore2["default"].listen(this.onChange)}},{key:"componentWillUnmMout",value:function(){_PaginationStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){return _react2["default"].createElement("nav",null,_react2["default"].createElement("ul",{className:"pagination"},_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"#","aria-label":"Previous"},_react2["default"].createElement("span",{"aria-hidden":"true"},"«"))),_react2["default"].createElement("li",{className:"active"},_react2["default"].createElement("a",{href:"1"},"1 ",_react2["default"].createElement("span",{className:"sr-only"},"(current)"))),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"2"},"2")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"3"},"3")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"4"},"4")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:"5"},"5")),_react2["default"].createElement("li",null,_react2["default"].createElement("a",{href:""},_react2["default"].createElement("span",{"aria-hidden":"true"},"»")))))}}]),Pagination}(_react2["default"].Component);exports["default"]=Pagination},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),PaginationActions=function PaginationActions(){_classCallCheck(this,PaginationActions),this.generateActions()};exports["default"]=_alt2["default"].createActions(PaginationActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_PaginationActions=__webpack_require__(78),_PaginationActions2=_interopRequireDefault(_PaginationActions),PaginationStore=function PaginationStore(){_classCallCheck(this,PaginationStore),this.bindActions(_PaginationActions2["default"])};exports["default"]=_alt2["default"].createStore(PaginationStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_ContributeActions=__webpack_require__(81),_ContributeStore=(_interopRequireDefault(_ContributeActions),__webpack_require__(82)),_ContributeStore2=_interopRequireDefault(_ContributeStore),Contribute=function(_React$Component){function Contribute(props){_classCallCheck(this,Contribute);var _this=_possibleConstructorReturn(this,(Contribute.__proto__||Object.getPrototypeOf(Contribute)).call(this,props));return _this.state=_ContributeStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Contribute,_React$Component),_createClass(Contribute,[{key:"componentDidMount",value:function(){_ContributeStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_ContributeStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"col-sm-9 col-md-9 animated fadeInUp"},_react2["default"].createElement("p",{className:"bg-success mon-padding mon-bg-title"},"他的投稿"),_react2["default"].createElement(_reactRouter.RouteHandler,null))}}]),Contribute}(_react2["default"].Component);exports["default"]=Contribute},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ContributeActions=function ContributeActions(){_classCallCheck(this,ContributeActions),this.generateActions()};exports["default"]=_alt2["default"].createActions(ContributeActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ContributeActions=__webpack_require__(81),_ContributeActions2=_interopRequireDefault(_ContributeActions),ContributeStore=function ContributeStore(){_classCallCheck(this,ContributeStore),this.bindActions(_ContributeActions2["default"]),this.contributes=[],this.animate=[],this.music=[],this.article=[]};exports["default"]=_alt2["default"].createStore(ContributeStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_underscore=__webpack_require__(32),_ArticleActions=__webpack_require__(84),_ArticleActions2=_interopRequireDefault(_ArticleActions),_ArticleStore=__webpack_require__(85),_ArticleStore2=_interopRequireDefault(_ArticleStore),_markdown=__webpack_require__(62),_Comment=(_interopRequireDefault(_markdown),__webpack_require__(86)),_Comment2=_interopRequireDefault(_Comment),_BtnBlock=__webpack_require__(89),_BtnBlock2=_interopRequireDefault(_BtnBlock),_Star=__webpack_require__(90),_Star2=_interopRequireDefault(_Star),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),_NotFound=__webpack_require__(58),_NotFound2=_interopRequireDefault(_NotFound),_Approve=__webpack_require__(93),Article=(_interopRequireDefault(_Approve),function(_React$Component){function Article(props){_classCallCheck(this,Article);var _this=_possibleConstructorReturn(this,(Article.__proto__||Object.getPrototypeOf(Article)).call(this,props));return _this.state=_ArticleStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Article,_React$Component),_createClass(Article,[{key:"componentDidMount",value:function(){_ArticleStore2["default"].listen(this.onChange),_ArticleActions2["default"].getArticle(this.props.params.id)}},{key:"componentWillUnmount",value:function(){_ArticleStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps.params,this.props.params)||_ArticleActions2["default"].getArticle(this.props.params.id)}},{key:"onChange",value:function(state){this.setState(state),$(".mon-abbr-back").css("background-image","url("+this.state.abbreviations+")")}},{key:"handleClick",value:function(option){if(1===option)this.setState({stars:this.state.stars+1});else{var stars=this.state.stars-1;this.setState({stars:stars>0?stars:0})}}},{key:"approveClick",value:function(option){0===option?this.setState({approve:this.state.approve+1}):this.setState({disapprove:this.state.disapprove+1})}},{key:"render",value:function(){var Tags=this.state.tags.map(function(data,index){return _react2["default"].createElement(_reactRouter.Link,{key:index,to:"/tags/"+data,className:"mon-article-tag"},data)}),Article=void 0,Aside=void 0,Abbr=void 0,boundClick=this.handleClick.bind(this,1),subClick=this.handleClick.bind(this,0);this.approveClick.bind(this,0),this.approveClick.bind(this,1);return this.state.article?(Abbr=_react2["default"].createElement("div",{className:"mon-abbr"},_react2["default"].createElement("div",{className:"mon-abbr-back"}),_react2["default"].createElement("div",{className:"mon-abbr-content"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},_react2["default"].createElement("p",{className:"mon-article-title"},this.state.title),_react2["default"].createElement("div",{className:"mon-article-detail media"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},_react2["default"].createElement("img",{src:this.state.createUserAvatar||"/img/default.png",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+this.state.createUserDomain},this.state.createUser),_react2["default"].createElement(_Star2["default"],{star:this.props.params.id,column:"article",stared:this.state.stared,plusClick:boundClick,subClick:subClick}),this.state.stars,_react2["default"].createElement("p",{className:"mon-detail-time"},this.state.createTime)))))),Article=_react2["default"].createElement("div",{className:"raw animated fadeInUp clearfix"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-xs-12 col-md-offset-2 mon-article"},_react2["default"].createElement("div",{ref:"content",className:"mon-article-content",dangerouslySetInnerHTML:{__html:this.state.content}}),_react2["default"].createElement("div",{className:"mon-article-tags"},Tags),_react2["default"].createElement(_Comment2["default"],{id:this.props.params.id,type:"article"}))),Aside=_react2["default"].createElement("div",{className:"raw clearfix"},_react2["default"].createElement("div",{className:"col-md-8 col-sm-12 col-md-offset-2 col-xs-12 mon-no-padding"},_react2["default"].createElement("div",{className:"panel panel-default"},_react2["default"].createElement("div",{className:"panel-body media"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement("a",{href:"/member/"+this.state.createUserDomain,className:"mon-article-user"},_react2["default"].createElement("img",{src:this.state.createUserAvatar||"/img/default.png",alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement("div",{className:"media-heading"},_react2["default"].createElement("a",{href:"/member/"+this.state.createUserDomain,className:"mon-user-name"},this.state.createUser)),_react2["default"].createElement("p",null,this.state.createUserIntro))))))):Article=this.state.loading?_react2["default"].createElement(_Loading2["default"],null):_react2["default"].createElement(_NotFound2["default"],{state:"404 Not Found"}),_react2["default"].createElement("div",null,Abbr,_react2["default"].createElement("div",{className:"container"},Article,Aside,_react2["default"].createElement(_BtnBlock2["default"],null)))}}]),Article}(_react2["default"].Component));exports["default"]=Article},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ArticleActions=function(){function ArticleActions(){_classCallCheck(this,ArticleActions),this.generateActions("getArticleSuccess")}return _createClass(ArticleActions,[{key:"getArticle",value:function(id){var _this=this;$.ajax({url:"/api/article/"+id,type:"get",cache:!1}).done(function(data){_this.actions.getArticleSuccess(data)}).fail(function(){toastr.error("获取文章失败")})}}]),ArticleActions}();exports["default"]=_alt2["default"].createActions(ArticleActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ArticleActions=__webpack_require__(84),_ArticleActions2=_interopRequireDefault(_ArticleActions),ArticleStore=function(){function ArticleStore(){_classCallCheck(this,ArticleStore),this.bindActions(_ArticleActions2["default"]),this.article=!1,this.loading=!0,this.error=!1,this.approve=0,this.disapprove=0,this.abbreviations="",this.content,this.title="",this.summary="",this.createUser="",this.createUserAvatar="",this.createTime="",this.createUserDomain="",this.createUserIntro="",this.tags=[],this.stars=0,this.stared="false",this.approved=2}return _createClass(ArticleStore,[{key:"onGetArticleSuccess",value:function(data){this.loading=!1,200===data.code?(this.article=!0,this.approve=data.raw.article.approve,this.disapprove=data.raw.article.disapprove,this.abbreviations=data.raw.article.abbreviations||"/img/abbreviations.png",this.content=data.raw.article.content,this.title=data.raw.article.title,this.summary=data.raw.article.summary||"这个文章没有简介，呜呜",this.createUser=data.raw.user.username,this.createUserAvatar=data.raw.user.avatar_url,this.createUserDomain=data.raw.user.domain,this.tags=data.raw.article.tags,this.createUserIntro=data.raw.user.introduce,this.createTime=new Date(data.raw.article.create_time).toLocaleDateString("en-US"),this.stars=data.raw.article.stars,this.stared=data.raw.stared.toString(),this.approved=data.raw.approved):404===data.code?toastr.warning(data.meta):500===data.code&&(toastr.error("服务器错误"),this.error=!0)}}]),ArticleStore}();exports["default"]=_alt2["default"].createStore(ArticleStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=(__webpack_require__(32),__webpack_require__(3)),_CommentActions=__webpack_require__(87),_CommentActions2=_interopRequireDefault(_CommentActions),_CommentStore=__webpack_require__(88),_CommentStore2=_interopRequireDefault(_CommentStore),Comment=function(_React$Component){function Comment(props){_classCallCheck(this,Comment);var _this=_possibleConstructorReturn(this,(Comment.__proto__||Object.getPrototypeOf(Comment)).call(this,props));return _this.state=_CommentStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Comment,_React$Component),_createClass(Comment,[{key:"componentDidMount",value:function(){_CommentStore2["default"].listen(this.onChange),_CommentActions2["default"].getComment(this.props.id,0),_CommentActions2["default"].getToken()}},{key:"componentDidUpdate",value:function(prevProps){prevProps.id!==this.props.id&&_CommentActions2["default"].getComment(this.props.id,0)}},{key:"componentWillUnmount",value:function(){_CommentStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){var reg=/\s/;if(""===this.state.comment||reg.test(this.state.comment))toastr.warning("你还没有写任何东西啊！！！");else{var params={content:this.state.comment,create_time:(new Date).getTime(),type:this.props.type,con_id:this.props.id};_CommentActions2["default"].postComment(params,this.state.token)}}},{key:"getComment",value:function(option){0===option?(_CommentActions2["default"].changeSkip(0),_CommentActions2["default"].getComment(this.props.id,this.state.skip-10)):(_CommentActions2["default"].changeSkip(1),_CommentActions2["default"].getComment(this.props.id,this.state.skip+10))}},{key:"render",value:function(){var CommentList=void 0;return CommentList=this.state.commentList.length>0?this.state.commentList.map(function(data){return _react2["default"].createElement("li",{key:data.comment._id,className:"clearfix mon-comment-item"},_react2["default"].createElement("div",{className:"col-md-1"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading",width:"40"}))),_react2["default"].createElement("div",{className:"col-md-11"},_react2["default"].createElement("div",null,_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain,className:"mon-user-name"},data.user.username),_react2["default"].createElement("span",{className:"pull-right"},new Date(data.comment.create_time).toLocaleDateString())),_react2["default"].createElement("article",null,data.comment.content)))}):_react2["default"].createElement("p",{className:"text-danger"},"没有评论了"),_react2["default"].createElement("div",{className:"row mon-comment"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("textarea",{name:"comment",className:"form-control",rows:"5",placeholder:"输入你的大评吧！！！",onChange:_CommentActions2["default"].changeComment})),_react2["default"].createElement("div",{className:"form-group clearfix"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn btn-info pull-right",onClick:this.handleClick.bind(this)},"保存评论")),_react2["default"].createElement("input",{type:"hidden",name:"_token",value:this.state.token})),_react2["default"].createElement("p",{className:"mon-comment-title"},"评论列表"),_react2["default"].createElement("ul",{className:"mon-comment-list"},CommentList),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page",onClick:this.getComment.bind(this,0)},_react2["default"].createElement("span",{className:"fa fa-long-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page",onClick:this.getComment.bind(this,1)},_react2["default"].createElement("span",{className:"fa fa-long-arrow-right"})))}}]),Comment}(_react2["default"].Component);exports["default"]=Comment},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),CommentActions=function(){function CommentActions(){_classCallCheck(this,CommentActions),this.generateActions("getCommentSuccess","postCommentSuccess","changeComment","changeSkip","getTokenSuccess")}return _createClass(CommentActions,[{key:"getComment",value:function(id,skip){var _this=this,params={con_id:id};return skip<0?(skip=0,toastr.warning("不能在向前获取评论了"),!1):void $.ajax({url:"/api/comment",type:"post",contentType:"application/json;charset=utf-8",cache:!1,dataType:"json",data:JSON.stringify({params:params,option:{skip:skip,limit:10,sort:{create_time:-1}}})}).done(function(data){_this.actions.getCommentSuccess(data)}).fail(function(){toastr.warning("获取评论失败")})}},{key:"postComment",value:function(params,token){var _this2=this;$.ajax({url:"/api/comment",type:"put",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify({params:params,token:token})}).done(function(data){_this2.actions.postCommentSuccess(data)}).fail(function(){toastr.error("网络链接有问题   ")})}},{key:"getToken",value:function(){var _this3=this;$.ajax({url:"/api/token",type:"get"}).done(function(data){_this3.actions.getTokenSuccess(data)})}}]),CommentActions}();exports["default"]=_alt2["default"].createActions(CommentActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_CommentActions=__webpack_require__(87),_CommentActions2=_interopRequireDefault(_CommentActions),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),CommentStore=function(){function CommentStore(){_classCallCheck(this,CommentStore),this.bindActions(_CommentActions2["default"]),this.commentList=[],this.comment="",this.skip=0,this.token=""}return _createClass(CommentStore,[{key:"onGetCommentSuccess",value:function(data){200===data.code?(0===data.raw.length&&toastr.warning("没有评论了"),this.commentList=data.raw):toastr.warning("获取评论失败")}},{key:"onPostCommentSuccess",value:function(data){200===data.code?(toastr.success(data.meta),this.commentList=_react2["default"].addons.update(this.commentList,{$unshift:[data.data]})):400===data.code?toastr.error(data.meta):toastr.warning(data.meta)}},{key:"onChangeComment",value:function(event){this.comment=event.target.value}},{key:"onChangeSkip",value:function(option){0===option?this.skip=this.skip-10:this.skip=this.skip+10,this.skip<=0&&(this.skip=0)}},{key:"onGetTokenSuccess",value:function(data){200===data.code&&(this.token=data.token)}}]),CommentStore}();exports["default"]=_alt2["default"].createStore(CommentStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),
staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),BtnBlock=function(_React$Component){function BtnBlock(props){return _classCallCheck(this,BtnBlock),_possibleConstructorReturn(this,(BtnBlock.__proto__||Object.getPrototypeOf(BtnBlock)).call(this,props))}return _inherits(BtnBlock,_React$Component),_createClass(BtnBlock,[{key:"componentDidMount",value:function(){}},{key:"handlerClick",value:function(){$("html,body").animate({scrollTop:0},700)}},{key:"shareFB",value:function(){window.fbAsyncInit=function(){FB.init({appId:"1162206170473800",xfbml:!0,version:"v2.5"});var u=window.location.href;FB.ui({method:"share_open_graph",action_type:"og.likes",action_properties:JSON.stringify({object:u.toString()})},function(response){})}}},{key:"render",value:function(){return _react2["default"].createElement("div",{className:"mon-btn-block"},_react2["default"].createElement("a",{id:"_back",href:"javascript:;",className:"btn btn-default",onClick:this.handlerClick.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-up"}),_react2["default"].createElement("span",{className:"mon-btn-fix"},"回到顶部")))}}]),BtnBlock}(_react2["default"].Component);exports["default"]=BtnBlock},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_StarActions=__webpack_require__(91),_StarActions2=_interopRequireDefault(_StarActions),_StarStore=__webpack_require__(92),_StarStore2=_interopRequireDefault(_StarStore),Star=function(_React$Component){function Star(props){_classCallCheck(this,Star);var _this=_possibleConstructorReturn(this,(Star.__proto__||Object.getPrototypeOf(Star)).call(this,props));return _this.state=_StarStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Star,_React$Component),_createClass(Star,[{key:"componentDidMount",value:function(){_StarStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_StarStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option){var column=this.props.column,star_id=this.props.star;0===option?_StarActions2["default"].getStar(star_id,column,this.props.plusClick):_StarActions2["default"].unStar(star_id,column,this.props.subClick)}},{key:"render",value:function(){var stared="",option=0;return!this.state.changed&&"true"===this.props.stared||this.state.stared?(stared="mon-stared",option=1):(option=0,stared=""),_react2["default"].createElement("div",{className:"mon-star"},_react2["default"].createElement("a",{id:"substitute",href:"javascript:;",className:"fa fa-heart-o animated "+stared,onClick:this.handleClick.bind(this,option)}))}}]),Star}(_react2["default"].Component);exports["default"]=Star},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),StarActions=function(){function StarActions(){_classCallCheck(this,StarActions),this.generateActions("getStarSuccess","unStarSuccess","changeStateSuccess")}return _createClass(StarActions,[{key:"getStar",value:function(id,column,_callback){var _this=this;$.ajax({url:"/api/star",dataType:"json",type:"post",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({star_id:id,column:column})}).done(function(data){_this.actions.getStarSuccess({data:data,_callback:_callback})}).fail(function(){toastr.error("收藏不成功")})}},{key:"unStar",value:function(id,column,_callback){var _this2=this;$.ajax({url:"/api/star",dataType:"json",type:"delete",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify({star_id:id,column:column})}).done(function(data){_this2.actions.unStarSuccess({data:data,_callback:_callback})}).fail(function(){toastr.error("取消收藏不成功")})}},{key:"changeState",value:function(option){var _this3=this;this.$Dispatcher_isDispatching&&(console.log("hehe"),window.setTimeout(function(){_this3.actions.changeSuccess(option)}))}}]),StarActions}();exports["default"]=_alt2["default"].createActions(StarActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_StarActions=__webpack_require__(91),_StarActions2=_interopRequireDefault(_StarActions),StarStore=function(){function StarStore(){_classCallCheck(this,StarStore),this.bindActions(_StarActions2["default"]),this.stared=!1,this.option=0,this.changed=!1,this.btnClass="btn-primary"}return _createClass(StarStore,[{key:"onGetStarSuccess",value:function(o){var data=o.data,_callback=o._callback;switch(data.code){case 200:toastr.success("收藏成功"),this.stared=!0,this.option=1,this.changed=!0,this.btnClass="btn-danger",_callback.call(this);break;case 304:toastr.warning("你已经收藏过了");break;case 406:toastr.warning("你还没登陆");break;case 403:toastr.warning(data.meta);break;case 404:toastr.warning("没有这个用户");break;case 505:toastr.error("服务器错误")}}},{key:"unStarSuccess",value:function(o){var data=o.data,_callback=o._callback;switch(data.code){case 200:toastr.success("取消收藏成功"),this.stared=!1,this.option=0,this.changed=!0,this.btnClass="btn-primary",_callback.call(this);break;case 304:toastr.warning("你还没有收藏过");break;case 400:toastr.warning("你还没登陆");break;case 404:toastr.warning("没有这个用户");break;case 505:toastr.error("服务器错误")}}},{key:"onChangeStateSuccess",value:function(option){0===option?(this.stared=!0,this.option=1,this.btnClass="btn-danger"):(this.stared=!1,this.option=0,this.btnClass="btn-primary")}}]),StarStore}();exports["default"]=_alt2["default"].createStore(StarStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ApproveActions=__webpack_require__(94),_ApproveActions2=_interopRequireDefault(_ApproveActions),_ApproveStore=__webpack_require__(95),_ApproveStore2=_interopRequireDefault(_ApproveStore),Approve=function(_React$Component){function Approve(props){_classCallCheck(this,Approve);var _this=_possibleConstructorReturn(this,(Approve.__proto__||Object.getPrototypeOf(Approve)).call(this,props));return _this.state=_ApproveStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Approve,_React$Component),_createClass(Approve,[{key:"componentDidMount",value:function(){_ApproveStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_ApproveStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(point){return 2!==this.props.approved?void toastr.warning("你已经点赞过或踩过了"):void(0===point?_ApproveActions2["default"].approve(point,this.props._id,this.props.column,this.props.approveCallback):_ApproveActions2["default"].approve(point,this.props._id,this.props.column,this.props.disCallback))}},{key:"render",value:function(){var approved="",disapproved="";switch(this.props.approved){case 0:approved="mon-approved",disapproved=" mon-ban-approve";break;case 1:approved="mon-ban-approve",disapproved=" mon-disapproved";break;case 2:}return _react2["default"].createElement("div",{className:"mon-approve"},_react2["default"].createElement("div",null,_react2["default"].createElement("div",{className:"mon-approve-item"},_react2["default"].createElement("a",{href:"javascript:;",className:"mon-approve-click "+approved,onClick:this.handleClick.bind(this,0)},_react2["default"].createElement("span",{className:"fa fa-thumbs-o-up mon-thumb"}))),_react2["default"].createElement("div",{className:"mon-approve-item"},_react2["default"].createElement("a",{href:"javascript:;",className:"mon-approve-click-o "+disapproved,onClick:this.handleClick.bind(this,1)},_react2["default"].createElement("span",{className:"fa fa-thumbs-o-down mon-thumb"})))))}}]),Approve}(_react2["default"].Component);exports["default"]=Approve},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ApproveActions=function(){function ApproveActions(){_classCallCheck(this,ApproveActions),this.generateActions("approveSuccess")}return _createClass(ApproveActions,[{key:"approve",value:function(point,_id,column,_callback){var _this=this,params={point:point,_id:_id,column:column};$.ajax({url:"/api/approve",dataType:"json",type:"post",cache:!1,contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.approveSuccess({data:data,_callback:_callback,point:point})}).fail(function(){toastr.warning("对不起，不成功")})}}]),ApproveActions}();exports["default"]=_alt2["default"].createActions(ApproveActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ApproveActions=__webpack_require__(94),_ApproveActions2=_interopRequireDefault(_ApproveActions),ApproveStore=function(){function ApproveStore(){_classCallCheck(this,ApproveStore),this.bindActions(_ApproveActions2["default"])}return _createClass(ApproveStore,[{key:"onApproveSuccess",value:function(raw){var data=raw.data,_callback=raw._callback,point=raw.point;switch(data.code){case 200:toastr.success(data.meta),0===point?($(".mon-approve-click").addClass("mon-approved"),$(".mon-approve-click-o").addClass("mon-ban-approve")):($(".mon-approve-click-o").addClass("mon-disapproved"),$(".mon-approve-click").addClass("mon-ban-approve")),_callback.call(this);break;case 404:toastr.warning("404,就是404");break;case 406:toastr.warning("你还没登陆");break;case 500:toastr.error("服务器错误")}}}]),ApproveStore}();exports["default"]=_alt2["default"].createStore(ApproveStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_underscore=__webpack_require__(32),_ListActions=__webpack_require__(97),_ListActions2=_interopRequireDefault(_ListActions),_ListStore=__webpack_require__(98),_ListStore2=_interopRequireDefault(_ListStore),_CommonList=__webpack_require__(99),_CommonList2=_interopRequireDefault(_CommonList),List=function(_React$Component){function List(props){_classCallCheck(this,List);var _this=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this,props));return _this.state=_ListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this.column="",_this}return _inherits(List,_React$Component),_createClass(List,[{key:"componentDidMount",value:function(){_ListStore2["default"].listen(this.onChange),_ListActions2["default"].getList(this.props.params.column,this.props.params.skip),this.column=this.props.params.column}},{key:"componentWillUnmount",value:function(){_ListStore2["default"].unlisten(this.onChange)}},{key:"componentDidUpdate",value:function(prevProp){(0,_underscore.isEqual)(prevProp.params,this.props.params)||_ListActions2["default"].getList(this.column,this.props.params.skip)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var skip=void 0===this.props.params.skip?1:parseInt(this.props.params.skip),disabled="",disabledN="";1===skip?disabled="disabled":(this.state.count<6||skip>=this.state.count/6)&&(disabledN="disabled");var Page=_react2["default"].createElement("div",{className:"row mon-skip"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+this.column+"/"+(skip-1),className:"btn mon-page mon-prev-page "+disabled},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement(_reactRouter.Link,{to:"/"+this.column+"/"+(skip+1),className:"btn mon-page mon-next-page "+disabledN},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})));return _react2["default"].createElement("div",{id:"lists",className:"container mon-main"},_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-8 col-md-offset-2 col-sm-12 col-xs-12"},_react2["default"].createElement(_CommonList2["default"],{list:this.state.list,column:"/article/"}))),Page)}}]),List}(_react2["default"].Component);List.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=List},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ListActions=function(){function ListActions(){_classCallCheck(this,ListActions),this.generateActions("getListSuccess")}return _createClass(ListActions,[{key:"getList",value:function(column,skip){var _this=this,_skip=void 0===skip?1:parseInt(skip);return _skip<=0?(toastr.warning("找不到内容"),!1):void $.ajax({url:"/api/"+column,type:"post",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify({option:{skip:6*(_skip-1),limit:6,sort:{create_time:-1}}})}).done(function(data){_this.actions.getListSuccess(data)}).fail(function(){toastr.error("获取内容失败，请刷新重试")})}}]),ListActions}();exports["default"]=_alt2["default"].createActions(ListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ListActions=__webpack_require__(97),_ListActions2=_interopRequireDefault(_ListActions),ListStore=function(){function ListStore(){_classCallCheck(this,ListStore),this.bindActions(_ListActions2["default"]),this.list=[],this.count=0,this.loading=!0}return _createClass(ListStore,[{key:"onGetListSuccess",value:function(data){200===data.code?(this.list=data.raw._raw,this.count=data.raw.count,this.loading=!1):500===data.code&&toastr.error("服务器错误")}}]),ListStore}();exports["default"]=_alt2["default"].createStore(ListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),CommonList=function(_React$Component){function CommonList(props){return _classCallCheck(this,CommonList),_possibleConstructorReturn(this,(CommonList.__proto__||Object.getPrototypeOf(CommonList)).call(this,props))}return _inherits(CommonList,_React$Component),_createClass(CommonList,[{key:"render",value:function(){var column=this.props.column,List=this.props.list.map(function(data){var abbreviations=data.data.abbreviations||"/img/abbreviations.png";return _react2["default"].createElement("li",{key:data.data._id,className:"animated fadeInUp"},_react2["default"].createElement(_reactRouter.Link,{to:column+data.data._id,className:"mon-top"},_react2["default"].createElement("div",{className:"mon-overlay",style:{backgroundImage:"url("+abbreviations+")"}}),_react2["default"].createElement("div",{className:"mon-title"},_react2["default"].createElement("div",null,_react2["default"].createElement("img",{src:data.user&&data.user.avatar_url,alt:"loading"}),_react2["default"].createElement("span",null,data.user&&data.user.username),_react2["default"].createElement("span",{className:"pull-right"},new Date(data.data.create_time).toLocaleDateString())),_react2["default"].createElement("h2",null,data.data.title))))});return _react2["default"].createElement("ul",{className:"nav"},List)}}]),CommonList}(_react2["default"].Component);exports["default"]=CommonList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(32),_reactRouter=__webpack_require__(3),_Contribute=__webpack_require__(80),_Contribute2=_interopRequireDefault(_Contribute),_NotFound=__webpack_require__(58),_NotFound2=_interopRequireDefault(_NotFound),_NoticeSender=__webpack_require__(101),_NoticeSender2=_interopRequireDefault(_NoticeSender),_MemberActions=__webpack_require__(104),_MemberActions2=_interopRequireDefault(_MemberActions),_MemberStore=__webpack_require__(105),_MemberStore2=_interopRequireDefault(_MemberStore),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),Member=function(_React$Component){function Member(props){_classCallCheck(this,Member);var _this=_possibleConstructorReturn(this,(Member.__proto__||Object.getPrototypeOf(Member)).call(this,props));return _this.state=_MemberStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(Member,_React$Component),_createClass(Member,[{key:"componentDidMount",value:function(){_MemberStore2["default"].listen(this.onChange),_MemberActions2["default"].getMember(this.props.params.domain)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps.params,this.props.params)||_MemberActions2["default"].getMember(this.props.params.domain)}},{key:"componentWillUnmount",value:function(){_MemberStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(option,_id){_MemberActions2["default"].follow(option,_id)}},{key:"render",value:function(){var domain=this.props.params.domain,FollowBtn="",click=void 0,FollowInfo=void 0,Mem=void 0,contribute=null;return this.state.followed?(FollowInfo="已关注",FollowBtn="btn-default",click=this.handleClick.bind(this,1,this.state._id)):(FollowInfo="关注",FollowBtn="btn-info",click=this.handleClick.bind(this,0,this.state._id)),this.state.member?(Mem=_react2["default"].createElement("div",{className:"col-md-3 col-sm-3"},_react2["default"].createElement("div",{className:"mon-center"},_react2["default"].createElement("img",{src:this.state.avatar_url||"/img/dd9901f664234eb44f6b217e7fa04e17.jpg",width:"200",alt:"loading"})),_react2["default"].createElement("div",{className:"mon-user-name"},this.state.username),_react2["default"].createElement("div",{className:"mon-vcard-stats"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/followers",className:"mon-link"},_react2["default"].createElement("span",null,this.state.followers),_react2["default"].createElement("b",null,"Followers")),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/following",className:"mon-link"},_react2["default"].createElement("span",null,this.state.following),_react2["default"].createElement("b",null,"Following")),_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+domain+"/star",className:"mon-link"},_react2["default"].createElement("span",null,this.state.star),_react2["default"].createElement("b",null,"Star"))),_react2["default"].createElement("div",{className:"mon-center mon-member"},_react2["default"].createElement("p",{className:"text-muted mon-bg-title"},"个人简介"),_react2["default"].createElement("p",{className:"text-success bg-info mon-member-intr"},this.state.introduce),_react2["default"].createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#noticeSender"},"私信"),_react2["default"].createElement("button",{className:"btn "+FollowBtn,onClick:click},FollowInfo))),contribute=_react2["default"].createElement(_Contribute2["default"],{option:"0",domain:this.props.params.domain})):this.state.loading?Mem=_react2["default"].createElement(_Loading2["default"],null):this.state.member||this.state.error?this.state.error&&(Mem=_react2["default"].createElement(_NotFound2["default"],{state:"500 服务器错误"})):Mem=_react2["default"].createElement(_NotFound2["default"],{state:"404 Not Found"}),_react2["default"].createElement("div",{className:"container"},_react2["default"].createElement("div",{className:"row"},Mem,contribute),_react2["default"].createElement(_NoticeSender2["default"],{receiver:this.state._id}))}}]),Member}(_react2["default"].Component);Member.contextTypes={router:_react2["default"].PropTypes.func.isRequired},exports["default"]=Member},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_NoticeSenderActions=__webpack_require__(102),_NoticeSenderActions2=_interopRequireDefault(_NoticeSenderActions),_NoticeSenderStore=__webpack_require__(103),_NoticeSenderStore2=_interopRequireDefault(_NoticeSenderStore),NoticeSender=function(_React$Component){function NoticeSender(props){_classCallCheck(this,NoticeSender);var _this=_possibleConstructorReturn(this,(NoticeSender.__proto__||Object.getPrototypeOf(NoticeSender)).call(this,props));return _this.state=_NoticeSenderStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(NoticeSender,_React$Component),_createClass(NoticeSender,[{key:"componentDidMount",value:function(){_NoticeSenderStore2["default"].listen(this.onChange)}},{key:"componentWillUnmount",value:function(){_NoticeSenderStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"handleClick",value:function(){_NoticeSenderActions2["default"].postNotice(this.state.content,this.props.receiver)}},{key:"render",value:function(){var Loading=void 0;return Loading=this.state.loading?_react2["default"].createElement("div",{"class":"loader-inner ball-pulse"},_react2["default"].createElement("div",null),_react2["default"].createElement("div",null),_react2["default"].createElement("div",null)):null,_react2["default"].createElement("div",{id:"noticeSender",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","data-backdrop":"static"},_react2["default"].createElement("div",{className:"modal-dialog"},_react2["default"].createElement("div",{className:"modal-content"},_react2["default"].createElement("div",{className:"modal-header"},_react2["default"].createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},_react2["default"].createElement("span",{"aria-hidden":"true"},"×")),_react2["default"].createElement("h4",{className:"modal-title"},"私信")),_react2["default"].createElement("div",{className:"modal-body"},_react2["default"].createElement("form",{role:"form"},_react2["default"].createElement("textarea",{name:"content",rows:"10",className:"form-control",placeholder:"输入你想对他说的话",onChange:_NoticeSenderActions2["default"].changeContent})),Loading),_react2["default"].createElement("div",{className:"modal-footer"},_react2["default"].createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),_react2["default"].createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleClick.bind(this)},"提交")))))}}]),NoticeSender}(_react2["default"].Component);exports["default"]=NoticeSender},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),NoticeSenderActions=function(){function NoticeSenderActions(){_classCallCheck(this,NoticeSenderActions),this.generateActions("changeContent","postNoticeSuccess","postNoticeLoad")}return _createClass(NoticeSenderActions,[{key:"postNotice",value:function(content,receiver){var _this=this,params={params:{content:content,create_time:(new Date).getTime(),type:1,receiver:receiver}};$.ajax({url:"/api/notice",type:"post",dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify(params)}).done(function(data){_this.actions.postNoticeSuccess(data)}).fail(function(){toastr.warning("发送私信失败")})}}]),NoticeSenderActions}();exports["default"]=_alt2["default"].createActions(NoticeSenderActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_NoticeSenderActions=__webpack_require__(102),_NoticeSenderActions2=_interopRequireDefault(_NoticeSenderActions),NoticeSenderStore=function(){function NoticeSenderStore(){_classCallCheck(this,NoticeSenderStore),this.bindActions(_NoticeSenderActions2["default"]),this.content="",this.loading=!1}return _createClass(NoticeSenderStore,[{key:"onChangeContent",value:function(event){this.content=event.target.value}},{key:"onPostNoticeSuccess",value:function(data){this.loading=!1,500===data.code?toastr.warning("发送私信失败"):404===data.code?toastr.warning("用户不存在"):200===data.code&&toastr.success("发送私信成功")}},{key:"onPostNoticeLoad",value:function(){this.loading=!0}}]),NoticeSenderStore}();exports["default"]=_alt2["default"].createStore(NoticeSenderStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),MemberActions=function(){function MemberActions(){_classCallCheck(this,MemberActions),this.generateActions("getMemberSuccess","followSuccess")}return _createClass(MemberActions,[{key:"getMember",value:function(domain){var _this=this;$.ajax({url:"/api/member/"+domain,type:"get",cache:!1,contentType:"application/json;charset=utf-8"}).done(function(data){_this.actions.getMemberSuccess(data)}).fail(function(){toastr.error("获取信息失败")})}},{key:"follow",value:function(option,_id){var _this2=this,type=0===option?"post":"delete";$.ajax({url:"/api/follow",type:type,dataType:"json",contentType:"application/json;charset=utf-8",data:JSON.stringify({_id:_id}),cache:!1,timeOut:4e3}).done(function(data){_this2.actions.followSuccess(data)}).fail(function(){toastr.error("网络错误")}).error(function(){toastr.warning("操作超时")})}}]),MemberActions}();exports["default"]=_alt2["default"].createActions(MemberActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_MemberActions=__webpack_require__(104),_MemberActions2=_interopRequireDefault(_MemberActions),MemberStore=function(){function MemberStore(){_classCallCheck(this,MemberStore),this.bindActions(_MemberActions2["default"]),this.member=!1,this._id="",this.username="",this.avatar_url="",this.followers=0,this.following=0,this.contribute=0,this.article=[],this.animate=[],this.music=[],this.introduce="heh",this.star=0,this.followed=!1,this.loading=!0,this.error=!1}return _createClass(MemberStore,[{key:"onGetMemberSuccess",value:function(data){if(this.loading=!1,200===data.code){this.member=!0;var user=data.raw._raw;this._id=user._id,this.username=user.username,this.avatar_url=user.avatar_url,this.followers=user.followers.length,this.following=user.following.length,this.contribute=user.contribute.length,this.animate=user.animate,this.music=user.music,this.article=user.article,this.introduce=user.introduce,this.star=user.star.length,this.followed=data.raw.followed}else 500===data.code?(toastr.error("服务器错误"),this.error=!0):404===data.code&&toastr.warning("找不到这个人")}},{key:"onFollowSuccess",value:function(data){switch(data.code){case 200:toastr.success(data.meta),this.followed=!this.followed;break;case 304:case 400:toastr.warning(data.meta);break;case 404:toastr.warning(data.meta);break;case 500:toastr.error(data.meta)}}}]),MemberStore}();exports["default"]=_alt2["default"].createStore(MemberStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_ConList=__webpack_require__(107),_ConList2=_interopRequireDefault(_ConList),ConArticle=function(_React$Component){function ConArticle(props){return _classCallCheck(this,ConArticle),_possibleConstructorReturn(this,(ConArticle.__proto__||Object.getPrototypeOf(ConArticle)).call(this,props))}return _inherits(ConArticle,_React$Component),_createClass(ConArticle,[{key:"render",value:function(){var Result=void 0;return void 0!==this.props.params.domain&&(Result=_react2["default"].createElement(_ConList2["default"],{tab:this.props.params.column||"article",domain:this.props.params.domain})),_react2["default"].createElement("div",null,Result)}}]),ConArticle}(_react2["default"].Component);exports["default"]=ConArticle},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),_underscore=__webpack_require__(32),_ConListActions=__webpack_require__(108),_ConListActions2=_interopRequireDefault(_ConListActions),_ConListStore=__webpack_require__(109),_ConListStore2=_interopRequireDefault(_ConListStore),ConList=function(_React$Component){function ConList(props){_classCallCheck(this,ConList);var _this=_possibleConstructorReturn(this,(ConList.__proto__||Object.getPrototypeOf(ConList)).call(this,props));return _this.state=_ConListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(ConList,_React$Component),_createClass(ConList,[{key:"componentWillUnmount",value:function(){_ConListStore2["default"].unlisten(this.onChange)}},{key:"componentDidMount",value:function(){_ConListStore2["default"].listen(this.onChange);var props=this.props;_ConListActions2["default"].getConList(props.tab+"s",props.domain,0)}},{key:"componentDidUpdate",value:function(prevProps){(0,_underscore.isEqual)(prevProps,this.props)||_ConListActions2["default"].getConList(this.props.tab+"s",this.props.domain,0)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"prevPage",value:function(){var props=this.props;_ConListActions2["default"].getConList(props.tab+"s",props.domain,this.state.skip-1),_ConListActions2["default"].changeSkip(0)}},{key:"nextPage",value:function(){var props=this.props;_ConListActions2["default"].getConList(props.option,props.tab,props.domain,this.state.skip+1),_ConListActions2["default"].changeSkip(1)}},{key:"render",value:function(){var option=this.props.tab,List=void 0,SkipPage=void 0,disabled="",disabledN="";return 0===this.state.skip&&(disabled="disabled"),(this.state.skip>=this.state.count/5-1||this.state.count<4)&&(disabledN="disabled"),this.state.contributes.length>0?(List=this.state.contributes.map(function(data,index){return _react2["default"].createElement("div",{className:"media mon-conlist-item",key:"contribute:"+data.data._id},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id},_react2["default"].createElement("img",{src:data.data.abbreviations||"/img/abbreviations.png",alt:"loading",width:"80"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/"+option+"/"+data.data._id,className:"text-primary mon-conlist-title"},data.data.title),_react2["default"].createElement("p",{className:"text-muted mon-conlist-info"},_react2["default"].createElement("span",null,"投稿日期：",new Date(data.data.create_time).toLocaleDateString()),_react2["default"].createElement("span",null,"浏览次数：",data.data.browser_count)),_react2["default"].createElement("p",{className:"text-muted"},data.data.summary)),_react2["default"].createElement("span",{className:"mon-conlist-index"},index+1))}),SkipPage=_react2["default"].createElement("div",{className:"mon-skip"},_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-prev-page "+disabled,onClick:this.prevPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-left"})),_react2["default"].createElement("a",{href:"javascript:;",className:"btn mon-page mon-next-page "+disabledN,onClick:this.nextPage.bind(this)},_react2["default"].createElement("span",{className:"fa fa-arrow-right"})))):(List=_react2["default"].createElement("p",{className:"bg-info mon-padding"},"尚没有任何投稿"),SkipPage=null),_react2["default"].createElement("div",{className:"animated flipInX"},List,SkipPage)}}]),ConList}(_react2["default"].Component);exports["default"]=ConList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),ConListActions=function(){function ConListActions(){_classCallCheck(this,ConListActions),this.generateActions("getConListSuccess","subSkip","plusSkip")}return _createClass(ConListActions,[{key:"getConList",value:function(tab,domain,skip){var _this=this,params={option:{skip:6*skip,limit:6,sort:{create_time:1}},query:"domain",value:domain},url="/api/"+tab;$.ajax({url:url,type:"post",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,data:JSON.stringify(params)}).done(function(data){_this.actions.getConListSuccess(data)}).fail(function(data){toastr.error("网络链接有问题")})}},{key:"changeSkip",value:function(option){0===option?this.actions.subSkip():1===option&&this.actions.plusSkip()}}]),ConListActions}();exports["default"]=_alt2["default"].createActions(ConListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_ConListActions=__webpack_require__(108),_ConListActions2=_interopRequireDefault(_ConListActions),ConListStore=function(){function ConListStore(){_classCallCheck(this,ConListStore),this.bindActions(_ConListActions2["default"]),this.contributes=[],this.count=0,this.skip=0}return _createClass(ConListStore,[{key:"onGetConListSuccess",value:function(data){200===data.code?(this.contributes=data.raw._raw,this.count=data.raw.count):500===data.code&&toastr.error("服务器错误")}},{key:"onSubSkip",value:function(){this.skip=this.skip-1}},{key:"onPlusSkip",value:function(){this.skip=this.skip+1}}]),ConListStore}();exports["default"]=_alt2["default"].createStore(ConListStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(3),MemberCenter=function(_React$Component){function MemberCenter(){return _classCallCheck(this,MemberCenter),_possibleConstructorReturn(this,(MemberCenter.__proto__||Object.getPrototypeOf(MemberCenter)).apply(this,arguments))}return _inherits(MemberCenter,_React$Component),_createClass(MemberCenter,[{key:"render",value:function(){return _react2["default"].createElement("div",{className:"container mon-main"},_react2["default"].createElement(_reactRouter.RouteHandler,null))}}]),MemberCenter}(_react2["default"].Component);exports["default"]=MemberCenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_MemberFollowActions=__webpack_require__(112),_MemberFollowActions2=_interopRequireDefault(_MemberFollowActions),_MemberFollowStore=__webpack_require__(113),_MemberFollowStore2=_interopRequireDefault(_MemberFollowStore),_Loading=__webpack_require__(33),_Loading2=_interopRequireDefault(_Loading),_reactRouter=__webpack_require__(3),_NotFound=__webpack_require__(58),MemberFollow=(_interopRequireDefault(_NotFound),function(_React$Component){function MemberFollow(props){_classCallCheck(this,MemberFollow);var _this=_possibleConstructorReturn(this,(MemberFollow.__proto__||Object.getPrototypeOf(MemberFollow)).call(this,props));return _this.state=_MemberFollowStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(MemberFollow,_React$Component),_createClass(MemberFollow,[{key:"componentDidMount",value:function(){_MemberFollowStore2["default"].listen(this.onChange),_MemberFollowActions2["default"].getFollow(this.props.params.domain,this.props.params.follow,this.props.params.skip)}},{key:"componentWillUnmount",value:function(){_MemberFollowStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var Follows=void 0;return this.state.follows.length>0&&this.state.loading===!1&&this.state.error===!1?Follows=this.state.follows.map(function(data){return _react2["default"].createElement("div",{key:data.user._id,className:"media mon-follow-item col-md-3 animated fadeIn"},_react2["default"].createElement("div",{className:"media-left"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},_react2["default"].createElement("img",{src:data.user.avatar_url,alt:"loading"}))),_react2["default"].createElement("div",{className:"media-body"},_react2["default"].createElement(_reactRouter.Link,{to:"/member/"+data.user.domain},data.user.username),_react2["default"].createElement("p",{className:"text-muted mon-follow-intr"},data.user.introduce)))}):this.state.loading===!0?Follows=_react2["default"].createElement(_Loading2["default"],null):0===this.state.follows.length&&(Follows=_react2["default"].createElement("p",{className:"bg-info mon-bg-title mon-padding"},"没有，就是没有，你咬我")),_react2["default"].createElement("div",{className:"raw"},Follows)}}]),MemberFollow}(_react2["default"].Component));exports["default"]=MemberFollow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),MemberFollowActions=function(){function MemberFollowActions(){_classCallCheck(this,MemberFollowActions),this.generateActions("getFollowSuccess","getFollowFail")}return _createClass(MemberFollowActions,[{key:"getFollow",value:function(domain,follow,skip){var _this=this,url="/api/"+follow,params={where:{domain:domain},option:{skip:skip||0,limit:10}};$.ajax({url:url,type:"post",contentType:"application/json;charset=utf-8",dataType:"json",cache:!1,data:JSON.stringify(params),timeout:1e4}).done(function(data){_this.actions.getFollowSuccess(data)}).fail(function(){_this.actions.getFollowFail()}).error(function(){_this.actions.getFollowFail()})}}]),MemberFollowActions}();exports["default"]=_alt2["default"].createActions(MemberFollowActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_MemberFollowActions=__webpack_require__(112),_MemberFollowActions2=_interopRequireDefault(_MemberFollowActions),MemberFollowStore=function(){function MemberFollowStore(){_classCallCheck(this,MemberFollowStore),this.bindActions(_MemberFollowActions2["default"]),this.follows=[],this.loading=!0,this.error=!1}return _createClass(MemberFollowStore,[{key:"onGetFollowSuccess",value:function(data){this.loading=!1,200===data.code?this.follows=data.raw:400===data.code?toastr.warning(data.meta):500===data.code&&(this.error=!0,toastr.error(data.meta))}},{key:"onGetFollowFail",value:function(){this.loading=!1,this.error=!0}}]),MemberFollowStore}();exports["default"]=_alt2["default"].createStore(MemberFollowStore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){
var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_TagListActions=__webpack_require__(115),_TagListActions2=_interopRequireDefault(_TagListActions),_TagListStore=__webpack_require__(116),_TagListStore2=_interopRequireDefault(_TagListStore),_CommonList=__webpack_require__(99),_CommonList2=_interopRequireDefault(_CommonList),TagList=function(_React$Component){function TagList(props){_classCallCheck(this,TagList);var _this=_possibleConstructorReturn(this,(TagList.__proto__||Object.getPrototypeOf(TagList)).call(this,props));return _this.state=_TagListStore2["default"].getState(),_this.onChange=_this.onChange.bind(_this),_this}return _inherits(TagList,_React$Component),_createClass(TagList,[{key:"componentDidMount",value:function(){_TagListStore2["default"].listen(this.onChange),_TagListActions2["default"].getList(this.props.params.tag)}},{key:"componentWillUnmount",value:function(){_TagListStore2["default"].unlisten(this.onChange)}},{key:"onChange",value:function(state){this.setState(state)}},{key:"render",value:function(){var List=null;return List=this.state.list.length>0?_react2["default"].createElement(_CommonList2["default"],{list:this.state.list,column:"/article/"}):_react2["default"].createElement("div",{className:"mon-table"},_react2["default"].createElement("div",null,"找不到 T_T")),_react2["default"].createElement("div",{id:"lists",className:"container mon-main"},_react2["default"].createElement("div",{className:"row"},_react2["default"].createElement("div",{className:"col-md-8 col-md-offset-2 col-sm-12 col-xs-12"},_react2["default"].createElement("span",{className:"mon-article-tag"},this.props.params.tag),List)))}}]),TagList}(_react2["default"].Component);exports["default"]=TagList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),TagListActions=function(){function TagListActions(){_classCallCheck(this,TagListActions),this.generateActions("getListSuccess")}return _createClass(TagListActions,[{key:"getList",value:function(tag){var _this=this;$.ajax({url:"/api/articles/tag/"+tag,type:"get",dataType:"json",contentType:"application/json;charset=utf-8",cache:!1,timeOut:5e3}).done(function(data){_this.actions.getListSuccess(data)}).fail(function(){toastr.warning("加载不了")})}}]),TagListActions}();exports["default"]=_alt2["default"].createActions(TagListActions)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alt=__webpack_require__(8),_alt2=_interopRequireDefault(_alt),_TagListActions=__webpack_require__(115),_TagListActions2=_interopRequireDefault(_TagListActions),TagListStore=function(){function TagListStore(){_classCallCheck(this,TagListStore),this.bindActions(_TagListActions2["default"]),this.list=[]}return _createClass(TagListStore,[{key:"onGetListSuccess",value:function(data){console.log(data),200===data.code?this.list=data.raw._raw:toastr.warning(data.meta)}}]),TagListStore}();exports["default"]=_alt2["default"].createStore(TagListStore)}]);